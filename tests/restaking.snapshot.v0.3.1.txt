
Running tests of program `restaking`!

Running test suite: "/Anchor.toml"

yarn run v1.22.22
$ /node_modules/.bin/ts-mocha -p ./tsconfig.json -t 1000000 tests/restaking.ts
[CI] [keychain] [debug] loaded local wallet
[CI] [keychain] [info] WALLET                   GiDkDCZjVC8Nk1Fd457qGSV2g3MQX62n7cV5CvgFyGfF
[CI] [keychain] [notice] loading restaking program keypairs
[CI] [keychain] [debug] ledger keypairs (0):
[CI] [keychain] [debug] local keypairs (15):     PROGRAM, FRAGSOL_MINT, NSOL_MINT, ADMIN, FUND_MANAGER, MOCK_USER1, MOCK_USER2, MOCK_USER3, MOCK_USER4, MOCK_USER5, MOCK_USER6, MOCK_USER7, MOCK_USER8, MOCK_USER9, MOCK_USER10
[CI] [keychain] [notice] applying keypairs to restaking program workspace:
[CI] [keychain] [debug] checking /programs/restaking/src/constants/local.rs
[CI] [keychain] [debug] checking /target/deploy/restaking-keypair.json
[CI] [keychain] [notice] loaded restaking program keypairs' pubkey:
[CI] [keychain] [info] PROGRAM                  4qEHCzsLFUnw8jmhmRSmAK5VhZVoSD1iVqukAf92yHi5
[CI] [keychain] [info] FRAGSOL_MINT             Cs29UiPhAkM2v8fZW7qCJ1UjhF1UAhgrsKj61yGGYizD
[CI] [keychain] [info] NSOL_MINT                4noNmx2RpxK4zdr68Fq1CYM5VhN4yjgGZEFyuB7t2pBX
[CI] [keychain] [info] ADMIN                    9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [keychain] [info] FUND_MANAGER             5FjrErTQ9P1ThYVdY9RamrPUCQGTMCcczUjH21iKzbwx
[CI] [keychain] [info] MOCK_USER1               24z2hejEqmQGpPKU3q2xZe1ZuAzPsNeEU55KT3k629e6
[CI] [keychain] [info] MOCK_USER2               3VPkgde6n22TAD5w69yZbqGJ8ELGdSt7K2kSUjvGYWnR
[CI] [keychain] [info] MOCK_USER3               E48eqXgsHCSF9MkNvXZ3krHbcBjtsfw95a91hbzenUzv
[CI] [keychain] [info] MOCK_USER4               4zFAD5DEJtteKEeHpRYghwopiS4cJuC2wxA998nLaxgN
[CI] [keychain] [info] MOCK_USER5               HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [keychain] [info] MOCK_USER6               71TKdMbS3vwQH8WxVmrpZ1JZSXdixyScdSwwawDCAj9C
[CI] [keychain] [info] MOCK_USER7               A5jsUAujiuoW8Lc5pb6R7XYrD5HH2gTBpMZDCpDMqxcs
[CI] [keychain] [info] MOCK_USER8               6tqUdVfNE9SUuipcFiKQBZjyqNa99gc4KSC4CLEZShcQ
[CI] [keychain] [info] MOCK_USER9               2UhB1hD8ihBaxAQbRF48rWXPx6g3EFvEnmeMiour6777
[CI] [keychain] [info] MOCK_USER10              2PLskyDxJ4ZpPccrjHQFh3V9aPpu5JtvjvJwdobqr8Zh


[CI] [restaking] [debug] fragSOL metadata file:
> https://quicknode.quicknode-ipfs.com/ipfs/QmcueajXkNzoYRhcCv323PMC8VVGiDvXaaVXkMyYcyUSRw
> {"name":"Fragmetric Restaked SOL","symbol":"fragSOL","description":"fragSOL is Solana's first native LRT that provides optimized restaking rewards.","image":"https://fragmetric-assets.s3.ap-northeast-2.amazonaws.com/fragsol.png"}
[CI] [restaking] [notice] fragSOL token mint created with extensions              Cs29UiPhAkM2v8fZW7qCJ1UjhF1UAhgrsKj61yGGYizD
  ✔ create fragSOL token mint with extensions (583ms)
[CI] [restaking] [debug] current token metadata:
> {"updateAuthority":"9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL","mint":"Cs29UiPhAkM2v8fZW7qCJ1UjhF1UAhgrsKj61yGGYizD","name":"Fragmetric Restaked SOL","symbol":"fragSOL","uri":"https://quicknode.quicknode-ipfs.com/ipfs/QmcueajXkNzoYRhcCv323PMC8VVGiDvXaaVXkMyYcyUSRw","additionalMetadata":[["description","fragSOL is Solana's first native LRT that provides optimized restaking rewards."]]}
[CI] [restaking] [debug] fragSOL metadata file:
> {"name":"Fragmetric Restaked SOL","symbol":"fragSOL","description":"fragSOL is Solana's first native LRT that provides optimized restaking rewards.","image":"https://fragmetric-assets.s3.ap-northeast-2.amazonaws.com/fragsol.png"}
[CI] [restaking] [debug] will update token metadata:
> {"updateAuthority":"9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL","mint":"Cs29UiPhAkM2v8fZW7qCJ1UjhF1UAhgrsKj61yGGYizD","name":"Fragmetric Restaked SOL","symbol":"fragSOL","uri":"https://quicknode.quicknode-ipfs.com/ipfs/QmcueajXkNzoYRhcCv323PMC8VVGiDvXaaVXkMyYcyUSRw","additionalMetadata":[["description","fragSOL is Solana's first native LRT that provides optimized restaking rewards."]]}
[CI] [restaking] [notice] updated token metadata:
> {
  "updateAuthority": "9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL",
  "mint": "Cs29UiPhAkM2v8fZW7qCJ1UjhF1UAhgrsKj61yGGYizD",
  "name": "Fragmetric Restaked SOL",
  "symbol": "fragSOL",
  "uri": "https://quicknode.quicknode-ipfs.com/ipfs/QmcueajXkNzoYRhcCv323PMC8VVGiDvXaaVXkMyYcyUSRw",
  "additionalMetadata": [
    [
      "description",
      "fragSOL is Solana's first native LRT that provides optimized restaking rewards."
    ]
  ]
}
  ✔ update fragSOL token metadata (458ms)
[CI] [restaking] [notice] initialized fragSOL extra account meta list
  ✔ initialize fragSOL extra account meta list (482ms)
[CI] [restaking] [notice] nSOL token mint created                                 4noNmx2RpxK4zdr68Fq1CYM5VhN4yjgGZEFyuB7t2pBX
  ✔ create nSOL token mint (465ms)
[CI] [restaking] [notice] fragSOL fund account created                            7xraTDZ4QWgvgJ5SCZp4hyJN2XEfyGRySQjdG49iZfU8
[CI] [restaking] [notice] fragSOL fund account updated                            7xraTDZ4QWgvgJ5SCZp4hyJN2XEfyGRySQjdG49iZfU8
  ✔ initialize fund accounts (936ms)
[CI] [restaking] [notice] nSOL token pool created                                 GVqitNXDVx1PdG47PMNeNEoHSEnVNqybW7E8NckmSJ2R
  ✔ initialize normalized token pool (470ms)
[CI] [restaking] [notice] jito VRT fee account created                            DBPsffpAe6zpLXfVRhY2UHC5a9qzKyKzxg9UxtXX9mY
[CI] [restaking] [notice] jito nSOL account created                               4VUa5RzLdqabpqCDcCQsZCWBrEX7XdDSfSWk7b8F4JEM
[CI] [restaking] [notice] jito VRT account created                                AXGvTH266SWi6oqjGB6UcANHTCEgUViWtZMH25qFCCCS
  ✔ initialize jito restaking protocol account (476ms)
[CI] [restaking] [debug] running batched instructions                            35/35
[CI] [restaking] [notice] updated reward account version from=0, to=34, target=34 EujaAdDdHVBbSYDyX85TjRzdkxdEVoJYcd1s2bNNB6Xs
  ✔ initialize reward accounts (496ms)
[CI] [restaking] [notice] initialized fragSOL fund configuration                  7xraTDZ4QWgvgJ5SCZp4hyJN2XEfyGRySQjdG49iZfU8
[CI] [restaking] [notice] updated fragSOL fund configuration                      7xraTDZ4QWgvgJ5SCZp4hyJN2XEfyGRySQjdG49iZfU8
  ✔ initialize fund and supported tokens configuration (908ms)
[CI] [restaking] [notice] configured nSOL supported tokens                        GVqitNXDVx1PdG47PMNeNEoHSEnVNqybW7E8NckmSJ2R
  ✔ initialize normalized token pool supported tokens configuration (465ms)
[CI] [restaking] [notice] configured fragSOL reward pools and reward              EujaAdDdHVBbSYDyX85TjRzdkxdEVoJYcd1s2bNNB6Xs
  ✔ initialize reward pools and rewards (459ms)
[CI] [restaking] [notice] settled fragSOL reward to pool=1/bonus, rewardId=0/fPoint, amount=0 (decimals=4)
  ✔ settle fPoint reward (zeroing) (1435ms)
  ✔ try airdrop SOL to mock accounts (644ms)
[CI] [restaking] [notice] operator updated prices: 1.000000000 SOL/fragSOL
[CI] [restaking] [notice] user deposited: 10.000000000 SOL                        24z2hejEqmQGpPKU3q2xZe1ZuAzPsNeEU55KT3k629e6
[CI] [restaking] [info] user fragSOL balance: 10.000000000 fragSOL              24z2hejEqmQGpPKU3q2xZe1ZuAzPsNeEU55KT3k629e6
[CI] [restaking] [notice] operator updated prices: 1.000000000 SOL/fragSOL
  ✔ user1 deposits SOL without metadata to mint fragSOL (1231ms)
[CI] [restaking] [notice] operator updated prices: 1.000000000 SOL/fragSOL
[CI] [restaking] [notice] user deposited: 6.000000000 SOL                         3VPkgde6n22TAD5w69yZbqGJ8ELGdSt7K2kSUjvGYWnR
[CI] [restaking] [info] user fragSOL balance: 6.000000000 fragSOL               3VPkgde6n22TAD5w69yZbqGJ8ELGdSt7K2kSUjvGYWnR
[CI] [restaking] [notice] user deposited: 4.000000000 SOL                         3VPkgde6n22TAD5w69yZbqGJ8ELGdSt7K2kSUjvGYWnR
[CI] [restaking] [info] user fragSOL balance: 10.000000000 fragSOL              3VPkgde6n22TAD5w69yZbqGJ8ELGdSt7K2kSUjvGYWnR
  ✔ user2 deposits SOL with metadata to mint fragSOL (1414ms)
  ✔ user2 cannot cheat metadata
  ✔ signature verification has to fail when after expiration
[CI] [restaking] [debug] bSOL airdropped (+100000): 85577.223890257 bSOL         AyejRb7s9rVFGYx6E7jTHFZyywXMDakodCR5X7uSuGBN
[CI] [restaking] [debug] bSOL airdropped (+100000): 85577.223890257 bSOL         BNUfZiKtDjoV7g1HQpwo46FDnao5qVAJkpAuwUqJTy5W
[CI] [restaking] [debug] jitoSOL airdropped (+100000): 86775.387255582 jitoSOL   8npF2w7J2nu6jAP8ajxi1jDt7yjdWFdQi9SBtzQJq1uq
[CI] [restaking] [debug] jitoSOL airdropped (+100000): 86775.387255582 jitoSOL   A4dK4AatPEtgKgg61jpeSsbQ6vzcPxiCoDLMZ5h6MGR9
[CI] [restaking] [debug] mSOL airdropped (+100000): 81061.093043721 mSOL         DYmY6Shdin4UERpfDkzSoFcJaTp8aYeQdeYqztzLYXuR
[CI] [restaking] [debug] mSOL airdropped (+100000): 81061.093043721 mSOL         8JqX8YRrnnMxoQo1QefDQYeQWkFpiQDbSAW2nYLREwjT
  ✔ try airdrop SOL and supported tokens to mock accounts (2448ms)
[CI] [restaking] [notice] operator updated prices: 1.000000000 SOL/fragSOL
[CI] [restaking] [notice] user deposited: 10.000000000 bSOL                       AyejRb7s9rVFGYx6E7jTHFZyywXMDakodCR5X7uSuGBN
[CI] [restaking] [info] user fragSOL balance: 11.685352180 fragSOL              E48eqXgsHCSF9MkNvXZ3krHbcBjtsfw95a91hbzenUzv
  ✔ user3 deposits supported token without metadata to mint fragSOL (785ms)
  ✔ user3 fails to deposit too many tokens
[CI] [restaking] [notice] operator updated prices: 1.000000000 SOL/fragSOL
[CI] [restaking] [notice] user deposited: 6.000000000 mSOL                        8JqX8YRrnnMxoQo1QefDQYeQWkFpiQDbSAW2nYLREwjT
[CI] [restaking] [info] user fragSOL balance: 7.401824688 fragSOL               4zFAD5DEJtteKEeHpRYghwopiS4cJuC2wxA998nLaxgN
[CI] [restaking] [notice] user deposited: 4.000000000 mSOL                        8JqX8YRrnnMxoQo1QefDQYeQWkFpiQDbSAW2nYLREwjT
[CI] [restaking] [info] user fragSOL balance: 12.336374480 fragSOL              4zFAD5DEJtteKEeHpRYghwopiS4cJuC2wxA998nLaxgN
  ✔ user4 deposits supported token with metadata to mint fragSOL (1390ms)
  ✔ try airdrop SOL to mock accounts (636ms)
[CI] [restaking] [notice] operator updated prices: 1.000000000 SOL/fragSOL
[CI] [restaking] [notice] user deposited: 20.000000000 SOL                        HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [info] user fragSOL balance: 20.000000000 fragSOL              HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [notice] user requested withdrawal: 4.000000000 fragSOL #1/1     HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [info] user fragSOL balance: 16.000000000 fragSOL              HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [notice] user requested withdrawal: 4.000000000 fragSOL #2/1     HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [info] user fragSOL balance: 12.000000000 fragSOL              HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [notice] user requested withdrawal: 4.000000000 fragSOL #3/1     HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [info] user fragSOL balance: 8.000000000 fragSOL               HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [notice] user requested withdrawal: 4.000000000 fragSOL #4/1     HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [info] user fragSOL balance: 4.000000000 fragSOL               HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [notice] operator updated prices: 1.000000000 SOL/fragSOL
  ✔ user5 deposits and withdraws (3104ms)
[CI] [restaking] [notice] operator updated prices: 1.000000000 SOL/fragSOL
[CI] [restaking] [notice] user canceled withdrawal request: #1                    HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [info] user fragSOL balance: 8.000000000 fragSOL               HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [notice] user canceled withdrawal request: #3                    HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [info] user fragSOL balance: 12.000000000 fragSOL              HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
  ✔ user5 cancels withdrawal request (1437ms)
[CI] [restaking] [notice] operator processed withdrawal job: #1                   HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
[CI] [restaking] [notice] operator processed withdrawal job: #2                   9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
  ✔ user5 (operator) processes queued withdrawals (2310ms)
[CI] [restaking] [notice] user withdrew: 3.996000000 SOL #2                       HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
  ✔ user5 can withdraw SOL (486ms)
[CI] [restaking] [notice] user withdrew: 3.996000000 SOL #4                       HpbPhk7yNyLWRcoutGhnp8bXwzkiAf4iM5DTj48QMQtG
  ✔ user5 cannot request withdrawal when withdrawal is disabled (1406ms)
  ✔ try airdrop SOL to mock accounts (626ms)
[CI] [restaking] [notice] user deposited: 10.000000000 SOL                        A5jsUAujiuoW8Lc5pb6R7XYrD5HH2gTBpMZDCpDMqxcs
[CI] [restaking] [info] user fragSOL balance: 10.000000000 fragSOL              A5jsUAujiuoW8Lc5pb6R7XYrD5HH2gTBpMZDCpDMqxcs
  ✔ user7 deposit SOL to mint fragSOL and create accounts (309ms)
  ✔ transfer fails from client-side SDK when dest PDA is not created yet
[CI] [restaking] [notice] user deposited: 10.000000000 SOL                        6tqUdVfNE9SUuipcFiKQBZjyqNa99gc4KSC4CLEZShcQ
[CI] [restaking] [info] user fragSOL balance: 10.000000000 fragSOL              6tqUdVfNE9SUuipcFiKQBZjyqNa99gc4KSC4CLEZShcQ
  ✔ user8 deposit SOL to mint fragSOL and create accounts (440ms)
  ✔ transfer blocked from onchain-side for now
  ✔ try airdrop SOL to mock accounts (629ms)
[CI] [restaking] [notice] user deposited: 100.000000000 SOL                       2UhB1hD8ihBaxAQbRF48rWXPx6g3EFvEnmeMiour6777
[CI] [restaking] [info] user fragSOL balance: 100.000000000 fragSOL             2UhB1hD8ihBaxAQbRF48rWXPx6g3EFvEnmeMiour6777
[CI] [reward] [debug] [slot=*] A-pool#0: allocated=100,000,000,000, contribution=0
[CI] [reward] [debug] [slot=*] A-pool#1: allocated=100,000,000,000, contribution=0
[CI] [reward] [debug] > A-pool#1-reward#0: settled-slot=*, settled-amount=0, settled-contribution=0
[CI] [restaking] [notice] user deposited: 200.000000000 SOL                       2PLskyDxJ4ZpPccrjHQFh3V9aPpu5JtvjvJwdobqr8Zh
[CI] [restaking] [info] user fragSOL balance: 200.000000000 fragSOL             2PLskyDxJ4ZpPccrjHQFh3V9aPpu5JtvjvJwdobqr8Zh
[CI] [reward] [debug] [slot=*] B-pool#0: allocated=200,000,000,000, contribution=0
[CI] [reward] [debug] [slot=*] B-pool#1: allocated=200,000,000,000, contribution=0
[CI] [reward] [debug] > B-pool#1-reward#0: settled-slot=*, settled-amount=0, settled-contribution=0
[CI] [restaking] [notice] user manually updated user reward pool:                 2PLskyDxJ4ZpPccrjHQFh3V9aPpu5JtvjvJwdobqr8Zh
[CI] [restaking] [notice] user deposited: 300.000000000 SOL                       2UhB1hD8ihBaxAQbRF48rWXPx6g3EFvEnmeMiour6777
[CI] [restaking] [info] user fragSOL balance: 400.000000000 fragSOL             2UhB1hD8ihBaxAQbRF48rWXPx6g3EFvEnmeMiour6777
[CI] [reward] [debug] [slot=*] A-pool#0: allocated=400,000,000,000, contribution=40,000,000,000,000
[CI] [reward] [debug] [slot=*] A-pool#1: allocated=400,000,000,000, contribution=40,000,000,000,000
[CI] [reward] [debug] > A-pool#1-reward#0: settled-slot=*, settled-amount=0, settled-contribution=0
[CI] [reward] [debug] [slot=*] B-pool#0: allocated=200,000,000,000, contribution=40,000,000,000,000
[CI] [reward] [debug] [slot=*] B-pool#1: allocated=200,000,000,000, contribution=40,000,000,000,000
[CI] [reward] [debug] > B-pool#1-reward#0: settled-slot=*, settled-amount=0, settled-contribution=0
[CI] [restaking] [notice] user manually updated user reward pool:                 2PLskyDxJ4ZpPccrjHQFh3V9aPpu5JtvjvJwdobqr8Zh
[CI] [restaking] [notice] user manually updated user reward pool:                 2UhB1hD8ihBaxAQbRF48rWXPx6g3EFvEnmeMiour6777
[CI] [reward] [debug] [slot=*] A-pool#0: allocated=400,000,000,000, contribution=120,000,000,000,000
[CI] [reward] [debug] [slot=*] A-pool#1: allocated=400,000,000,000, contribution=120,000,000,000,000
[CI] [reward] [debug] > A-pool#1-reward#0: settled-slot=*, settled-amount=0, settled-contribution=0
[CI] [reward] [debug] [slot=*] B-pool#0: allocated=200,000,000,000, contribution=80,000,000,000,000
[CI] [reward] [debug] [slot=*] B-pool#1: allocated=200,000,000,000, contribution=80,000,000,000,000
[CI] [reward] [debug] > B-pool#1-reward#0: settled-slot=*, settled-amount=0, settled-contribution=0
[CI] [restaking] [notice] operator manually updated global reward pool:           GiDkDCZjVC8Nk1Fd457qGSV2g3MQX62n7cV5CvgFyGfF
[CI] [restaking] [notice] settled fragSOL reward to pool=1/bonus, rewardId=0/fPoint, amount=49984217 (decimals=4)
[CI] [restaking] [notice] user manually updated user reward pool:                 2UhB1hD8ihBaxAQbRF48rWXPx6g3EFvEnmeMiour6777
[CI] [restaking] [notice] user manually updated user reward pool:                 2PLskyDxJ4ZpPccrjHQFh3V9aPpu5JtvjvJwdobqr8Zh
[CI] [reward] [debug] [slot=*] A-pool#0: allocated=400,000,000,000, contribution=280,000,000,000,000
[CI] [reward] [debug] [slot=*] A-pool#1: allocated=400,000,000,000, contribution=280,000,000,000,000
[CI] [reward] [debug] > A-pool#1-reward#0: settled-slot=*, settled-amount=17,602,067, settled-contribution=200,000,000,000,000
[CI] [reward] [debug] [slot=*] B-pool#0: allocated=200,000,000,000, contribution=160,000,000,000,000
[CI] [reward] [debug] [slot=*] B-pool#1: allocated=200,000,000,000, contribution=160,000,000,000,000
[CI] [reward] [debug] > B-pool#1-reward#0: settled-slot=*, settled-amount=10,561,240, settled-contribution=120,000,000,000,000
  ✔ rewards are settled based on the contribution proportion (4973ms)
[CI] [restaking] [notice] user deposited: 200.000000000 SOL                       2PLskyDxJ4ZpPccrjHQFh3V9aPpu5JtvjvJwdobqr8Zh
[CI] [restaking] [info] user fragSOL balance: 400.000000000 fragSOL             2PLskyDxJ4ZpPccrjHQFh3V9aPpu5JtvjvJwdobqr8Zh
[CI] [restaking] [notice] settled fragSOL reward to pool=1/bonus, rewardId=0/fPoint, amount=0 (decimals=4)
[CI] [restaking] [notice] settled fragSOL reward to pool=0/base, rewardId=0/fPoint, amount=0 (decimals=4)
[CI] [restaking] [notice] user manually updated user reward pool:                 2PLskyDxJ4ZpPccrjHQFh3V9aPpu5JtvjvJwdobqr8Zh
[CI] [restaking] [notice] user manually updated user reward pool:                 2UhB1hD8ihBaxAQbRF48rWXPx6g3EFvEnmeMiour6777
[CI] [reward] [debug] [slot=*] A-pool#0: allocated=400,000,000,000, contribution=440,000,000,000,000
[CI] [reward] [debug] > A-pool#0-reward#0: settled-slot=*, settled-amount=0, settled-contribution=360,000,000,000,000
[CI] [reward] [debug] [slot=*] A-pool#1: allocated=400,000,000,000, contribution=440,000,000,000,000
[CI] [reward] [debug] > A-pool#1-reward#0: settled-slot=*, settled-amount=17,602,067, settled-contribution=360,000,000,000,000
[CI] [reward] [debug] [slot=*] B-pool#0: allocated=400,000,000,000, contribution=300,000,000,000,000
[CI] [reward] [debug] > B-pool#0-reward#0: settled-slot=*, settled-amount=0, settled-contribution=220,000,000,000,000
[CI] [reward] [debug] [slot=*] B-pool#1: allocated=400,000,000,000, contribution=330,000,000,000,000
[CI] [reward] [debug] > B-pool#1-reward#0: settled-slot=*, settled-amount=10,561,240, settled-contribution=230,000,000,000,000
[CI] [restaking] [notice] operator manually updated global reward pool:           GiDkDCZjVC8Nk1Fd457qGSV2g3MQX62n7cV5CvgFyGfF
[CI] [restaking] [notice] settled fragSOL reward to pool=1/bonus, rewardId=0/fPoint, amount=232918151 (decimals=4)
[CI] [restaking] [notice] settled fragSOL reward to pool=0/base, rewardId=0/fPoint, amount=232918151 (decimals=4)
[CI] [restaking] [notice] operator manually updated global reward pool:           GiDkDCZjVC8Nk1Fd457qGSV2g3MQX62n7cV5CvgFyGfF
[CI] [restaking] [notice] user manually updated user reward pool:                 2UhB1hD8ihBaxAQbRF48rWXPx6g3EFvEnmeMiour6777
[CI] [restaking] [notice] user manually updated user reward pool:                 2PLskyDxJ4ZpPccrjHQFh3V9aPpu5JtvjvJwdobqr8Zh
  ✔ rewards can be settled with custom contribution accrual rate enabled (3767ms)
[CI] [restaking] [info] before: fundSupportedTokens=10000000000, 0, 10000000000, fundSolOperationReservedAmount=852000000000, fundReservedAmount=852000000000
[CI] [restaking] [info] before: nSOLSupportedTokens=0, 0, 0, nSOLOperationReservedAmount, nSOLSupply=0
[CI] [restaking] [info] before: jitoVaultNSOL=0
[CI] [restaking] [notice] operator run#0: staked sol                              9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [restaking] [notice] operator run#1: normalized lst bSOL                     9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [restaking] [notice] operator run#1: normalized lst jitoSOL                  9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [restaking] [notice] operator run#1: normalized lst mSOL                     9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [restaking] [notice] operator run#2: restaked nt                             9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [restaking] [info] after: fundSupportedTokens=0, 0, 0, fundSolOperationReservedAmount=0, fundOperationReservedAmount=0
[CI] [restaking] [info] after: nSOLSupportedTokens=10000000000, 739326299417, 10000000000, nSOLSupply=876021726666
[CI] [restaking] [info] after: jitoVaultNSOL=876021726666
  ✔ fund operation: staking, normalize, restaking (2360ms)
  ✔ try airdrop SOL to mock accounts (634ms)
[CI] [restaking] [notice] operator updated prices: 0.999999999 SOL/fragSOL
[CI] [restaking] [notice] user deposited: 10.000000000 SOL                        24z2hejEqmQGpPKU3q2xZe1ZuAzPsNeEU55KT3k629e6
[CI] [restaking] [info] user fragSOL balance: 20.000000007 fragSOL              24z2hejEqmQGpPKU3q2xZe1ZuAzPsNeEU55KT3k629e6
[CI] [restaking] [notice] operator updated prices: 0.999999999 SOL/fragSOL
  ✔ user1 deposits SOL without metadata to mint fragSOL (1253ms)
[CI] [restaking] [notice] operator updated prices: 0.999999999 SOL/fragSOL
[CI] [restaking] [notice] user deposited: 6.000000000 SOL                         3VPkgde6n22TAD5w69yZbqGJ8ELGdSt7K2kSUjvGYWnR
[CI] [restaking] [info] user fragSOL balance: 16.000000004 fragSOL              3VPkgde6n22TAD5w69yZbqGJ8ELGdSt7K2kSUjvGYWnR
[CI] [restaking] [notice] user deposited: 4.000000000 SOL                         3VPkgde6n22TAD5w69yZbqGJ8ELGdSt7K2kSUjvGYWnR
[CI] [restaking] [info] user fragSOL balance: 20.000000007 fragSOL              3VPkgde6n22TAD5w69yZbqGJ8ELGdSt7K2kSUjvGYWnR
  ✔ user2 deposits SOL with metadata to mint fragSOL (1422ms)
  ✔ user2 cannot cheat metadata
  ✔ signature verification has to fail when after expiration
[CI] [restaking] [debug] bSOL airdropped (+100000): 171144.447780514 bSOL        AyejRb7s9rVFGYx6E7jTHFZyywXMDakodCR5X7uSuGBN
[CI] [restaking] [debug] bSOL airdropped (+100000): 171154.447780514 bSOL        BNUfZiKtDjoV7g1HQpwo46FDnao5qVAJkpAuwUqJTy5W
[CI] [restaking] [debug] jitoSOL airdropped (+100000): 173550.774511164 jitoSOL  8npF2w7J2nu6jAP8ajxi1jDt7yjdWFdQi9SBtzQJq1uq
[CI] [restaking] [debug] jitoSOL airdropped (+100000): 173550.774511164 jitoSOL  A4dK4AatPEtgKgg61jpeSsbQ6vzcPxiCoDLMZ5h6MGR9
[CI] [restaking] [debug] mSOL airdropped (+100000): 162122.186087442 mSOL        DYmY6Shdin4UERpfDkzSoFcJaTp8aYeQdeYqztzLYXuR
[CI] [restaking] [debug] mSOL airdropped (+100000): 162112.186087442 mSOL        8JqX8YRrnnMxoQo1QefDQYeQWkFpiQDbSAW2nYLREwjT
  ✔ try airdrop SOL and supported tokens to mock accounts (2004ms)
[CI] [restaking] [notice] operator updated prices: 0.999999999 SOL/fragSOL
[CI] [restaking] [notice] user deposited: 10.000000000 bSOL                       AyejRb7s9rVFGYx6E7jTHFZyywXMDakodCR5X7uSuGBN
[CI] [restaking] [info] user fragSOL balance: 23.370704368 fragSOL              E48eqXgsHCSF9MkNvXZ3krHbcBjtsfw95a91hbzenUzv
  ✔ user3 deposits supported token without metadata to mint fragSOL (806ms)
  ✔ user3 fails to deposit too many tokens
[CI] [restaking] [notice] operator updated prices: 0.999999999 SOL/fragSOL
[CI] [restaking] [notice] user deposited: 6.000000000 mSOL                        8JqX8YRrnnMxoQo1QefDQYeQWkFpiQDbSAW2nYLREwjT
[CI] [restaking] [info] user fragSOL balance: 19.738199173 fragSOL              4zFAD5DEJtteKEeHpRYghwopiS4cJuC2wxA998nLaxgN
[CI] [restaking] [notice] user deposited: 4.000000000 mSOL                        8JqX8YRrnnMxoQo1QefDQYeQWkFpiQDbSAW2nYLREwjT
[CI] [restaking] [info] user fragSOL balance: 24.672748968 fragSOL              4zFAD5DEJtteKEeHpRYghwopiS4cJuC2wxA998nLaxgN
  ✔ user4 deposits supported token with metadata to mint fragSOL (1384ms)
[CI] [restaking] [info] before: fundSupportedTokens=10000000000, 0, 10000000000, fundSolOperationReservedAmount=20000000000, fundReservedAmount=20000000000
[CI] [restaking] [info] before: nSOLSupportedTokens=10000000000, 739326299417, 10000000000, nSOLOperationReservedAmount, nSOLSupply=876021726666
[CI] [restaking] [info] before: jitoVaultNSOL=876021726666
[CI] [restaking] [notice] operator run#0: staked sol                              9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [restaking] [notice] operator run#1: normalized lst bSOL                     9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [restaking] [notice] operator run#1: normalized lst jitoSOL                  9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [restaking] [notice] operator run#1: normalized lst mSOL                     9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [restaking] [notice] operator run#2: restaked nt                             9b2RSMDYskVvjVbwF4cVwEhZUaaaUgyYSxvESmnoS4LL
[CI] [restaking] [info] after: fundSupportedTokens=0, 0, 0, fundSolOperationReservedAmount=0, fundOperationReservedAmount=0
[CI] [restaking] [info] after: nSOLSupportedTokens=20000000000, 756681376868, 20000000000, nSOLSupply=920043453332
[CI] [restaking] [info] after: jitoVaultNSOL=920043453332
  ✔ fund operation: staking, normalize, restaking (2315ms)

  46 passing (48s)

Done in 49.73s.
