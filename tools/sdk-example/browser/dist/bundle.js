(function () {
    'use strict';

    /******************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    /* global Reflect, Promise, SuppressedError, Symbol, Iterator */


    function __awaiter(thisArg, _arguments, P, generator) {
        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }

    typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
        var e = new Error(message);
        return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
    };

    !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).fragmetric={});}(undefined,(function(e){function t(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e));}catch(e){o(e);}}function a(e){try{c(r.throw(e));}catch(e){o(e);}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t);}))).then(s,a);}c((r=r.apply(e,[])).next());}))}"function"==typeof SuppressedError&&SuppressedError;var n="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s=!1;function a(){s=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)r[t]=e[t],i[e.charCodeAt(t)]=t;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;}function c(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16)+(e[a+1]<<8)+e[a+2],s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}function u(e){var t;s||a();for(var n=e.length,i=n%3,o="",u=[],d=16383,l=0,h=n-i;l<h;l+=d)u.push(c(e,l,l+d>h?h:l+d));return 1===i?(t=e[n-1],o+=r[t>>2],o+=r[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=r[t>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="="),u.push(o),u.join("")}function d(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,d=-7,l=n?i-1:0,h=n?-1:1,p=e[t+l];for(l+=h,o=p&(1<<-d)-1,p>>=-d,d+=a;d>0;o=256*o+e[t+l],l+=h,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;d>0;s=256*s+e[t+l],l+=h,d-=8);if(0===o)o=1-u;else {if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u;}return (p?-1:1)*s*Math.pow(2,o-r)}function l(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,d=(1<<u)-1,l=d>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=d?(a=0,s=d):s+l>=1?(a=(t*c-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=m,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+p]=255&s,p+=m,s/=256,u-=8);e[n+p-m]|=128*f;}var h={}.toString,p=Array.isArray||function(e){return "[object Array]"==h.call(e)};g.TYPED_ARRAY_SUPPORT=void 0===n.TYPED_ARRAY_SUPPORT||n.TYPED_ARRAY_SUPPORT;var m=f();function f(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(e,t){if(f()<t)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=g.prototype:(null===e&&(e=new g(t)),e.length=t),e}function g(e,t,n){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return b(this,e)}return _(this,e,t,n)}function _(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return "undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);g.TYPED_ARRAY_SUPPORT?(e=t).__proto__=g.prototype:e=k(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!g.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|A(t,n);e=y(e,r);var i=e.write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(E(t)){var n=0|v(t.length);return 0===(e=y(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return "number"!=typeof t.length||(r=t.length)!=r?y(e,0):k(e,t);if("Buffer"===t.type&&p(t.data))return k(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function w(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function b(e,t){if(w(t),e=y(e,t<0?0:0|v(t)),!g.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function k(e,t){var n=t.length<0?0:0|v(t.length);e=y(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function v(e){if(e>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|e}function E(e){return !(null==e||!e._isBuffer)}function A(e,t){if(E(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(r)return J(e).length;t=(""+t).toLowerCase(),r=!0;}}function S(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return "";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return "";if((n>>>=0)<=(t>>>=0))return "";for(e||(e="utf8");;)switch(e){case"hex":return H(this,t,n);case"utf8":case"utf-8":return L(this,t,n);case"ascii":return z(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0;}}function R(e,t,n){var r=e[t];e[t]=e[n],e[n]=r;}function I(e,t,n,r,i){if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return -1;n=e.length-1;}else if(n<0){if(!i)return -1;n=0;}if("string"==typeof t&&(t=g.from(t,r)),E(t))return 0===t.length?-1:T(e,t,n,r,i);if("number"==typeof t)return t&=255,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):T(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function T(e,t,n,r,i){var o,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,a/=2,c/=2,n/=2;}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var d=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===c)return d*s}else -1!==d&&(o-=o-d),d=-1;}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var l=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){l=!1;break}if(l)return o}return -1}function O(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a;}return s}function x(e,t,n,r){return Q(J(t,e.length-n),e,n,r)}function N(e,t,n,r){return Q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return N(e,t,n,r)}function P(e,t,n,r){return Q(X(t),e,n,r)}function B(e,t,n,r){return Q(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function M(e,t,n){return 0===t&&n===e.length?u(e):u(e.slice(t,n))}function L(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,c,u=e[i],d=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=n)switch(l){case 1:u<128&&(d=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(d=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(d=c);}null===d?(d=65533,l=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),i+=l;}return function(e){var t=e.length;if(t<=U)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=U));return n}(r)}g.poolSize=8192,g._augment=function(e){return e.__proto__=g.prototype,e},g.from=function(e,t,n){return _(null,e,t,n)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&g[Symbol.species]),g.alloc=function(e,t,n){return function(e,t,n,r){return w(t),t<=0?y(e,t):void 0!==n?"string"==typeof r?y(e,t).fill(n,r):y(e,t).fill(n):y(e,t)}(null,e,t,n)},g.allocUnsafe=function(e){return b(null,e)},g.allocUnsafeSlow=function(e){return b(null,e)},g.isBuffer=ee,g.compare=function(e,t){if(!E(e)||!E(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},g.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},g.concat=function(e,t){if(!p(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return g.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=g.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!E(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length;}return r},g.byteLength=A,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)R(this,t,t+1);return this},g.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)R(this,t,t+3),R(this,t+1,t+2);return this},g.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)R(this,t,t+7),R(this,t+1,t+6),R(this,t+2,t+5),R(this,t+3,t+4);return this},g.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?L(this,0,e):S.apply(this,arguments)},g.prototype.equals=function(e){if(!E(e))throw new TypeError("Argument must be a Buffer");return this===e||0===g.compare(this,e)},g.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},g.prototype.compare=function(e,t,n,r,i){if(!E(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),u=e.slice(t,n),d=0;d<a;++d)if(c[d]!==u[d]){o=c[d],s=u[d];break}return o<s?-1:s<o?1:0},g.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},g.prototype.indexOf=function(e,t,n){return I(this,e,t,n,!0)},g.prototype.lastIndexOf=function(e,t,n){return I(this,e,t,n,!1)},g.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else {if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return O(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return N(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return P(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0;}},g.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var U=4096;function z(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function H(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Y(e[o]);return i}function F(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function q(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function V(e,t,n,r,i,o){if(!E(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function K(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i);}function W(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255;}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(e,t,n,r,i){return i||j(e,0,n,4),l(e,t,n,r,23,4),n+4}function $(e,t,n,r,i){return i||j(e,0,n,8),l(e,t,n,r,52,8),n+8}g.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),g.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=g.prototype;else {var i=t-e;n=new g(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e];}return n},g.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},g.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},g.prototype.readUInt8=function(e,t){return t||q(e,1,this.length),this[e]},g.prototype.readUInt16LE=function(e,t){return t||q(e,2,this.length),this[e]|this[e+1]<<8},g.prototype.readUInt16BE=function(e,t){return t||q(e,2,this.length),this[e]<<8|this[e+1]},g.prototype.readUInt32LE=function(e,t){return t||q(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},g.prototype.readUInt32BE=function(e,t){return t||q(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},g.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},g.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},g.prototype.readInt8=function(e,t){return t||q(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},g.prototype.readInt16LE=function(e,t){t||q(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},g.prototype.readInt16BE=function(e,t){t||q(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},g.prototype.readInt32LE=function(e,t){return t||q(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},g.prototype.readInt32BE=function(e,t){return t||q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},g.prototype.readFloatLE=function(e,t){return t||q(e,4,this.length),d(this,e,!0,23,4)},g.prototype.readFloatBE=function(e,t){return t||q(e,4,this.length),d(this,e,!1,23,4)},g.prototype.readDoubleLE=function(e,t){return t||q(e,8,this.length),d(this,e,!0,52,8)},g.prototype.readDoubleBE=function(e,t){return t||q(e,8,this.length),d(this,e,!1,52,8)},g.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||V(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},g.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||V(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},g.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,1,255,0),g.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},g.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):K(this,e,t,!0),t+2},g.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):K(this,e,t,!1),t+2},g.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):W(this,e,t,!0),t+4},g.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):W(this,e,t,!1),t+4},g.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);V(this,e,t,n,i-1,-i);}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},g.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);V(this,e,t,n,i-1,-i);}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},g.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,1,127,-128),g.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},g.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):K(this,e,t,!0),t+2},g.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):K(this,e,t,!1),t+2},g.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):W(this,e,t,!0),t+4},g.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):W(this,e,t,!1),t+4},g.prototype.writeFloatLE=function(e,t,n){return G(this,e,t,!0,n)},g.prototype.writeFloatBE=function(e,t,n){return G(this,e,t,!1,n)},g.prototype.writeDoubleLE=function(e,t,n){return $(this,e,t,!0,n)},g.prototype.writeDoubleBE=function(e,t,n){return $(this,e,t,!1,n)},g.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!g.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},g.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i);}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!g.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else "number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else {var s=E(e)?e:J(new g(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a];}return this};var Z=/[^+\/0-9A-Za-z-_]/g;function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function J(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320);}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n);}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128);}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128);}else {if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128);}}return o}function X(e){return function(e){var t,n,r,c,u,d;s||a();var l=e.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");u="="===e[l-2]?2:"="===e[l-1]?1:0,d=new o(3*l/4-u),r=u>0?l-4:l;var h=0;for(t=0,n=0;t<r;t+=4,n+=3)c=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],d[h++]=c>>16&255,d[h++]=c>>8&255,d[h++]=255&c;return 2===u?(c=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,d[h++]=255&c):1===u&&(c=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,d[h++]=c>>8&255,d[h++]=255&c),d}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Z,"")).length<2)return "";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ee(e){return null!=e&&(!!e._isBuffer||te(e)||function(e){return "function"==typeof e.readFloatLE&&"function"==typeof e.slice&&te(e.slice(0,0))}(e))}function te(e){return !!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var ne=Object.freeze({__proto__:null,Buffer:g,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return +e!=e&&(e=0),g.alloc(+e)},isBuffer:ee,kMaxLength:m});function re(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ie(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function oe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const se="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ae=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ce=(e,t)=>e<<32-t|e>>>t;
    /*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ue(e){return "string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),ie(e),e}let de=class{clone(){return this._cloneInto()}};function le(e){const t=t=>e().update(ue(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function he(e=32){if(se&&"function"==typeof se.getRandomValues)return se.getRandomValues(new Uint8Array(e));if(se&&"function"==typeof se.randomBytes)return se.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const pe=(e,t,n)=>e&t^e&n^t&n;let me=class extends de{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ae(this.buffer);}update(e){oe(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=ue(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else {const t=ae(e);for(;r<=i-o;o+=r)this.process(t,o);}}return this.length+=e.length,this.roundClean(),this}digestInto(e){oe(this),function(e,t){ie(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r);}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=ae(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,u[e],i);}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}};const fe=BigInt(2**32-1),ye=BigInt(32);function ge(e,t=!1){return t?{h:Number(e&fe),l:Number(e>>ye&fe)}:{h:0|Number(e>>ye&fe),l:0|Number(e&fe)}}const _e={fromBig:ge,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=ge(e[i],t);[n[i],r[i]]=[o,s];}return [n,r]},toBig:(e,t)=>BigInt(e>>>0)<<ye|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return {h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[we,be]=(()=>_e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),ke=new Uint32Array(80),ve=new Uint32Array(80);class Ee extends me{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209;}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:d,Fl:l,Gh:h,Gl:p,Hh:m,Hl:f}=this;return [e,t,n,r,i,o,s,a,c,u,d,l,h,p,m,f]}set(e,t,n,r,i,o,s,a,c,u,d,l,h,p,m,f){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|d,this.Fl=0|l,this.Gh=0|h,this.Gl=0|p,this.Hh=0|m,this.Hl=0|f;}process(e,t){for(let n=0;n<16;n++,t+=4)ke[n]=e.getUint32(t),ve[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|ke[e-15],n=0|ve[e-15],r=_e.rotrSH(t,n,1)^_e.rotrSH(t,n,8)^_e.shrSH(t,n,7),i=_e.rotrSL(t,n,1)^_e.rotrSL(t,n,8)^_e.shrSL(t,n,7),o=0|ke[e-2],s=0|ve[e-2],a=_e.rotrSH(o,s,19)^_e.rotrBH(o,s,61)^_e.shrSH(o,s,6),c=_e.rotrSL(o,s,19)^_e.rotrBL(o,s,61)^_e.shrSL(o,s,6),u=_e.add4L(i,c,ve[e-7],ve[e-16]),d=_e.add4H(u,r,a,ke[e-7],ke[e-16]);ke[e]=0|d,ve[e]=0|u;}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:u,Eh:d,El:l,Fh:h,Fl:p,Gh:m,Gl:f,Hh:y,Hl:g}=this;for(let e=0;e<80;e++){const t=_e.rotrSH(d,l,14)^_e.rotrSH(d,l,18)^_e.rotrBH(d,l,41),_=_e.rotrSL(d,l,14)^_e.rotrSL(d,l,18)^_e.rotrBL(d,l,41),w=d&h^~d&m,b=l&p^~l&f,k=_e.add5L(g,_,b,be[e],ve[e]),v=_e.add5H(k,y,t,w,we[e],ke[e]),E=0|k,A=_e.rotrSH(n,r,28)^_e.rotrBH(n,r,34)^_e.rotrBH(n,r,39),S=_e.rotrSL(n,r,28)^_e.rotrBL(n,r,34)^_e.rotrBL(n,r,39),R=n&i^n&s^i&s,I=r&o^r&a^o&a;y=0|m,g=0|f,m=0|h,f=0|p,h=0|d,p=0|l,({h:d,l:l}=_e.add(0|c,0|u,0|v,0|E)),c=0|s,u=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const T=_e.add3L(E,S,I);n=_e.add3H(T,v,A,R),r=0|T;}(({h:n,l:r}=_e.add(0|this.Ah,0|this.Al,0|n,0|r))),({h:i,l:o}=_e.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=_e.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=_e.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:d,l:l}=_e.add(0|this.Eh,0|this.El,0|d,0|l)),({h:h,l:p}=_e.add(0|this.Fh,0|this.Fl,0|h,0|p)),({h:m,l:f}=_e.add(0|this.Gh,0|this.Gl,0|m,0|f)),({h:y,l:g}=_e.add(0|this.Hh,0|this.Hl,0|y,0|g)),this.set(n,r,i,o,s,a,c,u,d,l,h,p,m,f,y,g);}roundClean(){ke.fill(0),ve.fill(0);}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);}}const Ae=le((()=>new Ee)),Se=BigInt(0),Re=BigInt(1),Ie=BigInt(2);
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Te(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Oe(e){if(!Te(e))throw new Error("Uint8Array expected")}function xe(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const Ne=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ce(e){Oe(e);let t="";for(let n=0;n<e.length;n++)t+=Ne[e[n]];return t}function Pe(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Be(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return ""===e?Se:BigInt("0x"+e)}const Me=48,Le=57,Ue=65,ze=70,De=97,He=102;function Fe(e){return e>=Me&&e<=Le?e-Me:e>=Ue&&e<=ze?e-(Ue-10):e>=De&&e<=He?e-(De-10):void 0}function qe(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=Fe(e.charCodeAt(i)),o=Fe(e.charCodeAt(i+1));if(void 0===n||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+o;}return r}function Ve(e){return Be(Ce(e))}function Ke(e){return Oe(e),Be(Ce(Uint8Array.from(e).reverse()))}function We(e,t){return qe(e.toString(16).padStart(2*t,"0"))}function je(e,t){return We(e,t).reverse()}function Ge(e,t,n){let r;if("string"==typeof t)try{r=qe(t);}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else {if(!Te(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t);}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function $e(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];Oe(r),t+=r.length;}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length;}return n}const Ze=e=>"bigint"==typeof e&&Se<=e;function Ye(e,t,n){return Ze(e)&&Ze(t)&&Ze(n)&&t<=e&&e<n}function Je(e,t,n,r){if(!Ye(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Xe(e){let t;for(t=0;e>Se;e>>=Re,t+=1);return t}const Qe=e=>(Ie<<BigInt(e-1))-Re,et=e=>new Uint8Array(e),tt=e=>Uint8Array.from(e);function nt(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=et(e),i=et(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0;},a=(...e)=>n(i,r,...e),c=(e=et())=>{i=a(tt([0]),e),r=a(),0!==e.length&&(i=a(tt([1]),e),r=a());},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length;}return $e(...n)};return (e,t)=>{let n;for(s(),c(e);!(n=t(u()));)c();return s(),n}}const rt={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Te(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function it(e,t,n={}){const r=(t,n,r)=>{const i=rt[n];if("function"!=typeof i)throw new Error("invalid validator function");const o=e[t];if(!(r&&void 0===o||i(o,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function ot(e){const t=new WeakMap;return (n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const o=e(n,...r);return t.set(n,o),o}}var st=Object.freeze({__proto__:null,aInRange:Je,abool:xe,abytes:Oe,bitGet:function(e,t){return e>>BigInt(t)&Re},bitLen:Xe,bitMask:Qe,bitSet:function(e,t,n){return e|(n?Re:Se)<<BigInt(t)},bytesToHex:Ce,bytesToNumberBE:Ve,bytesToNumberLE:Ke,concatBytes:$e,createHmacDrbg:nt,ensureBytes:Ge,equalBytes:function(e,t){if(e.length!==t.length)return !1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},hexToBytes:qe,hexToNumber:Be,inRange:Ye,isBytes:Te,memoized:ot,notImplemented:()=>{throw new Error("not implemented")},numberToBytesBE:We,numberToBytesLE:je,numberToHexUnpadded:Pe,numberToVarBytesBE:function(e){return qe(Pe(e))},utf8ToBytes:function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))},validateObject:it});
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const at=BigInt(0),ct=BigInt(1),ut=BigInt(2),dt=BigInt(3),lt=BigInt(4),ht=BigInt(5),pt=BigInt(8);function mt(e,t){const n=e%t;return n>=at?n:t+n}function ft(e,t,n){if(t<at)throw new Error("invalid exponent, negatives unsupported");if(n<=at)throw new Error("invalid modulus");if(n===ct)return at;let r=ct;for(;t>at;)t&ct&&(r=r*e%n),e=e*e%n,t>>=ct;return r}function yt(e,t,n){let r=e;for(;t-- >at;)r*=r,r%=n;return r}function gt(e,t){if(e===at)throw new Error("invert: expected non-zero number");if(t<=at)throw new Error("invert: expected positive modulus, got "+t);let n=mt(e,t),r=t,i=at,o=ct;for(;n!==at;){const e=r%n,t=i-o*(r/n);r=n,n=e,i=o,o=t;}if(r!==ct)throw new Error("invert: does not exist");return mt(i,t)}function _t(e){if(e%lt===dt){const t=(e+ct)/lt;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%pt===ht){const t=(e-ht)/pt;return function(e,n){const r=e.mul(n,ut),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,ut),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-ct)/ut;let n,r,i;for(n=e-ct,r=0;n%ut===at;n/=ut,r++);for(i=ut;i<e&&ft(i,t,e)!==e-ct;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+ct)/lt;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+ct)/ut;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),u=e.pow(s,o),d=e.pow(s,n);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(d);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,ct<<BigInt(a-t-1));c=e.sqr(n),u=e.mul(u,n),d=e.mul(d,c),a=t;}return u}}(e)}const wt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bt(e,t){const n=void 0!==t?t:e.toString(2).length;return {nBitLength:n,nByteLength:Math.ceil(n/8)}}function kt(e,t,n=!1,r={}){if(e<=at)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=bt(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Qe(i),ZERO:at,ONE:ct,create:t=>mt(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return at<=t&&t<e},is0:e=>e===at,isOdd:e=>(e&ct)===ct,neg:t=>mt(-t,e),eql:(e,t)=>e===t,sqr:t=>mt(t*t,e),add:(t,n)=>mt(t+n,e),sub:(t,n)=>mt(t-n,e),mul:(t,n)=>mt(t*n,e),pow:(e,t)=>function(e,t,n){if(n<at)throw new Error("invalid exponent, negatives unsupported");if(n===at)return e.ONE;if(n===ct)return t;let r=e.ONE,i=t;for(;n>at;)n&ct&&(r=e.mul(r,i)),i=e.sqr(i),n>>=ct;return r}(a,e,t),div:(t,n)=>mt(t*gt(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>gt(t,e),sqrt:r.sqrt||(t=>(s||(s=_t(e)),s(a,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?je(e,o):We(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);return n?Ke(e):Ve(e)}});return Object.freeze(a)}function vt(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Et(e){const t=vt(e);return t+Math.ceil(t/2)}
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    const At=BigInt(0),St=BigInt(1);function Rt(e,t){const n=t.negate();return e?n:t}function It(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Tt(e,t){It(e,t);return {windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const Ot=new WeakMap,xt=new WeakMap;function Nt(e){return xt.get(e)||1}function Ct(e,t){return {constTimeNegate:Rt,hasPrecomputes:e=>1!==Nt(e),unsafeLadder(t,n,r=e.ZERO){let i=t;for(;n>At;)n&St&&(r=r.add(i)),i=i.double(),n>>=St;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=Tt(n,t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double();}return o},wNAF(n,r,i){const{windows:o,windowSize:s}=Tt(n,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**n-1),d=2**n,l=BigInt(n);for(let e=0;e<o;e++){const t=e*s;let n=Number(i&u);i>>=l,n>s&&(n-=d,i+=St);const o=t,h=t+Math.abs(n)-1,p=e%2!=0,m=n<0;0===n?c=c.add(Rt(p,r[o])):a=a.add(Rt(m,r[h]));}return {p:a,f:c}},wNAFUnsafe(n,r,i,o=e.ZERO){const{windows:s,windowSize:a}=Tt(n,t),c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let e=0;e<s;e++){const t=e*a;if(i===At)break;let n=Number(i&c);if(i>>=d,n>a&&(n-=u,i+=St),0===n)continue;let s=r[t+Math.abs(n)-1];n<0&&(s=s.negate()),o=o.add(s);}return o},getPrecomputes(e,t,n){let r=Ot.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&Ot.set(t,n(r))),r},wNAFCached(e,t,n){const r=Nt(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=Nt(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){It(n,t),xt.set(e,n),Ot.delete(e);}}}function Pt(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}));}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}));}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=Xe(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,c=new Array(a+1).fill(i);let u=i;for(let e=Math.floor((t.BITS-1)/s)*s;e>=0;e-=s){c.fill(i);for(let t=0;t<r.length;t++){const i=r[t],o=Number(i>>BigInt(e)&BigInt(a));c[o]=c[o].add(n[t]);}let t=i;for(let e=c.length-1,n=i;e>0;e--)n=n.add(c[e]),t=t.add(n);if(u=u.add(t),0!==e)for(let e=0;e<s;e++)u=u.double();}return u}function Bt(e){return it(e.Fp,wt.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),it(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bt(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mt=BigInt(0),Lt=BigInt(1),Ut=BigInt(2),zt=BigInt(8),Dt={zip215:!0};function Ht(e){const t=function(e){const t=Bt(e);return it(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,u=Ut<<BigInt(8*a)-Lt,d=n.create,l=kt(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return {isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(e){return {isValid:!1,value:Mt}}}),p=t.adjustScalarBytes||(e=>e),m=t.domain||((e,t,n)=>{if(xe("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function f(e,t){Je("coordinate "+e,t,Mt,u);}function y(e){if(!(e instanceof w))throw new Error("ExtendedPoint expected")}const g=ot(((e,t)=>{const{ex:r,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?zt:n.inv(o));const a=d(r*t),c=d(i*t),u=d(o*t);if(s)return {x:Mt,y:Lt};if(u!==Lt)throw new Error("invZ was invalid");return {x:a,y:c}})),_=ot((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:o,ez:s,et:a}=e,c=d(i*i),u=d(o*o),l=d(s*s),h=d(l*l),p=d(c*n);if(d(l*d(p+u))!==d(h+d(r*d(c*u))))throw new Error("bad point: equation left != right (1)");if(d(i*o)!==d(s*a))throw new Error("bad point: equation left != right (2)");return !0}));class w{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,f("x",e),f("y",t),f("z",n),f("t",r),Object.freeze(this);}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return f("x",t),f("y",n),new w(t,n,Lt,d(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(w.fromAffine)}static msm(e,t){return Pt(w,l,e,t)}_setWindowSize(e){v.setWindowSize(this,e);}assertValidity(){_(this);}equals(e){y(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=e,a=d(t*s),c=d(i*r),u=d(n*s),l=d(o*r);return a===c&&u===l}is0(){return this.equals(w.ZERO)}negate(){return new w(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=d(n*n),s=d(r*r),a=d(Ut*d(i*i)),c=d(e*o),u=n+r,l=d(d(u*u)-o-s),h=c+s,p=h-a,m=c-s,f=d(l*p),y=d(h*m),g=d(l*m),_=d(p*h);return new w(f,y,_,g)}add(e){y(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:l,et:h}=e;if(n===BigInt(-1)){const e=d((o-i)*(u+c)),t=d((o+i)*(u-c)),n=d(t-e);if(n===Mt)return this.double();const r=d(s*Ut*h),p=d(a*Ut*l),m=p+r,f=t+e,y=p-r,g=d(m*n),_=d(f*y),b=d(m*y),k=d(n*f);return new w(g,_,k,b)}const p=d(i*c),m=d(o*u),f=d(a*r*h),g=d(s*l),_=d((i+o)*(c+u)-p-m),b=g-f,k=g+f,v=d(m-n*p),E=d(_*b),A=d(k*v),S=d(_*v),R=d(b*k);return new w(E,A,R,S)}subtract(e){return this.add(e.negate())}wNAF(e){return v.wNAFCached(this,e,w.normalizeZ)}multiply(e){const t=e;Je("scalar",t,Lt,r);const{p:n,f:i}=this.wNAF(t);return w.normalizeZ([n,i])[0]}multiplyUnsafe(e,t=w.ZERO){const n=e;return Je("scalar",n,Mt,r),n===Mt?k:this.is0()||n===Lt?this:v.wNAFCachedUnsafe(this,n,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return v.unsafeLadder(this,r).is0()}toAffine(e){return g(this,e)}clearCofactor(){const{h:e}=t;return e===Lt?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:i,a:o}=t,s=n.BYTES;e=Ge("pointHex",e,s),xe("zip215",r);const a=e.slice(),c=e[s-1];a[s-1]=-129&c;const l=Ke(a),p=r?u:n.ORDER;Je("pointHex.y",l,Mt,p);const m=d(l*l),f=d(m-Lt),y=d(i*m-o);let{isValid:g,value:_}=h(f,y);if(!g)throw new Error("Point.fromHex: invalid y coordinate");const b=(_&Lt)===Lt,k=!!(128&c);if(!r&&_===Mt&&k)throw new Error("Point.fromHex: x=0 and x_0=1");return k!==b&&(_=d(-_)),w.fromAffine({x:_,y:l})}static fromPrivateKey(e){return S(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=je(t,n.BYTES);return r[r.length-1]|=e&Lt?128:0,r}toHex(){return Ce(this.toRawBytes())}}w.BASE=new w(t.Gx,t.Gy,Lt,d(t.Gx*t.Gy)),w.ZERO=new w(Mt,Lt,Lt,Mt);const{BASE:b,ZERO:k}=w,v=Ct(w,8*a);function E(e){return mt(e,r)}function A(e){return E(Ke(e))}function S(e){const t=n.BYTES;e=Ge("private key",e,t);const r=Ge("hashed private key",o(e),2*t),i=p(r.slice(0,t)),s=r.slice(t,2*t),a=A(i),c=b.multiply(a),u=c.toRawBytes();return {head:i,prefix:s,scalar:a,point:c,pointBytes:u}}function R(e=new Uint8Array,...t){const n=$e(...t);return A(o(m(n,Ge("context",e),!!i)))}const I=Dt;b._setWindowSize(8);return {CURVE:t,getPublicKey:function(e){return S(e).pointBytes},sign:function(e,t,o={}){e=Ge("message",e),i&&(e=i(e));const{prefix:s,scalar:a,pointBytes:c}=S(t),u=R(o.context,s,e),d=b.multiply(u).toRawBytes(),l=E(u+R(o.context,d,c,e)*a);return Je("signature.s",l,Mt,r),Ge("result",$e(d,je(l,n.BYTES)),2*n.BYTES)},verify:function(e,t,r,o=I){const{context:s,zip215:a}=o,c=n.BYTES;e=Ge("signature",e,2*c),t=Ge("message",t),r=Ge("publicKey",r,c),void 0!==a&&xe("zip215",a),i&&(t=i(t));const u=Ke(e.slice(c,2*c));let d,l,h;try{d=w.fromHex(r,a),l=w.fromHex(e.slice(0,c),a),h=b.multiplyUnsafe(u);}catch(e){return !1}if(!a&&d.isSmallOrder())return !1;const p=R(s,l.toRawBytes(),d.toRawBytes(),t);return l.add(d.multiplyUnsafe(p)).subtract(h).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ft=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),qt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Vt=BigInt(1),Kt=BigInt(2);BigInt(3);const Wt=BigInt(5),jt=BigInt(8);function Gt(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function $t(e,t){const n=Ft,r=mt(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Ft,s=e*e%o*e%o,a=yt(s,Kt,o)*s%o,c=yt(a,Vt,o)*e%o,u=yt(c,Wt,o)*c%o,d=yt(u,t,o)*u%o,l=yt(d,n,o)*d%o,h=yt(l,r,o)*l%o,p=yt(h,i,o)*h%o,m=yt(p,i,o)*h%o,f=yt(m,t,o)*u%o;return {pow_p_5_8:yt(f,Kt,o)*e%o,b2:s}}(e*mt(r*r*t,n)).pow_p_5_8;let o=mt(e*r*i,n);const s=mt(t*o*o,n),a=o,c=mt(o*qt,n),u=s===e,d=s===mt(-e,n),l=s===mt(-e*qt,n);return u&&(o=a),(d||l)&&(o=c),(mt(o,n)&ct)===ct&&(o=mt(-o,n)),{isValid:u||d,value:o}}const Zt=(()=>kt(Ft,void 0,!0))(),Yt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Zt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:jt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ae,randomBytes:he,adjustScalarBytes:Gt,uvRatio:$t}))(),Jt=(()=>Ht(Yt))();function Xt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qt(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype;}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}});})),n}var en,tn={exports:{}},nn=Qt(ne),rn=tn.exports;function on(){return en||(en=1,function(e){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e;}function i(e,t,n){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"));}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:nn.Buffer;}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function a(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function c(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s;}return o}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red;}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)));},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r);},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},i.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=a(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=a(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip();},i.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,s=o%r,a=Math.min(o,o-s)+n,u=0,d=n;d<a;d+=r)u=c(e,d,d+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(e,d,e.length,t),d=0;d<s;d++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);}this._strip();},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red;},i.prototype._move=function(e){u(e,this);},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d;}catch(e){i.prototype.inspect=d;}else i.prototype.inspect=d;function d(){return (this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?l[6-c.length]+c+r:c+r;}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=h[e],d=p[e];r="";var m=this.clone();for(m.negative=0;!m.isZero();){var f=m.modrn(d).toString(e);r=(m=m.idivn(d)).isZero()?f+r:l[u-f.length]+f+r;}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36");},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var d=c>>>26,l=67108863&c,h=Math.min(u,t.length-1),p=Math.max(0,u-e.length+1);p<=h;p++){var m=u-p|0;d+=(s=(i=0|e.words[m])*(o=0|t.words[p])+l)/67108864|0,l=67108863&s;}n.words[u]=0|l,c=0|d;}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}i.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n++]=255&s,n<e.length&&(e[n++]=s>>8&255),n<e.length&&(e[n++]=s>>16&255),6===o?(n<e.length&&(e[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2);}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0;},i.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n--]=255&s,n>=0&&(e[n--]=s>>8&255),n>=0&&(e[n--]=s>>16&255),6===o?(n>=0&&(e[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2);}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0;},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 8191&t||(n+=13,t>>>=13),127&t||(n+=7,t>>>=7),15&t||(n+=4,t>>>=4),3&t||(n+=2,t>>>=2),1&t||n++,n},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,s=0;s<r.length;s++)o=(t=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<n.length;s++)o=(t=(0|n.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var f=function(e,t,n){var r,i,o,s=e.words,a=t.words,c=n.words,u=0,d=0|s[0],l=8191&d,h=d>>>13,p=0|s[1],m=8191&p,f=p>>>13,y=0|s[2],g=8191&y,_=y>>>13,w=0|s[3],b=8191&w,k=w>>>13,v=0|s[4],E=8191&v,A=v>>>13,S=0|s[5],R=8191&S,I=S>>>13,T=0|s[6],O=8191&T,x=T>>>13,N=0|s[7],C=8191&N,P=N>>>13,B=0|s[8],M=8191&B,L=B>>>13,U=0|s[9],z=8191&U,D=U>>>13,H=0|a[0],F=8191&H,q=H>>>13,V=0|a[1],K=8191&V,W=V>>>13,j=0|a[2],G=8191&j,$=j>>>13,Z=0|a[3],Y=8191&Z,J=Z>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,de=0|a[8],le=8191&de,he=de>>>13,pe=0|a[9],me=8191&pe,fe=pe>>>13;n.negative=e.negative^t.negative,n.length=19;var ye=(u+(r=Math.imul(l,F))|0)+((8191&(i=(i=Math.imul(l,q))+Math.imul(h,F)|0))<<13)|0;u=((o=Math.imul(h,q))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(m,F),i=(i=Math.imul(m,q))+Math.imul(f,F)|0,o=Math.imul(f,q);var ge=(u+(r=r+Math.imul(l,K)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(h,K)|0))<<13)|0;u=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,F),i=(i=Math.imul(g,q))+Math.imul(_,F)|0,o=Math.imul(_,q),r=r+Math.imul(m,K)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(f,K)|0,o=o+Math.imul(f,W)|0;var _e=(u+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,$)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,$)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(b,F),i=(i=Math.imul(b,q))+Math.imul(k,F)|0,o=Math.imul(k,q),r=r+Math.imul(g,K)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(m,G)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(f,G)|0,o=o+Math.imul(f,$)|0;var we=(u+(r=r+Math.imul(l,Y)|0)|0)+((8191&(i=(i=i+Math.imul(l,J)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(E,F),i=(i=Math.imul(E,q))+Math.imul(A,F)|0,o=Math.imul(A,q),r=r+Math.imul(b,K)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(m,Y)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(f,Y)|0,o=o+Math.imul(f,J)|0;var be=(u+(r=r+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,q))+Math.imul(I,F)|0,o=Math.imul(I,q),r=r+Math.imul(E,K)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,W)|0,r=r+Math.imul(b,G)|0,i=(i=i+Math.imul(b,$)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,J)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(f,Q)|0,o=o+Math.imul(f,ee)|0;var ke=(u+(r=r+Math.imul(l,ne)|0)|0)+((8191&(i=(i=i+Math.imul(l,re)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,re)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(O,F),i=(i=Math.imul(O,q))+Math.imul(x,F)|0,o=Math.imul(x,q),r=r+Math.imul(R,K)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(E,G)|0,i=(i=i+Math.imul(E,$)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,J)|0,r=r+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(f,ne)|0,o=o+Math.imul(f,re)|0;var ve=(u+(r=r+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(C,F),i=(i=Math.imul(C,q))+Math.imul(P,F)|0,o=Math.imul(P,q),r=r+Math.imul(O,K)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(x,K)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,$)|0,r=r+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,J)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(g,ne)|0,i=(i=i+Math.imul(g,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(f,oe)|0,o=o+Math.imul(f,se)|0;var Ee=(u+(r=r+Math.imul(l,ce)|0)|0)+((8191&(i=(i=i+Math.imul(l,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,F),i=(i=Math.imul(M,q))+Math.imul(L,F)|0,o=Math.imul(L,q),r=r+Math.imul(C,K)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,W)|0,r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,J)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(b,ne)|0,i=(i=i+Math.imul(b,re)|0)+Math.imul(k,ne)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,r=r+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(f,ce)|0,o=o+Math.imul(f,ue)|0;var Ae=(u+(r=r+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,he)|0)+Math.imul(h,le)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(z,F),i=(i=Math.imul(z,q))+Math.imul(D,F)|0,o=Math.imul(D,q),r=r+Math.imul(M,K)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,W)|0,r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,$)|0,r=r+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,J)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(E,ne)|0,i=(i=i+Math.imul(E,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,r=r+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,r=r+Math.imul(m,le)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(f,le)|0,o=o+Math.imul(f,he)|0;var Se=(u+(r=r+Math.imul(l,me)|0)|0)+((8191&(i=(i=i+Math.imul(l,fe)|0)+Math.imul(h,me)|0))<<13)|0;u=((o=o+Math.imul(h,fe)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(z,K),i=(i=Math.imul(z,W))+Math.imul(D,K)|0,o=Math.imul(D,W),r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,J)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(I,ne)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,r=r+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,r=r+Math.imul(g,le)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(_,le)|0,o=o+Math.imul(_,he)|0;var Re=(u+(r=r+Math.imul(m,me)|0)|0)+((8191&(i=(i=i+Math.imul(m,fe)|0)+Math.imul(f,me)|0))<<13)|0;u=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(z,G),i=(i=Math.imul(z,$))+Math.imul(D,G)|0,o=Math.imul(D,$),r=r+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,r=r+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,r=r+Math.imul(b,le)|0,i=(i=i+Math.imul(b,he)|0)+Math.imul(k,le)|0,o=o+Math.imul(k,he)|0;var Ie=(u+(r=r+Math.imul(g,me)|0)|0)+((8191&(i=(i=i+Math.imul(g,fe)|0)+Math.imul(_,me)|0))<<13)|0;u=((o=o+Math.imul(_,fe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(z,Y),i=(i=Math.imul(z,J))+Math.imul(D,Y)|0,o=Math.imul(D,J),r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(P,ne)|0,o=o+Math.imul(P,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,r=r+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,r=r+Math.imul(E,le)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,he)|0;var Te=(u+(r=r+Math.imul(b,me)|0)|0)+((8191&(i=(i=i+Math.imul(b,fe)|0)+Math.imul(k,me)|0))<<13)|0;u=((o=o+Math.imul(k,fe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(z,Q),i=(i=Math.imul(z,ee))+Math.imul(D,Q)|0,o=Math.imul(D,ee),r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,r=r+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,r=r+Math.imul(R,le)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(I,le)|0,o=o+Math.imul(I,he)|0;var Oe=(u+(r=r+Math.imul(E,me)|0)|0)+((8191&(i=(i=i+Math.imul(E,fe)|0)+Math.imul(A,me)|0))<<13)|0;u=((o=o+Math.imul(A,fe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(z,ne),i=(i=Math.imul(z,re))+Math.imul(D,ne)|0,o=Math.imul(D,re),r=r+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,se)|0,r=r+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,ue)|0,r=r+Math.imul(O,le)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(x,le)|0,o=o+Math.imul(x,he)|0;var xe=(u+(r=r+Math.imul(R,me)|0)|0)+((8191&(i=(i=i+Math.imul(R,fe)|0)+Math.imul(I,me)|0))<<13)|0;u=((o=o+Math.imul(I,fe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(z,oe),i=(i=Math.imul(z,se))+Math.imul(D,oe)|0,o=Math.imul(D,se),r=r+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,r=r+Math.imul(C,le)|0,i=(i=i+Math.imul(C,he)|0)+Math.imul(P,le)|0,o=o+Math.imul(P,he)|0;var Ne=(u+(r=r+Math.imul(O,me)|0)|0)+((8191&(i=(i=i+Math.imul(O,fe)|0)+Math.imul(x,me)|0))<<13)|0;u=((o=o+Math.imul(x,fe)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(z,ce),i=(i=Math.imul(z,ue))+Math.imul(D,ce)|0,o=Math.imul(D,ue),r=r+Math.imul(M,le)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(L,le)|0,o=o+Math.imul(L,he)|0;var Ce=(u+(r=r+Math.imul(C,me)|0)|0)+((8191&(i=(i=i+Math.imul(C,fe)|0)+Math.imul(P,me)|0))<<13)|0;u=((o=o+Math.imul(P,fe)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(z,le),i=(i=Math.imul(z,he))+Math.imul(D,le)|0,o=Math.imul(D,he);var Pe=(u+(r=r+Math.imul(M,me)|0)|0)+((8191&(i=(i=i+Math.imul(M,fe)|0)+Math.imul(L,me)|0))<<13)|0;u=((o=o+Math.imul(L,fe)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(u+(r=Math.imul(z,me))|0)+((8191&(i=(i=Math.imul(z,fe))+Math.imul(D,me)|0))<<13)|0;return u=((o=Math.imul(D,fe))+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ye,c[1]=ge,c[2]=_e,c[3]=we,c[4]=be,c[5]=ke,c[6]=ve,c[7]=Ee,c[8]=Ae,c[9]=Se,c[10]=Re,c[11]=Ie,c[12]=Te,c[13]=Oe,c[14]=xe,c[15]=Ne,c[16]=Ce,c[17]=Pe,c[18]=Be,0!==u&&(c[19]=u,n.length++),n};function y(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var d=o-u,l=(0|e.words[d])*(0|t.words[u]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863;}n.words[o]=a,r=s,s=i;}return 0!==r?n.words[o]=r:n.length--,n._strip()}function g(e,t,n){return y(e,t,n)}Math.imul||(f=m),i.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?f(this,e,t):n<63?m(this,e,t):n<1024?y(this,e,t):g(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),g(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s;}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1;}return t}(e);if(0===t.length)return new i(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var o=n.sqr();r<t.length;r++,o=o.sqr())0!==t[r]&&(n=n.mul(o));return n},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r;}s&&(this.words[t]=s,this.length++);}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i;}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s;}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(0!==d||u>=i);u--){var l=0|this.words[u];this.words[u]=d<<26-o|l>>>o,d=l&a;}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return !(this.length<=r)&&!!(this.words[r]&i)},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i;}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o;}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),o=e,s=0|o.words[o.length-1];0!==(n=26-this._countBits(s))&&(o=o.ushln(n),r.iushln(n),s=0|o.words[o.length-1]);var a,c=r.length-o.length;if("mod"!==t){(a=new i(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0;}var d=r.clone()._ishlnsubmul(o,1,c);0===d.negative&&(r=d,a&&(a.words[c]=1));for(var l=c-1;l>=0;l--){var h=67108864*(0|r.words[o.length+l])+(0|r.words[o.length+l-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(o,h,l);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(o,1,l),r.isZero()||(r.negative^=1);a&&(a.words[l]=h);}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,s,a;},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e;}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var d=r.clone(),l=t.clone();!t.isZero();){for(var h=0,p=1;!(t.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(d),s.isub(l)),o.iushrn(1),s.iushrn(1);for(var m=0,f=1;!(r.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(r.iushrn(m);m-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(d),c.isub(l)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a),s.isub(c)):(r.isub(t),a.isub(o),c.isub(s));}return {a:a,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,s=new i(1),a=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,d=1;!(t.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var l=0,h=1;!(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s));}return (o=0===t.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o;}else if(0===i||0===n.cmpn(1))break;t.isub(n);}return n.iushln(r)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return !(1&this.words[0])},i.prototype.isOdd=function(){return !(1&~this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a;}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else {r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1;}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return -1===this.cmpn(e)},i.prototype.lt=function(e){return -1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new A(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp();}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f");}function k(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001");}function v(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff");}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed");}function A(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t;}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null;}function S(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv);}w.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength();}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},w.prototype.split=function(e,t){e.iushrn(this.n,0,t);},w.prototype.imulK=function(e){return e.imul(this.k)},r(b,w),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&n)<<4|o>>>22,o=s;}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9;},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0);}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(k,w),r(v,w),r(E,w),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r;}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new k;else if("p192"===e)t=new v;else {if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E;}return _[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers");},A.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers");},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},A.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);n(!o.isZero());var a=new i(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,u).cmp(c);)d.redIAdd(c);for(var l=this.pow(d,o),h=this.pow(e,o.addn(1).iushrn(1)),p=this.pow(e,o),m=s;0!==p.cmp(a);){for(var f=p,y=0;0!==f.cmp(a);y++)f=f.redSqr();n(y<m);var g=this.pow(l,new i(1).iushln(m-y-1));h=h.redMul(g),l=g.redSqr(),p=p.redMul(l),m=y;}return h},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var o=n[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],d=c-1;d>=0;d--){var l=u>>d&1;o!==n[0]&&(o=this.sqr(o)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===r&&0===d)&&(o=this.mul(o,n[s]),a=0,s=0)):a=0;}c=26;}return o},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},r(S,A),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)};}(e,rn);}(tn)),tn.exports}var sn,an,cn,un,dn,ln=Xt(on()),hn={exports:{}};function pn(){if(cn)return an;cn=1;var e=(sn||(sn=1,function(e,t){var n=nn,r=n.Buffer;function i(e,t){for(var n in e)t[n]=e[n];}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o),o.prototype=Object.create(r.prototype),i(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)};}(hn,hn.exports)),hn.exports).Buffer;return an=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i;}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function l(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return e.alloc(0);for(var r=0,i=0,o=0;t[r]===c;)i++,r++;for(var s=(t.length-r)*u+1>>>0,d=new Uint8Array(s);r<t.length;){var l=n[t.charCodeAt(r)];if(255===l)return;for(var h=0,p=s-1;(0!==l||h<o)&&-1!==p;p--,h++)l+=a*d[p]>>>0,d[p]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=h,r++;}for(var m=s-o;m!==s&&0===d[m];)m++;var f=e.allocUnsafe(i+(s-m));f.fill(0,0,i);for(var y=i;m!==s;)f[y++]=d[m++];return f}return {encode:function(n){if((Array.isArray(n)||n instanceof Uint8Array)&&(n=e.from(n)),!e.isBuffer(n))throw new TypeError("Expected Buffer");if(0===n.length)return "";for(var r=0,i=0,o=0,s=n.length;o!==s&&0===n[o];)o++,r++;for(var u=(s-o)*d+1>>>0,l=new Uint8Array(u);o!==s;){for(var h=n[o],p=0,m=u-1;(0!==h||p<i)&&-1!==m;m--,p++)h+=256*l[m]>>>0,l[m]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=p,o++;}for(var f=u-i;f!==u&&0===l[f];)f++;for(var y=c.repeat(r);f<u;++f)y+=t.charAt(l[f]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}},an}function mn(){if(dn)return un;dn=1;var e=pn();return un=e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}var fn=Xt(mn());function yn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function gn(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function _n(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function wn(e,t){gn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}
    /*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),kn=(e,t)=>e<<32-t|e>>>t,vn=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function En(e){for(let n=0;n<e.length;n++)e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;var t;}function An(e){return "string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),gn(e),e}class Sn{clone(){return this._cloneInto()}}function Rn(e){const t=t=>e().update(An(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const In=(e,t,n)=>e&t^e&n^t&n;class Tn extends Sn{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=bn(this.buffer);}update(e){_n(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=An(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else {const t=bn(e);for(;r<=i-o;o+=r)this.process(t,o);}}return this.length+=e.length,this.roundClean(),this}digestInto(e){_n(this),wn(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r);}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=bn(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,u[e],i);}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const On=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Nn=new Uint32Array(64);let Cn=class extends Tn{constructor(){super(64,32,8,!1),this.A=0|xn[0],this.B=0|xn[1],this.C=0|xn[2],this.D=0|xn[3],this.E=0|xn[4],this.F=0|xn[5],this.G=0|xn[6],this.H=0|xn[7];}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return [e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a;}process(e,t){for(let n=0;n<16;n++,t+=4)Nn[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Nn[e-15],n=Nn[e-2],r=kn(t,7)^kn(t,18)^t>>>3,i=kn(n,17)^kn(n,19)^n>>>10;Nn[e]=i+Nn[e-7]+r+Nn[e-16]|0;}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(kn(s,6)^kn(s,11)^kn(s,25))+((d=s)&a^~d&c)+On[e]+Nn[e]|0,l=(kn(n,2)^kn(n,13)^kn(n,22))+In(n,r,i)|0;u=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+l|0;}var d;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,i,o,s,a,c,u);}roundClean(){Nn.fill(0);}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0);}};const Pn=Rn((()=>new Cn));var Bn={};function Mn(e,t,n){return t<=e&&e<=n}function Ln(e){if(void 0===e)return {};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function Un(e){this.tokens=[].slice.call(e);}Un.prototype={endOfStream:function(){return !this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e);},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e);}};var zn=-1;function Dn(e,t){if(e)throw TypeError("Decoder error");return t||65533}var Hn="utf-8";function Fn(e,t){if(!(this instanceof Fn))return new Fn(e,t);if((e=void 0!==e?String(e).toLowerCase():Hn)!==Hn)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ln(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM});}function qn(e,t){if(!(this instanceof qn))return new qn(e,t);if((e=void 0!==e?String(e).toLowerCase():Hn)!==Hn)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ln(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"});}function Vn(e){var t=e.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(e,a){if(-1===a&&0!==i)return i=0,Dn(t);if(-1===a)return zn;if(0===i){if(Mn(a,0,127))return a;if(Mn(a,194,223))i=1,n=a-192;else if(Mn(a,224,239))224===a&&(o=160),237===a&&(s=159),i=2,n=a-224;else {if(!Mn(a,240,244))return Dn(t);240===a&&(o=144),244===a&&(s=143),i=3,n=a-240;}return n<<=6*i,null}if(!Mn(a,o,s))return n=i=r=0,o=128,s=191,e.prepend(a),Dn(t);if(o=128,s=191,n+=a-128<<6*(i-(r+=1)),r!==i)return null;var c=n;return n=i=r=0,c};}function Kn(e){e.fatal,this.handler=function(e,t){if(-1===t)return zn;if(Mn(t,0,127))return t;var n,r;Mn(t,128,2047)?(n=1,r=192):Mn(t,2048,65535)?(n=2,r=224):Mn(t,65536,1114111)&&(n=3,r=240);for(var i=[(t>>6*n)+r];n>0;){var o=t>>6*(n-1);i.push(128|63&o),n-=1;}return i};}Fn.prototype={decode:function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=Ln(t),this._streaming||(this._decoder=new Vn({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,i=new Un(n),o=[];!i.endOfStream()&&(r=this._decoder.handler(i,i.read()))!==zn;)null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));if(!this._streaming){do{if((r=this._decoder.handler(i,i.read()))===zn)break;null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));}while(!i.endOfStream());this._decoder=null;}return o.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)));}return t}(o)}},qn.prototype={encode:function(e,t){e=e?String(e):"",t=Ln(t),this._streaming||(this._encoder=new Kn(this._options)),this._streaming=Boolean(t.stream);for(var n,r=[],i=new Un(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else {var s=e.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,c=1023&s;i.push(65536+(a<<10)+c),r+=1;}else i.push(65533);}r+=1;}return i}(e));!i.endOfStream()&&(n=this._encoder.handler(i,i.read()))!==zn;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(i,i.read()))!==zn;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null;}return new Uint8Array(r)}};var Wn,jn=Qt(Object.freeze({__proto__:null,TextDecoder:Fn,TextEncoder:qn}));var Gn,$n=function(){if(Wn)return Bn;Wn=1;var e=Bn.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}});}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n];}),t=Bn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t});}:function(e,t){e.default=t;}),n=Bn.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},r=Bn.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var i in n)"default"!==i&&Object.hasOwnProperty.call(n,i)&&e(r,n,i);return t(r,n),r},i=Bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.deserializeUnchecked=Bn.deserialize=Bn.serialize=Bn.BinaryReader=Bn.BinaryWriter=Bn.BorshError=Bn.baseDecode=Bn.baseEncode=void 0;const o=i(on()),s=i(mn()),a=r(jn),c=new("function"!=typeof TextDecoder?a.TextDecoder:TextDecoder)("utf-8",{fatal:!0});Bn.baseEncode=function(e){return "string"==typeof e&&(e=Buffer.from(e,"utf8")),s.default.encode(Buffer.from(e))},Bn.baseDecode=function(e){return Buffer.from(s.default.decode(e))};const u=1024;class d extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e;}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".");}}Bn.BorshError=d;class l{constructor(){this.buf=Buffer.alloc(u),this.length=0;}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(u)]));}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1;}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2;}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4;}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(e).toArray("le",8)));}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(e).toArray("le",16)));}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(e).toArray("le",32)));}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(e).toArray("le",64)));}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(u)]),this.length+=e.length;}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t);}writeFixedArray(e){this.writeBuffer(Buffer.from(e));}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n);}toArray(){return this.buf.subarray(0,this.length)}}function h(e,t,n){const r=n.value;n.value=function(...e){try{return r.apply(this,e)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new d("Reached the end of buffer when deserializing")}throw e}};}Bn.BinaryWriter=l;class p{constructor(e){this.buf=e,this.offset=0;}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new o.default(e,"le")}readU128(){const e=this.readBuffer(16);return new o.default(e,"le")}readU256(){const e=this.readBuffer(32);return new o.default(e,"le")}readU512(){const e=this.readBuffer(64);return new o.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new d(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return c.decode(t)}catch(e){throw new d(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}function f(e,t,n,r,i){try{if("string"==typeof r)i[`write${m(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new d(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n);}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new d(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let t=0;t<r[1];t++)f(e,null,n[t],r[0],i);}else i.writeArray(n,(n=>{f(e,t,n,r[0],i);}));else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),f(e,t,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,o)=>{f(e,t,o,r.key,i),f(e,t,n,r.value,i);}));break;default:throw new d(`FieldType ${r} unrecognized`)}else y(e,n,i);}catch(e){throw e instanceof d&&e.addToFieldPath(t),e}}function y(e,t,n){if("function"==typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new d(`Class ${t.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((([r,i])=>{f(e,r,t[r],i,n);}));else {if("enum"!==r.kind)throw new d(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`);{const i=t[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),f(e,s,t[s],a,n);break}}}}}function g(e,t,n,r){try{if("string"==typeof n)return r[`read${m(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const t=[];for(let i=0;i<n[1];i++)t.push(g(e,null,n[0],r));return t}return r.readArray((()=>g(e,t,n[0],r)))}if("option"===n.kind){return r.readU8()?g(e,t,n.type,r):void 0}if("map"===n.kind){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const o=g(e,t,n.key,r),s=g(e,t,n.value,r);i.set(o,s);}return i}return _(e,n,r)}catch(e){throw e instanceof d&&e.addToFieldPath(t),e}}function _(e,t,n){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new d(`Class ${t.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of e.get(t).fields)r[i]=g(e,i,o,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new d(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=g(e,o,s,n);return new t({[o]:a})}throw new d(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}return n([h],p.prototype,"readU8",null),n([h],p.prototype,"readU16",null),n([h],p.prototype,"readU32",null),n([h],p.prototype,"readU64",null),n([h],p.prototype,"readU128",null),n([h],p.prototype,"readU256",null),n([h],p.prototype,"readU512",null),n([h],p.prototype,"readString",null),n([h],p.prototype,"readFixedArray",null),n([h],p.prototype,"readArray",null),Bn.BinaryReader=p,Bn.serialize=function(e,t,n=l){const r=new n;return y(e,t,r),r.toArray()},Bn.deserialize=function(e,t,n,r=p){const i=new r(n),o=_(e,t,i);if(i.offset<n.length)throw new d(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o},Bn.deserializeUnchecked=function(e,t,n,r=p){return _(e,t,new r(n))},Bn}(),Zn={};var Yn,Jn=function(){if(Gn)return Zn;Gn=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.s16=Zn.s8=Zn.nu64be=Zn.u48be=Zn.u40be=Zn.u32be=Zn.u24be=Zn.u16be=Zn.nu64=Zn.u48=Zn.u40=Zn.u32=Zn.u24=Zn.u16=Zn.u8=Zn.offset=Zn.greedy=Zn.Constant=Zn.UTF8=Zn.CString=Zn.Blob=Zn.Boolean=Zn.BitField=Zn.BitStructure=Zn.VariantLayout=Zn.Union=Zn.UnionLayoutDiscriminator=Zn.UnionDiscriminator=Zn.Structure=Zn.Sequence=Zn.DoubleBE=Zn.Double=Zn.FloatBE=Zn.Float=Zn.NearInt64BE=Zn.NearInt64=Zn.NearUInt64BE=Zn.NearUInt64=Zn.IntBE=Zn.Int=Zn.UIntBE=Zn.UInt=Zn.OffsetLayout=Zn.GreedyCount=Zn.ExternalLayout=Zn.bindConstructorLayout=Zn.nameWithProperty=Zn.Layout=Zn.uint8ArrayToBuffer=Zn.checkUint8Array=void 0,Zn.constant=Zn.utf8=Zn.cstr=Zn.blob=Zn.unionLayoutDiscriminator=Zn.union=Zn.seq=Zn.bits=Zn.struct=Zn.f64be=Zn.f64=Zn.f32be=Zn.f32=Zn.ns64be=Zn.s48be=Zn.s40be=Zn.s32be=Zn.s24be=Zn.s16be=Zn.ns64=Zn.s48=Zn.s40=Zn.s32=Zn.s24=void 0;const e=nn;function t(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function n(n){return t(n),e.Buffer.from(n.buffer,n.byteOffset,n.length)}Zn.checkUint8Array=t,Zn.uint8ArrayToBuffer=n;class r{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t;}makeDestinationObject(){return {}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function i(e,t){return t.property?e+"["+t.property+"]":e}Zn.Layout=r,Zn.nameWithProperty=i,Zn.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,n)=>t.decode(e,n),writable:!0});};class o extends r{isCount(){throw new Error("ExternalLayout is abstract")}}Zn.ExternalLayout=o;class s extends o{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e;}isCount(){return !0}decode(e,n=0){t(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,t,n){return 0}}Zn.GreedyCount=s;class a extends o{constructor(e,t=0,n){if(!(e instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t;}isCount(){return this.layout instanceof c||this.layout instanceof u}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}Zn.OffsetLayout=a;class c extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readUIntLE(t,this.span)}encode(e,t,r=0){return n(t).writeUIntLE(e,r,this.span),this.span}}Zn.UInt=c;class u extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readUIntBE(t,this.span)}encode(e,t,r=0){return n(t).writeUIntBE(e,r,this.span),this.span}}Zn.UIntBE=u;class d extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readIntLE(t,this.span)}encode(e,t,r=0){return n(t).writeIntLE(e,r,this.span),this.span}}Zn.Int=d;class l extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readIntBE(t,this.span)}encode(e,t,r=0){return n(t).writeIntBE(e,r,this.span),this.span}}Zn.IntBE=l;const h=Math.pow(2,32);function p(e){const t=Math.floor(e/h);return {hi32:t,lo32:e-t*h}}function m(e,t){return e*h+t}class f extends r{constructor(e){super(8,e);}decode(e,t=0){const r=n(e),i=r.readUInt32LE(t);return m(r.readUInt32LE(t+4),i)}encode(e,t,r=0){const i=p(e),o=n(t);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}}Zn.NearUInt64=f;class y extends r{constructor(e){super(8,e);}decode(e,t=0){const r=n(e);return m(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const i=p(e),o=n(t);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}}Zn.NearUInt64BE=y;class g extends r{constructor(e){super(8,e);}decode(e,t=0){const r=n(e),i=r.readUInt32LE(t);return m(r.readInt32LE(t+4),i)}encode(e,t,r=0){const i=p(e),o=n(t);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}}Zn.NearInt64=g;class _ extends r{constructor(e){super(8,e);}decode(e,t=0){const r=n(e);return m(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const i=p(e),o=n(t);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}}Zn.NearInt64BE=_;class w extends r{constructor(e){super(4,e);}decode(e,t=0){return n(e).readFloatLE(t)}encode(e,t,r=0){return n(t).writeFloatLE(e,r),4}}Zn.Float=w;class b extends r{constructor(e){super(4,e);}decode(e,t=0){return n(e).readFloatBE(t)}encode(e,t,r=0){return n(t).writeFloatBE(e,r),4}}Zn.FloatBE=b;class k extends r{constructor(e){super(8,e);}decode(e,t=0){return n(e).readDoubleLE(t)}encode(e,t,r=0){return n(t).writeDoubleLE(e,r),8}}Zn.Double=k;class v extends r{constructor(e){super(8,e);}decode(e,t=0){return n(e).readDoubleBE(t)}encode(e,t,r=0){return n(t).writeDoubleBE(e,r),8}}Zn.DoubleBE=v;class E extends r{constructor(e,t,n){if(!(e instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof o&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof o)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t;}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof o&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else {let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i;}return n}decode(e,t=0){const n=[];let r=0,i=this.count;for(i instanceof o&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof o&&this.count.encode(e.length,t,n),i}}Zn.Sequence=E;class A extends r{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof r),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce(((e,t)=>e+t.getSpan()),0);}catch(e){}super(i,t),this.fields=e,this.decodePrefixes=!!n;}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0);}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,n=0){t(e);const r=this.makeDestinationObject();for(const t of this.fields)if(void 0!==t.property&&(r[t.property]=t.decode(e,n)),n+=t.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,t,n=0){const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)));}i=n,n+=s;}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span);}}}Zn.Structure=A;class S{constructor(e){this.property=e;}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}Zn.UnionDiscriminator=S;class R extends S{constructor(e,t){if(!(e instanceof o&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e;}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}Zn.UnionLayoutDiscriminator=R;class I extends r{constructor(e,t,n){let i;if(e instanceof c||e instanceof u)i=new R(new a(e));else if(e instanceof o&&e.isCount())i=new R(e);else {if(!(e instanceof S))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=e;}if(void 0===t&&(t=null),!(null===t||t instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"));}let s=-1;t&&(s=t.span,0<=s&&(e instanceof c||e instanceof u)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof c||e instanceof u,this.defaultLayout=t,this.registry={};let d=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return d(e)},this.configGetSourceVariant=function(e){d=e.bind(this);};}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const r=this.discriminator,i=r.decode(e,t),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=o.decode(e,t+s);}else n=o.decode(e,t);return n}encode(e,t,n=0){const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new T(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t=0){let n;return n=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[n]}}Zn.Union=I;class T extends r{constructor(e,t,n,i){if(!(e instanceof I))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof r))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=t,this.layout=n||null;}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function O(e){return 0>e&&(e+=4294967296),e}Zn.VariantLayout=T;class x extends r{constructor(e,t,n){if(!(e instanceof c||e instanceof u))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=O(e),this},this._packedGetValue=function(){return r};}decode(e,t=0){const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const t of this.fields)void 0!==t.property&&(n[t.property]=t.decode(e));return n}encode(e,t,n=0){const r=this.word.decode(t,n);this._packedSetValue(r);for(const t of this.fields)if(void 0!==t.property){const n=e[t.property];void 0!==n&&t.encode(n);}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new N(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new C(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}Zn.BitStructure=x;class N{constructor(e,t,n){if(!(e instanceof x))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=O(this.valueMask<<this.start),this.property=n;}decode(e,t){return O(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==O(e&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=O(e<<this.start);this.container._packedSetValue(O(t&~this.wordMask)|n);}}Zn.BitField=N;class C extends N{constructor(e,t){super(e,1,t);}decode(e,t){return !!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e);}}Zn.Boolean=C;class P extends r{constructor(e,t){if(!(e instanceof o&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof o||(n=e),super(n,t),this.length=e;}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),n(e).slice(t,t+r)}encode(e,t,r){let s=this.length;if(this.length instanceof o&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>t.length)throw new RangeError("encoding overruns Uint8Array");const a=n(e);return n(t).write(a.toString("hex"),r,s,"hex"),this.length instanceof o&&this.length.encode(s,t,r),s}}Zn.Blob=P;class B extends r{constructor(e){super(-1,e);}getSpan(e,n=0){t(e);let r=n;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-n}decode(e,t=0){const r=this.getSpan(e,t);return n(e).slice(t,t+r-1).toString("utf-8")}encode(t,r,i=0){"string"!=typeof t&&(t=String(t));const o=e.Buffer.from(t,"utf8"),s=o.length;if(i+s>r.length)throw new RangeError("encoding overruns Buffer");const a=n(r);return o.copy(a,i),a[i+s]=0,s+1}}Zn.CString=B;class M extends r{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e;}getSpan(e,n=0){return t(e),e.length-n}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return n(e).slice(t,t+r).toString("utf-8")}encode(t,r,i=0){"string"!=typeof t&&(t=String(t));const o=e.Buffer.from(t,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(i+s>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(n(r),i),s}}Zn.UTF8=M;class L extends r{constructor(e,t){super(0,t),this.value=e;}decode(e,t){return this.value}encode(e,t,n){return 0}}return Zn.Constant=L,Zn.greedy=(e,t)=>new s(e,t),Zn.offset=(e,t,n)=>new a(e,t,n),Zn.u8=e=>new c(1,e),Zn.u16=e=>new c(2,e),Zn.u24=e=>new c(3,e),Zn.u32=e=>new c(4,e),Zn.u40=e=>new c(5,e),Zn.u48=e=>new c(6,e),Zn.nu64=e=>new f(e),Zn.u16be=e=>new u(2,e),Zn.u24be=e=>new u(3,e),Zn.u32be=e=>new u(4,e),Zn.u40be=e=>new u(5,e),Zn.u48be=e=>new u(6,e),Zn.nu64be=e=>new y(e),Zn.s8=e=>new d(1,e),Zn.s16=e=>new d(2,e),Zn.s24=e=>new d(3,e),Zn.s32=e=>new d(4,e),Zn.s40=e=>new d(5,e),Zn.s48=e=>new d(6,e),Zn.ns64=e=>new g(e),Zn.s16be=e=>new l(2,e),Zn.s24be=e=>new l(3,e),Zn.s32be=e=>new l(4,e),Zn.s40be=e=>new l(5,e),Zn.s48be=e=>new l(6,e),Zn.ns64be=e=>new _(e),Zn.f32=e=>new w(e),Zn.f32be=e=>new b(e),Zn.f64=e=>new k(e),Zn.f64be=e=>new v(e),Zn.struct=(e,t,n)=>new A(e,t,n),Zn.bits=(e,t,n)=>new x(e,t,n),Zn.seq=(e,t,n)=>new E(e,t,n),Zn.union=(e,t,n)=>new I(e,t,n),Zn.unionLayoutDiscriminator=(e,t)=>new R(e,t),Zn.blob=(e,t)=>new P(e,t),Zn.cstr=e=>new B(e),Zn.utf8=(e,t)=>new M(e,t),Zn.constant=(e,t)=>new L(e,t),Zn}(),Xn={};var Qn=(Yn||(Yn=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.toBigIntLE=function(e){{const t=Buffer.from(e);t.reverse();const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},Xn.toBigIntBE=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},Xn.toBufferLE=function(e,t){{const n=e.toString(16),r=Buffer.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return r.reverse(),r}},Xn.toBufferBE=function(e,t){{const n=e.toString(16);return Buffer.from(n.padStart(2*t,"0").slice(0,2*t),"hex")}}),Xn);let er=class extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...o}=e,{path:s}=e,a=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()]);}};function tr(e){return "object"==typeof e&&null!=e}function nr(e){return tr(e)&&!Array.isArray(e)}function rr(e){return "symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function ir(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${rr(r)}\``}=e;return {value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*or(e,t,n,r){var i;tr(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const i of e){const e=ir(i,t,n,r);e&&(yield e);}}function*sr(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(e=t.coercer(e,a));let c="valid";for(const r of t.validator(e,a))r.explanation=n.message,c="not_valid",yield [r,void 0];for(let[u,d,l]of t.entries(e,a)){const t=sr(d,l,{path:void 0===u?r:[...r,u],branch:void 0===u?i:[...i,d],coerce:o,mask:s,message:n.message});for(const n of t)n[0]?(c=null!=n[0].refinement?"not_refined":"not_valid",yield [n[0],void 0]):o&&(d=n[1],void 0===u?e=d:e instanceof Map?e.set(u,d):e instanceof Set?e.add(d):tr(e)&&(void 0!==d||u in e)&&(e[u]=d));}if("not_valid"!==c)for(const r of t.refiner(e,a))r.explanation=n.message,c="not_refined",yield [r,void 0];"valid"===c&&(yield [void 0,e]);}let ar=class{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>or(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>or(i(e,t),t,this,e):()=>[];}assert(e,t){return cr(e,this,t)}create(e,t){return ur(e,this,t)}is(e){return dr(e,this)}mask(e,t){return function(e,t,n){const r=lr(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return lr(e,this,t)}};function cr(e,t,n){const r=lr(e,t,{message:n});if(r[0])throw r[0]}function ur(e,t,n){const r=lr(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function dr(e,t){return !lr(e,t)[0]}function lr(e,t,n={}){const r=sr(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){return [new er(i[0],(function*(){for(const e of r)e[0]&&(yield e[0]);})),void 0]}return [void 0,i[1]]}function hr(e,t){return new ar({type:e,schema:null,validator:t})}function pr(e){return new ar({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield [n,r,e];},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${rr(e)}`})}function mr(){return hr("boolean",(e=>"boolean"==typeof e))}function fr(e){return hr("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${rr(t)}`))}function yr(e){const t=rr(e),n=typeof e;return new ar({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${rr(n)}`})}function gr(e){return new ar({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function _r(){return hr("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${rr(e)}`))}function wr(e){return new ar({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function br(e,t){return new ar({type:"record",schema:null,*entries(n){if(tr(n))for(const r in n){const i=n[r];yield [r,r,e],yield [r,i,t];}},validator:e=>nr(e)||`Expected an object, but received: ${rr(e)}`,coercer:e=>nr(e)?{...e}:e})}function kr(){return hr("string",(e=>"string"==typeof e||`Expected a string, but received: ${rr(e)}`))}function vr(e){const t=hr("never",(()=>!1));return new ar({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield [i,n[i],e[i]||t];}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${rr(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function Er(e){const t=Object.keys(e);return new ar({type:"type",schema:e,*entries(n){if(tr(n))for(const r of t)yield [r,n[r],e[r]];},validator:e=>nr(e)||`Expected an object, but received: ${rr(e)}`,coercer:e=>nr(e)?{...e}:e})}function Ar(e){const t=e.map((e=>e.type)).join(" | ");return new ar({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,i]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return i}return t},validator(n,r){const i=[];for(const t of e){const[...e]=sr(n,t,r),[o]=e;if(!o[0])return [];for(const[t]of e)t&&i.push(t);}return [`Expected the value to satisfy a union of \`${t}\`, but received: ${rr(n)}`,...i]}})}function Sr(){return hr("unknown",(()=>!0))}function Rr(e,t,n){return new ar({...e,coercer:(r,i)=>dr(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var Ir,Tr=new Uint8Array(16);function Or(){if(!Ir&&!(Ir="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ir(Tr)}var xr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Nr(e){return "string"==typeof e&&xr.test(e)}for(var Cr,Pr,Br=[],Mr=0;Mr<256;++Mr)Br.push((Mr+256).toString(16).substr(1));function Lr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Br[e[t+0]]+Br[e[t+1]]+Br[e[t+2]]+Br[e[t+3]]+"-"+Br[e[t+4]]+Br[e[t+5]]+"-"+Br[e[t+6]]+Br[e[t+7]]+"-"+Br[e[t+8]]+Br[e[t+9]]+"-"+Br[e[t+10]]+Br[e[t+11]]+Br[e[t+12]]+Br[e[t+13]]+Br[e[t+14]]+Br[e[t+15]]).toLowerCase();if(!Nr(n))throw TypeError("Stringified UUID is invalid");return n}var Ur=0,zr=0;function Dr(e){if(!Nr(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function Hr(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=Dr(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return Lr(s)}try{r.name=e;}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function Fr(e){return 14+(e+64>>>9<<4)+1}function qr(e,t){var n=(65535&e)+(65535&t);return (e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Vr(e,t,n,r,i,o){return qr((s=qr(qr(t,e),qr(r,o)))<<(a=i)|s>>>32-a,n);var s,a;}function Kr(e,t,n,r,i,o,s){return Vr(t&n|~t&r,e,t,i,o,s)}function Wr(e,t,n,r,i,o,s){return Vr(t&r|n&~r,e,t,i,o,s)}function jr(e,t,n,r,i,o,s){return Vr(t^n^r,e,t,i,o,s)}function Gr(e,t,n,r,i,o,s){return Vr(n^(t|~r),e,t,i,o,s)}var $r=Hr("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n);}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(s);}return t}(function(e,t){e[t>>5]|=128<<t%32,e[Fr(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=r,u=i,d=o;n=Kr(n,r,i,o,e[s],7,-680876936),o=Kr(o,n,r,i,e[s+1],12,-389564586),i=Kr(i,o,n,r,e[s+2],17,606105819),r=Kr(r,i,o,n,e[s+3],22,-1044525330),n=Kr(n,r,i,o,e[s+4],7,-176418897),o=Kr(o,n,r,i,e[s+5],12,1200080426),i=Kr(i,o,n,r,e[s+6],17,-1473231341),r=Kr(r,i,o,n,e[s+7],22,-45705983),n=Kr(n,r,i,o,e[s+8],7,1770035416),o=Kr(o,n,r,i,e[s+9],12,-1958414417),i=Kr(i,o,n,r,e[s+10],17,-42063),r=Kr(r,i,o,n,e[s+11],22,-1990404162),n=Kr(n,r,i,o,e[s+12],7,1804603682),o=Kr(o,n,r,i,e[s+13],12,-40341101),i=Kr(i,o,n,r,e[s+14],17,-1502002290),n=Wr(n,r=Kr(r,i,o,n,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=Wr(o,n,r,i,e[s+6],9,-1069501632),i=Wr(i,o,n,r,e[s+11],14,643717713),r=Wr(r,i,o,n,e[s],20,-373897302),n=Wr(n,r,i,o,e[s+5],5,-701558691),o=Wr(o,n,r,i,e[s+10],9,38016083),i=Wr(i,o,n,r,e[s+15],14,-660478335),r=Wr(r,i,o,n,e[s+4],20,-405537848),n=Wr(n,r,i,o,e[s+9],5,568446438),o=Wr(o,n,r,i,e[s+14],9,-1019803690),i=Wr(i,o,n,r,e[s+3],14,-187363961),r=Wr(r,i,o,n,e[s+8],20,1163531501),n=Wr(n,r,i,o,e[s+13],5,-1444681467),o=Wr(o,n,r,i,e[s+2],9,-51403784),i=Wr(i,o,n,r,e[s+7],14,1735328473),n=jr(n,r=Wr(r,i,o,n,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=jr(o,n,r,i,e[s+8],11,-2022574463),i=jr(i,o,n,r,e[s+11],16,1839030562),r=jr(r,i,o,n,e[s+14],23,-35309556),n=jr(n,r,i,o,e[s+1],4,-1530992060),o=jr(o,n,r,i,e[s+4],11,1272893353),i=jr(i,o,n,r,e[s+7],16,-155497632),r=jr(r,i,o,n,e[s+10],23,-1094730640),n=jr(n,r,i,o,e[s+13],4,681279174),o=jr(o,n,r,i,e[s],11,-358537222),i=jr(i,o,n,r,e[s+3],16,-722521979),r=jr(r,i,o,n,e[s+6],23,76029189),n=jr(n,r,i,o,e[s+9],4,-640364487),o=jr(o,n,r,i,e[s+12],11,-421815835),i=jr(i,o,n,r,e[s+15],16,530742520),n=Gr(n,r=jr(r,i,o,n,e[s+2],23,-995338651),i,o,e[s],6,-198630844),o=Gr(o,n,r,i,e[s+7],10,1126891415),i=Gr(i,o,n,r,e[s+14],15,-1416354905),r=Gr(r,i,o,n,e[s+5],21,-57434055),n=Gr(n,r,i,o,e[s+12],6,1700485571),o=Gr(o,n,r,i,e[s+3],10,-1894986606),i=Gr(i,o,n,r,e[s+10],15,-1051523),r=Gr(r,i,o,n,e[s+1],21,-2054922799),n=Gr(n,r,i,o,e[s+8],6,1873313359),o=Gr(o,n,r,i,e[s+15],10,-30611744),i=Gr(i,o,n,r,e[s+6],15,-1560198380),r=Gr(r,i,o,n,e[s+13],21,1309151649),n=Gr(n,r,i,o,e[s+4],6,-145523070),o=Gr(o,n,r,i,e[s+11],10,-1120210379),i=Gr(i,o,n,r,e[s+2],15,718787259),r=Gr(r,i,o,n,e[s+9],21,-343485551),n=qr(n,a),r=qr(r,c),i=qr(i,u),o=qr(o,d);}return [n,r,i,o]}(function(e){if(0===e.length)return [];for(var t=8*e.length,n=new Uint32Array(Fr(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));function Zr(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function Yr(e,t){return e<<t|e>>>32-t}var Jr=Hr("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i));}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=e[64*c+4*d]<<24|e[64*c+4*d+1]<<16|e[64*c+4*d+2]<<8|e[64*c+4*d+3];a[c]=u;}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var l=0;l<s;++l){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=a[l][p];for(var m=16;m<80;++m)h[m]=Yr(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var f=n[0],y=n[1],g=n[2],_=n[3],w=n[4],b=0;b<80;++b){var k=Math.floor(b/20),v=Yr(f,5)+Zr(k,y,g,_)+w+t[k]+h[b]>>>0;w=_,_=g,g=Yr(y,30)>>>0,y=f,f=v;}n[0]=n[0]+f>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+_>>>0,n[4]=n[4]+w>>>0;}return [n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var Xr,Qr,ei,ti,ni=Object.freeze({__proto__:null,NIL:"00000000-0000-0000-0000-000000000000",parse:Dr,stringify:Lr,v1:function(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||Cr,s=void 0!==e.clockseq?e.clockseq:Pr;if(null==o||null==s){var a=e.random||(e.rng||Or)();null==o&&(o=Cr=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=Pr=16383&(a[6]<<8|a[7]));}var c=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:zr+1,d=c-Ur+(u-zr)/1e4;if(d<0&&void 0===e.clockseq&&(s=s+1&16383),(d<0||c>Ur)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ur=c,zr=u,Pr=s;var l=(1e4*(268435455&(c+=122192928e5))+u)%4294967296;i[r++]=l>>>24&255,i[r++]=l>>>16&255,i[r++]=l>>>8&255,i[r++]=255&l;var h=c/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=255&h,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var p=0;p<6;++p)i[r+p]=o[p];return t||Lr(i)},v3:$r,v4:function(e,t,n){var r=(e=e||{}).random||(e.rng||Or)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Lr(r)},v5:Jr,validate:Nr,version:function(e){if(!Nr(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}}),ri=Qt(ni);var ii,oi=function(){if(ti)return ei;ti=1;const e=ri.v4,t=function(){if(Qr)return Xr;Qr=1;const e=ri.v4;return Xr=function(t,n,r,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:t};if(2===o&&(s.jsonrpc="2.0"),n){if("object"!=typeof n&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");s.params=n;}if(void 0===r){const t="function"==typeof i.generator?i.generator:function(){return e()};s.id=t(s,i);}else 2===o&&null===r?i.notificationIdNull&&(s.id=null):s.id=r;return s},Xr}(),n=function(t,r){if(!(this instanceof n))return new n(t,r);r||(r={}),this.options={reviver:void 0!==r.reviver?r.reviver:null,replacer:void 0!==r.replacer?r.replacer:null,generator:void 0!==r.generator?r.generator:function(){return e()},version:void 0!==r.version?r.version:2,notificationIdNull:"boolean"==typeof r.notificationIdNull&&r.notificationIdNull},this.callServer=t;};return ei=n,n.prototype.request=function(e,n,r,i){const o=this;let s=null;const a=Array.isArray(e)&&"function"==typeof n;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"==typeof e&&"function"==typeof n)i=n,s=e;else {"function"==typeof r&&(i=r,r=void 0);const o="function"==typeof i;try{s=t(e,n,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull});}catch(e){if(o)return i(e);throw e}if(!o)return s}let c;try{c=JSON.stringify(s,this.options.replacer);}catch(e){return i(e)}return this.callServer(c,(function(e,t){o._parseResponse(e,t,i);})),s},n.prototype._parseResponse=function(e,t,n){if(e)return void n(e);if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver);}catch(e){return n(e)}if(3===n.length){if(Array.isArray(r)){const e=function(e){return void 0!==e.error},t=function(t){return !e(t)};return n(null,r.filter(e),r.filter(t))}return n(null,r.error,r.result)}n(null,r);},ei}(),si=Xt(oi),ai={exports:{}};var ci=(ii||(ii=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1;}function o(e,t,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t];}function a(){this._events=new r,this._eventsCount=0;}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return [];if(r.fn)return [r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return !1;var c,u,d=this._events[a],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,i),!0;case 5:return d.fn.call(d.context,t,r,i,o),!0;case 6:return d.fn.call(d.context,t,r,i,o,s),!0}for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c);}else {var h,p=d.length;for(u=0;u<p;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),l){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];d[u].fn.apply(d[u].context,c);}}return !0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else {for(var c=0,u=[],d=a.length;c<d;c++)(a[c].fn!==t||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o);}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a;}(ai)),ai.exports),ui=Xt(ci),di=class extends ui{socket;constructor(e,t,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason);};}send(e,t,n){const r=n||t;try{this.socket.send(e),r();}catch(e){r(e);}}close(e,t){this.socket.close(e,t);}addEventListener(e,t,n){this.socket.addEventListener(e,t,n);}};var li=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},hi=class extends ui{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...s}={},a,c){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=s,this.current_reconnects=0,this.generate_request_id=a||(()=>++this.rpc_id),this.dataPack=c||new li,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options});}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options});}call(e,t,n,r){return r||"object"!=typeof n||(r=n,n=null),new Promise(((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const s=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:s};this.socket.send(this.dataPack.encode(a),r,(e=>{if(e)return o(e);this.queue[s]={promise:[i,o]},n&&(this.queue[s].timeout=setTimeout((()=>{delete this.queue[s],o(new Error("reply timeout"));}),n));}));}))}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise(((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),(e=>{if(e)return r(e);n();}));}))}async subscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t);}setAutoReconnect(e){this.reconnect=e;}setReconnectInterval(e){this.reconnect_interval=e;}setMaxReconnects(e){this.max_reconnects=e;}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0;})),this.socket.addEventListener("message",(({data:e})=>{e instanceof ArrayBuffer&&(e=g.from(e).toString());try{e=this.dataPack.decode(e);}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let n=0;n<e.params.length;n++)t.push(e.params[n]);return Promise.resolve().then((()=>{this.emit.apply(this,t);}))}if(!this.queue[e.id])return e.method?Promise.resolve().then((()=>{this.emit(e.method,e?.params);})):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id];})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(({code:n,reason:r})=>{this.ready&&setTimeout((()=>this.emit("close",n,r)),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,t)),this.reconnect_interval)));}));}};const pi=BigInt(2**32-1),mi=BigInt(32);function fi(e,t=!1){return t?{h:Number(e&pi),l:Number(e>>mi&pi)}:{h:0|Number(e>>mi&pi),l:0|Number(e&pi)}}function yi(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=fi(e[i],t);[n[i],r[i]]=[o,s];}return [n,r]}const gi=[],_i=[],wi=[],bi=BigInt(0),ki=BigInt(1),vi=BigInt(2),Ei=BigInt(7),Ai=BigInt(256),Si=BigInt(113);for(let e=0,t=ki,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],gi.push(2*(5*r+n)),_i.push((e+1)*(e+2)/2%64);let i=bi;for(let e=0;e<7;e++)t=(t<<ki^(t>>Ei)*Si)%Ai,t&vi&&(i^=ki<<(ki<<BigInt(e))-ki);wi.push(i);}const[Ri,Ii]=yi(wi,!0),Ti=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),Oi=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class xi extends Sn{constructor(e,t,n,r=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,yn(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)));}keccak(){vn||En(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,o=n[i],s=n[i+1],a=Ti(o,s,1)^n[r],c=Oi(o,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c;}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=_i[n],o=Ti(t,i,r),s=Oi(t,i,r),a=gi[n];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s;}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10];}e[0]^=Ri[r],e[1]^=Ii[r];}n.fill(0);}(this.state32,this.rounds),vn||En(this.state32),this.posOut=0,this.pos=0;}update(e){_n(this);const{blockLen:t,state:n}=this,r=(e=An(e)).length;for(let i=0;i<r;){const o=Math.min(t-this.pos,r-i);for(let t=0;t<o;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak();}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak();}writeInto(e){_n(this,!1),gn(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o;}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return yn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(wn(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0);}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new xi(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Ni=((e,t,n)=>Rn((()=>new xi(t,e,n))))(1,136,32),Ci=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bi=new Uint32Array(64);class Mi extends me{constructor(){super(64,32,8,!1),this.A=0|Pi[0],this.B=0|Pi[1],this.C=0|Pi[2],this.D=0|Pi[3],this.E=0|Pi[4],this.F=0|Pi[5],this.G=0|Pi[6],this.H=0|Pi[7];}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return [e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a;}process(e,t){for(let n=0;n<16;n++,t+=4)Bi[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Bi[e-15],n=Bi[e-2],r=ce(t,7)^ce(t,18)^t>>>3,i=ce(n,17)^ce(n,19)^n>>>10;Bi[e]=i+Bi[e-7]+r+Bi[e-16]|0;}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(ce(s,6)^ce(s,11)^ce(s,25))+((d=s)&a^~d&c)+Ci[e]+Bi[e]|0,l=(ce(n,2)^ce(n,13)^ce(n,22))+pe(n,r,i)|0;u=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+l|0;}var d;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,i,o,s,a,c,u);}roundClean(){Bi.fill(0);}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0);}}const Li=le((()=>new Mi));class Ui extends de{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");re(e.outputLen),re(e.blockLen);}(e);const n=ue(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0);}update(e){return oe(this),this.iHash.update(e),this}digestInto(e){oe(this),ie(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy();}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy();}}const zi=(e,t,n)=>new Ui(e,t).update(n).digest();
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    function Di(e){void 0!==e.lowS&&xe("lowS",e.lowS),void 0!==e.prehash&&xe("prehash",e.prehash);}zi.create=(e,t)=>new Ui(e,t);const{bytesToNumberBE:Hi,hexToBytes:Fi}=st,qi={Err:class extends Error{constructor(e=""){super(e);}},_tlv:{encode:(e,t)=>{const{Err:n}=qi;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Pe(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Pe(i.length/2|128):"";return Pe(e)+o+i+t},decode(e,t){const{Err:n}=qi;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let o=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of s)o=o<<8|e;if(r+=e,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;const s=t.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return {v:s,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=qi;if(e<Vi)throw new t("integer: negative integers are not allowed");let n=Pe(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=qi;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Hi(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=qi,i="string"==typeof e?Fi(e):e;Oe(i);const{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return {r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=qi,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},Vi=BigInt(0),Ki=BigInt(1);BigInt(2);const Wi=BigInt(3);function ji(e){const t=function(e){const t=Bt(e);it(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=kt(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return $e(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return {x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!=typeof e){if(Te(e)&&(e=Ce(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0");}let s;try{s="bigint"==typeof e?e:Ve(Ge("private key",e,r));}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(s=mt(s,o)),Je("private key",s,Ki,o),s}function c(e){if(!(e instanceof l))throw new Error("ProjectivePoint expected")}const u=ot(((e,t)=>{const{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return {x:r,y:i};const s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));const a=n.mul(r,t),c=n.mul(i,t),u=n.mul(o,t);if(s)return {x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return {x:a,y:c}})),d=ot((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const o=n.sqr(i),a=s(r);if(!n.eql(o,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return !0}));class l{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this);}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof l)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?l.ZERO:new l(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(l.fromAffine)}static fromHex(e){const t=l.fromAffine(o(Ge("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return l.BASE.multiply(a(e))}static msm(e,t){return Pt(l,r,e,t)}_setWindowSize(e){p.setWindowSize(this,e);}assertValidity(){d(this);}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return !n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){c(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,u=n.eql(n.mul(t,a),n.mul(o,i)),d=n.eql(n.mul(r,a),n.mul(s,i));return u&&d}negate(){return new l(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Wi),{px:o,py:s,pz:a}=this;let c=n.ZERO,u=n.ZERO,d=n.ZERO,h=n.mul(o,o),p=n.mul(s,s),m=n.mul(a,a),f=n.mul(o,s);return f=n.add(f,f),d=n.mul(o,a),d=n.add(d,d),c=n.mul(e,d),u=n.mul(i,m),u=n.add(c,u),c=n.sub(p,u),u=n.add(p,u),u=n.mul(c,u),c=n.mul(f,c),d=n.mul(i,d),m=n.mul(e,m),f=n.sub(h,m),f=n.mul(e,f),f=n.add(f,d),d=n.add(h,h),h=n.add(d,h),h=n.add(h,m),h=n.mul(h,f),u=n.add(u,h),m=n.mul(s,a),m=n.add(m,m),h=n.mul(m,f),c=n.sub(c,h),d=n.mul(m,p),d=n.add(d,d),d=n.add(d,d),new l(c,u,d)}add(e){c(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:u}=e;let d=n.ZERO,h=n.ZERO,p=n.ZERO;const m=t.a,f=n.mul(t.b,Wi);let y=n.mul(r,s),g=n.mul(i,a),_=n.mul(o,u),w=n.add(r,i),b=n.add(s,a);w=n.mul(w,b),b=n.add(y,g),w=n.sub(w,b),b=n.add(r,o);let k=n.add(s,u);return b=n.mul(b,k),k=n.add(y,_),b=n.sub(b,k),k=n.add(i,o),d=n.add(a,u),k=n.mul(k,d),d=n.add(g,_),k=n.sub(k,d),p=n.mul(m,b),d=n.mul(f,_),p=n.add(d,p),d=n.sub(g,p),p=n.add(g,p),h=n.mul(d,p),g=n.add(y,y),g=n.add(g,y),_=n.mul(m,_),b=n.mul(f,b),g=n.add(g,_),_=n.sub(y,_),_=n.mul(m,_),b=n.add(b,_),y=n.mul(g,b),h=n.add(h,y),y=n.mul(k,b),d=n.mul(w,d),d=n.sub(d,y),y=n.mul(w,g),p=n.mul(k,p),p=n.add(p,y),new l(d,h,p)}subtract(e){return this.add(e.negate())}is0(){return this.equals(l.ZERO)}wNAF(e){return p.wNAFCached(this,e,l.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;Je("scalar",e,Vi,i);const o=l.ZERO;if(e===Vi)return o;if(this.is0()||e===Ki)return this;if(!r||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,e,l.normalizeZ);let{k1neg:s,k1:a,k2neg:c,k2:u}=r.splitScalar(e),d=o,h=o,m=this;for(;a>Vi||u>Vi;)a&Ki&&(d=d.add(m)),u&Ki&&(h=h.add(m)),m=m.double(),a>>=Ki,u>>=Ki;return s&&(d=d.negate()),c&&(h=h.negate()),h=new l(n.mul(h.px,r.beta),h.py,h.pz),d.add(h)}multiply(e){const{endo:r,n:i}=t;let o,s;if(Je("scalar",e,Ki,i),r){const{k1neg:t,k1:i,k2neg:a,k2:c}=r.splitScalar(e);let{p:u,f:d}=this.wNAF(i),{p:h,f:m}=this.wNAF(c);u=p.constTimeNegate(t,u),h=p.constTimeNegate(a,h),h=new l(n.mul(h.px,r.beta),h.py,h.pz),o=u.add(h),s=d.add(m);}else {const{p:t,f:n}=this.wNAF(e);o=t,s=n;}return l.normalizeZ([o,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=l.BASE,i=(e,t)=>t!==Vi&&t!==Ki&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){return u(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Ki)return !0;if(n)return n(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Ki?this:n?n(l,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return xe("isCompressed",e),this.assertValidity(),i(l,this,e)}toHex(e=!0){return xe("isCompressed",e),Ce(this.toRawBytes(e))}}l.BASE=new l(t.Gx,t.Gy,n.ONE),l.ZERO=new l(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=Ct(l,t.endo?Math.ceil(h/2):h);return {CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:function(e){return Ye(e,Ki,t.n)}}}function Gi(e){const t=function(e){const t=Bt(e);return it(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(e){return mt(e,r)}function a(e){return gt(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:l}=ji({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),s=$e;return xe("isCompressed",r),r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return {x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+i+", or uncompressed "+o+", got "+t)}{const e=Ve(s);if(!Ye(e,Ki,n.ORDER))throw new Error("Point is not on curve");const t=d(e);let i;try{i=n.sqrt(t);}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return !(1&~r)!==((i&Ki)===Ki)&&(i=n.neg(i)),{x:e,y:i}}}}),h=e=>Ce(We(e,t.nByteLength));function p(e){return e>r>>Ki}const m=(e,t,n)=>Ve(e.slice(t,n));class f{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity();}static fromCompact(e){const n=t.nByteLength;return e=Ge("compactSignature",e,2*n),new f(m(e,0,n),m(e,n,2*n))}static fromDER(e){const{r:t,s:n}=qi.toSig(Ge("DER",e));return new f(t,n)}assertValidity(){Je("r",this.r,Ki,r),Je("s",this.s,Ki,r);}addRecoveryBit(e){return new f(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,u=w(Ge("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const d=2===o||3===o?r+t.n:r;if(d>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=1&o?"03":"02",p=c.fromHex(l+h(d)),m=a(d),f=s(-u*m),y=s(i*m),g=c.BASE.multiplyAndAddUnsafe(p,f,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return qe(this.toDERHex())}toDERHex(){return qi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qe(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(e){return !1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Et(t.n);return function(e,t,n=!1){const r=e.length,i=vt(t),o=Et(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=mt(n?Ve(e):Ke(e),t-ct)+ct;return n?je(s,i):We(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=Te(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof c}const _=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const n=Ve(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return s(_(e))},b=Qe(t.nBitLength);function k(e){return Je("num < 2^"+t.nBitLength,e,Vi,b),We(e,t.nByteLength)}function v(e,r,i=E){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:d}=t;let{lowS:h,prehash:m,extraEntropy:y}=i;null==h&&(h=!0),e=Ge("msgHash",e),Di(i),m&&(e=Ge("prehashed msgHash",o(e)));const g=w(e),b=u(r),v=[k(b),k(g)];if(null!=y&&!1!==y){const e=!0===y?d(n.BYTES):y;v.push(Ge("extraEntropy",e));}const A=$e(...v),S=g;return {seed:A,k2sig:function(e){const t=_(e);if(!l(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),i=s(r.x);if(i===Vi)return;const o=s(n*s(S+i*b));if(o===Vi)return;let u=(r.x===i?0:2)|Number(r.y&Ki),d=o;return h&&p(o)&&(d=function(e){return p(e)?s(-e):e}(o),u^=1),new f(i,d,u)}}}const E={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n,r=E){const{seed:i,k2sig:o}=v(e,n,r),s=t;return nt(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,n,r,i=A){const o=e;n=Ge("msgHash",n),r=Ge("publicKey",r);const{lowS:u,prehash:d,format:l}=i;if(Di(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==l&&"compact"!==l&&"der"!==l)throw new Error("format must be compact or der");const h="string"==typeof o||Te(o),p=!h&&!l&&"object"==typeof o&&null!==o&&"bigint"==typeof o.r&&"bigint"==typeof o.s;if(!h&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let m,y;try{if(p&&(m=new f(o.r,o.s)),h){try{"compact"!==l&&(m=f.fromDER(o));}catch(e){if(!(e instanceof qi.Err))throw e}m||"der"===l||(m=f.fromCompact(o));}y=c.fromHex(r);}catch(e){return !1}if(!m)return !1;if(u&&m.hasHighS())return !1;d&&(n=t.hash(n));const{r:g,s:_}=m,b=w(n),k=a(_),v=s(b*k),E=s(g*k),S=c.BASE.multiplyAndAddUnsafe(y,v,E)?.toAffine();return !!S&&s(S.x)===g},ProjectivePoint:c,Signature:f,utils:y}}
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $i(e){return {hash:e,hmac:(t,...n)=>zi(e,t,function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];ie(r),t+=r.length;}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length;}return n}(...n)),randomBytes:he}}BigInt(4);
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    const Zi=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yi=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ji=BigInt(1),Xi=BigInt(2),Qi=(e,t)=>(e+t/Xi)/t;const eo=kt(Zi,void 0,void 0,{sqrt:function(e){const t=Zi,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,l=yt(d,n,t)*d%t,h=yt(l,n,t)*d%t,p=yt(h,Xi,t)*u%t,m=yt(p,i,t)*p%t,f=yt(m,o,t)*m%t,y=yt(f,a,t)*f%t,g=yt(y,c,t)*y%t,_=yt(g,a,t)*f%t,w=yt(_,n,t)*d%t,b=yt(w,s,t)*m%t,k=yt(b,r,t)*u%t,v=yt(k,Xi,t);if(!eo.eql(eo.sqr(v),e))throw new Error("Cannot find square root");return v}}),to=function(e,t){const n=t=>Gi({...e,...$i(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:eo,n:Yi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Yi,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ji*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=Qi(o*e,t),c=Qi(-r*e,t);let u=mt(e-a*n-c*i,t),d=mt(-a*r-c*o,t);const l=u>s,h=d>s;if(l&&(u=t-u),h&&(d=t-d),u>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return {k1neg:l,k1:u,k2neg:h,k2:d}}}},Li);BigInt(0),to.ProjectivePoint;const no=Jt.utils.randomPrivateKey,ro=()=>{const e=Jt.utils.randomPrivateKey(),t=io(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},io=Jt.getPublicKey;function oo(e){try{return Jt.ExtendedPoint.fromHex(e),!0}catch{return !1}}const so=(e,t)=>Jt.sign(e,t.slice(0,32)),ao=Jt.verify,co=e=>g.isBuffer(e)?e:e instanceof Uint8Array?g.from(e.buffer,e.byteOffset,e.byteLength):g.from(e);let uo=class{constructor(e){Object.assign(this,e);}encode(){return g.from($n.serialize(lo,this))}static decode(e){return $n.deserialize(lo,this,e)}static decodeUnchecked(e){return $n.deserializeUnchecked(lo,this,e)}};const lo=new Map;var ho;const po=32;let mo=1;class fo extends uo{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else {if("string"==typeof e){const t=fn.decode(e);if(t.length!=po)throw new Error("Invalid public key input");this._bn=new ln(t);}else this._bn=new ln(e);if(this._bn.byteLength()>po)throw new Error("Invalid public key input")}}static unique(){const e=new fo(mo);return mo+=1,new fo(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return fn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(g);if(e.length===po)return e;const t=g.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return `PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const r=g.concat([e.toBuffer(),g.from(t),n.toBuffer()]),i=Pn(r);return new fo(i)}static createProgramAddressSync(e,t){let n=g.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=g.concat([n,co(e)]);})),n=g.concat([n,t.toBuffer(),g.from("ProgramDerivedAddress")]);const r=Pn(n);if(oo(r))throw new Error("Invalid seeds, address must fall off the curve");return new fo(r)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,r=255;for(;0!=r;){try{const i=e.concat(g.from([r]));n=this.createProgramAddressSync(i,t);}catch(e){if(e instanceof TypeError)throw e;r--;continue}return [n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return oo(new fo(e).toBytes())}}ho=fo,fo.default=new ho("11111111111111111111111111111111"),lo.set(fo,{kind:"struct",fields:[["_bn","u256"]]});const yo=new fo("BPFLoader1111111111111111111111111111111111"),go=1232,_o=127;class wo extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e;}}Object.defineProperty(wo.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class bo extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e;}}Object.defineProperty(bo.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ko extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e;}}Object.defineProperty(ko.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class vo{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t;}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length;}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,n)=>{t.set(e.toBase58(),n);}));const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((e=>n(e.pubkey))),data:e.data})))}}const Eo=(e="publicKey")=>Jn.blob(32,e),Ao=(e="signature")=>Jn.blob(64,e),So=(e="string")=>{const t=Jn.struct([Jn.u32("length"),Jn.u32("lengthPadding"),Jn.blob(Jn.offset(Jn.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(e,t)=>n(e,t).chars.toString(),i.encode=(e,t,n)=>{const i={chars:g.from(e,"utf8")};return r(i,t,n)},i.alloc=e=>Jn.u32().span+Jn.u32().span+g.from(e,"utf8").length,i};function Ro(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return Ro({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach((e=>{r+=n(e);})),r}function Io(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,!(128&r))break}return t}function To(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t);}}function Oo(e,t){if(!e)throw new Error(t||"Assertion failed")}class xo{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t;}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const t of e){r(t.programId).isInvoked=!0;for(const e of t.keys){const t=r(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable;}}return new xo(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Oo(e.length<=256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),n=e.filter((([,e])=>e.isSigner&&!e.isWritable)),r=e.filter((([,e])=>!e.isSigner&&e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Oo(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Oo(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer");}const s=[...t.map((([e])=>new fo(e))),...n.map((([e])=>new fo(e))),...r.map((([e])=>new fo(e))),...i.map((([e])=>new fo(e)))];return [o,s]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==r.length)return [{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const t=new fo(i),o=e.findIndex((e=>e.equals(t)));o>=0&&(Oo(o<256,"Max lookup table index exceeded"),n.push(o),r.push(t),this.keyMetaMap.delete(i));}return [n,r]}}const No="Reached end of buffer unexpectedly";function Co(e){if(0===e.length)throw new Error(No);return e.shift()}function Po(e,...t){const[n]=t;if(2===t.length?n+(t[1]??0)>e.length:n>=e.length)throw new Error(No);return e.splice(...t)}class Bo{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new fo(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])));}get version(){return "legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:fn.decode(e.data)})))}get addressTableLookups(){return []}getAccountKeys(){return new vo(this.staticAccountKeys)}static compile(e){const t=xo.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new vo(r).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:fn.encode(e.data)})));return new Bo({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return [...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];To(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,r=Array.from(fn.decode(e.data));let i=[];To(i,t.length);let o=[];return To(o,r.length),{programIdIndex:n,keyIndicesCount:g.from(i),keyIndices:t,dataLength:g.from(o),data:r}}));let r=[];To(r,n.length);let i=g.alloc(go);g.from(r).copy(i);let o=r.length;n.forEach((e=>{const t=Jn.struct([Jn.u8("programIdIndex"),Jn.blob(e.keyIndicesCount.length,"keyIndicesCount"),Jn.seq(Jn.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Jn.blob(e.dataLength.length,"dataLength"),Jn.seq(Jn.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t;})),i=i.slice(0,o);const s=Jn.struct([Jn.blob(1,"numRequiredSignatures"),Jn.blob(1,"numReadonlySignedAccounts"),Jn.blob(1,"numReadonlyUnsignedAccounts"),Jn.blob(t.length,"keyCount"),Jn.seq(Eo("key"),e,"keys"),Eo("recentBlockhash")]),a={numRequiredSignatures:g.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:g.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:g.from([this.header.numReadonlyUnsignedAccounts]),keyCount:g.from(t),keys:this.accountKeys.map((e=>co(e.toBytes()))),recentBlockhash:fn.decode(this.recentBlockhash)};let c=g.alloc(2048);const u=s.encode(a,c);return i.copy(c,u),c.slice(0,u+i.length)}static from(e){let t=[...e];const n=Co(t);if(n!==(n&_o))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=Co(t),i=Co(t),o=Io(t);let s=[];for(let e=0;e<o;e++){const e=Po(t,0,po);s.push(new fo(g.from(e)));}const a=Po(t,0,po),c=Io(t);let u=[];for(let e=0;e<c;e++){const e=Co(t),n=Po(t,0,Io(t)),r=Po(t,0,Io(t)),i=fn.encode(g.from(r));u.push({programIdIndex:e,accounts:n,data:i});}const d={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:fn.encode(g.from(a)),accountKeys:s,instructions:u};return new Bo(d)}}class Mo{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups;}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups;}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new vo(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const t=e-n,r=this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0);return t<r}if(e>=this.header.numRequiredSignatures){return e-t<n-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find((e=>e.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.writable.push(r.state.addresses[e]);}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.readonly.push(r.state.addresses[e]);}}return t}static compile(e){const t=xo.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const e of i){const i=t.extractTableLookup(e);if(void 0!==i){const[e,{writable:t,readonly:o}]=i;n.push(e),r.writable.push(...t),r.readonly.push(...o);}}const[o,s]=t.getMessageComponents(),a=new vo(s,r).compileInstructions(e.instructions);return new Mo({header:o,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const e=Array();To(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();To(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();To(i,this.addressTableLookups.length);const o=Jn.struct([Jn.u8("prefix"),Jn.struct([Jn.u8("numRequiredSignatures"),Jn.u8("numReadonlySignedAccounts"),Jn.u8("numReadonlyUnsignedAccounts")],"header"),Jn.blob(e.length,"staticAccountKeysLength"),Jn.seq(Eo(),this.staticAccountKeys.length,"staticAccountKeys"),Eo("recentBlockhash"),Jn.blob(n.length,"instructionsLength"),Jn.blob(t.length,"serializedInstructions"),Jn.blob(i.length,"addressTableLookupsLength"),Jn.blob(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(go),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:fn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(go);for(const n of this.compiledInstructions){const r=Array();To(r,n.accountKeyIndexes.length);const i=Array();To(i,n.data.length);e+=Jn.struct([Jn.u8("programIdIndex"),Jn.blob(r.length,"encodedAccountKeyIndexesLength"),Jn.seq(Jn.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Jn.blob(i.length,"encodedDataLength"),Jn.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e);}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(go);for(const n of this.addressTableLookups){const r=Array();To(r,n.writableIndexes.length);const i=Array();To(i,n.readonlyIndexes.length);e+=Jn.struct([Eo("accountKey"),Jn.blob(r.length,"encodedWritableIndexesLength"),Jn.seq(Jn.u8(),n.writableIndexes.length,"writableIndexes"),Jn.blob(i.length,"encodedReadonlyIndexesLength"),Jn.seq(Jn.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e);}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=Co(t),r=n&_o;Oo(n!==r,"Expected versioned message but received legacy message");Oo(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:Co(t),numReadonlySignedAccounts:Co(t),numReadonlyUnsignedAccounts:Co(t)},o=[],s=Io(t);for(let e=0;e<s;e++)o.push(new fo(Po(t,0,po)));const a=fn.encode(Po(t,0,po)),c=Io(t),u=[];for(let e=0;e<c;e++){const e=Co(t),n=Po(t,0,Io(t)),r=Io(t),i=new Uint8Array(Po(t,0,r));u.push({programIdIndex:e,accountKeyIndexes:n,data:i});}const d=Io(t),l=[];for(let e=0;e<d;e++){const e=new fo(Po(t,0,po)),n=Po(t,0,Io(t)),r=Po(t,0,Io(t));l.push({accountKey:e,writableIndexes:n,readonlyIndexes:r});}return new Mo({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:u,addressTableLookups:l})}}const Lo={deserializeMessageVersion(e){const t=e[0],n=t&_o;return n===t?"legacy":n},deserialize:e=>{const t=Lo.deserializeMessageVersion(e);if("legacy"===t)return Bo.from(e);if(0===t)return Mo.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Uo=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const zo=g.alloc(64).fill(0);class Do{constructor(e){this.keys=void 0,this.programId=void 0,this.data=g.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data);}toJSON(){return {keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Ho{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n;}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n;}else {const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t;}}toJSON(){return {recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Do(e));})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else {if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey;}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const r=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e});}));const t=e.programId.toString();r.includes(t)||r.push(t);})),r.forEach((e=>{i.push({pubkey:new fo(e),isSigner:!1,isWritable:!1});}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),n=o.findIndex((e=>e.pubkey.toString()===t));n>-1?(o[n].isWritable=o[n].isWritable||e.isWritable,o[n].isSigner=o[n].isSigner||e.isSigner):o.push(e);})),o.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=o.findIndex((e=>e.pubkey.equals(n)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e);}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=o.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));}let a=0,c=0,u=0;const d=[],l=[];o.forEach((({pubkey:e,isSigner:t,isWritable:n})=>{t?(d.push(e.toString()),a+=1,n||(c+=1)):(l.push(e.toString()),n||(u+=1));}));const h=d.concat(l),p=t.map((e=>{const{data:t,programId:n}=e;return {programIdIndex:h.indexOf(n.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:fn.encode(t)}}));return p.forEach((e=>{Oo(e.programIdIndex>=0),e.accounts.forEach((e=>Oo(e>=0)));})),new Bo({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:e,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){const n=this.signatures.every(((e,n)=>t[n].equals(e.publicKey)));if(n)return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return (await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const n=e.toString();return !t.has(n)&&(t.add(n),!0)})).map((e=>({signature:null,publicKey:e})));}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r));}this.signatures=n.map((e=>({signature:null,publicKey:e.publicKey})));const r=this._compile();this._partialSign(r,...n);}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r));}const r=this._compile();this._partialSign(r,...n);}_partialSign(e,...t){const n=e.serialize();t.forEach((e=>{const t=so(n,e.secretKey);this._addSignature(e.publicKey,co(t));}));}addSignature(e,t){this._compile(),this._addSignature(e,t);}_addSignature(e,t){Oo(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=g.from(t);}verifySignatures(e=!0){return !this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?t&&(n.missing||=[]).push(i):ao(r,e,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];To(n,t.length);const r=n.length+64*t.length+e.length,i=g.alloc(r);return Oo(t.length<256),g.from(n).copy(i,0),t.forEach((({signature:e},t)=>{null!==e&&(Oo(64===e.length,"signature has invalid length"),g.from(e).copy(i,n.length+64*t));})),e.copy(i,n.length+64*t.length),Oo(i.length<=go,`Transaction too large: ${i.length} > 1232`),i}get keys(){return Oo(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return Oo(1===this.instructions.length),this.instructions[0].programId}get data(){return Oo(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=Io(t);let r=[];for(let e=0;e<n;e++){const e=Po(t,0,64);r.push(fn.encode(g.from(e)));}return Ho.populate(Bo.from(t),r)}static populate(e,t=[]){const n=new Ho;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const i={signature:t==fn.encode(zo)?null:fn.decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i);})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return {pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new Do({keys:r,programId:e.accountKeys[t.programIdIndex],data:fn.decode(t.data)}));})),n._message=e,n._json=n.toJSON(),n}}class Fo{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash;}static decompile(e,t){const{header:n,compiledInstructions:r,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=n,c=o-s;Oo(c>0,"Message header is invalid");const u=e.staticAccountKeys.length-o-a;Oo(u>=0,"Message header is invalid");const d=e.getAccountKeys(t),l=d.get(0);if(void 0===l)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const e of r){const t=[];for(const r of e.accountKeyIndexes){const e=d.get(r);if(void 0===e)throw new Error(`Failed to find key for account key index ${r}`);let i;i=r<o?r<c:r<d.staticAccountKeys.length?r-o<u:r-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,t.push({pubkey:e,isSigner:r<n.numRequiredSignatures,isWritable:i});}const r=d.get(e.programIdIndex);if(void 0===r)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);h.push(new Do({programId:r,data:co(e.data),keys:t}));}return new Fo({payerKey:l,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return Bo.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Mo.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class qo{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)Oo(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else {const t=[];for(let n=0;n<e.header.numRequiredSignatures;n++)t.push(new Uint8Array(64));this.signatures=t;}this.message=e;}serialize(){const e=this.message.serialize(),t=Array();To(t,this.signatures.length);const n=Jn.struct([Jn.blob(t.length,"encodedSignaturesLength"),Jn.seq(Ao(),this.signatures.length,"signatures"),Jn.blob(e.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},r);return r.slice(0,i)}static deserialize(e){let t=[...e];const n=[],r=Io(t);for(let e=0;e<r;e++)n.push(new Uint8Array(Po(t,0,64)));const i=Lo.deserialize(new Uint8Array(t));return new qo(i,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of e){const e=n.findIndex((e=>e.equals(r.publicKey)));Oo(e>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[e]=so(t,r.secretKey);}}addSignature(e,t){Oo(64===t.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));Oo(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=t;}}const Vo=new fo("SysvarC1ock11111111111111111111111111111111"),Ko=new fo("SysvarEpochSchedu1e111111111111111111111111"),Wo=new fo("Sysvar1nstructions1111111111111111111111111"),jo=new fo("SysvarRecentB1ockHashes11111111111111111111"),Go=new fo("SysvarRent111111111111111111111111111111111"),$o=new fo("SysvarRewards111111111111111111111111111111"),Zo=new fo("SysvarS1otHashes111111111111111111111111111"),Yo=new fo("SysvarS1otHistory11111111111111111111111111"),Jo=new fo("SysvarStakeHistory1111111111111111111111111");class Xo extends Error{constructor({action:e,signature:t,transactionMessage:n,logs:r}){const i=r?`Logs: \n${JSON.stringify(r.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let s;switch(e){case"send":s=`Transaction ${t} resulted in an error. \n${n}. `+i+o;break;case"simulate":s=`Simulation failed. \nMessage: ${n}. \n`+i+o;break;default:s=`Unknown action '${e}'`;}super(s),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=n,this.transactionLogs=r||void 0;}get transactionError(){return {message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,n)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const n=e.meta.logMessages;this.transactionLogs=n,t(n);}else n(new Error("Log messages not found"));})).catch(n);}))),await this.transactionLogs}}class Qo extends Error{constructor({code:e,message:t,data:n},r){super(null!=r?`${r}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError";}}async function es(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await e.sendTransaction(t,n,i);let s;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)s=(await e.confirmTransaction({abortSignal:r?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:n}=t.nonceInfo,i=n.keys[0].pubkey;s=(await e.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:o},r&&r.commitment)).value;}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await e.confirmTransaction(o,r&&r.commitment)).value;if(s.err){if(null!=o)throw new Xo({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`});throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`)}return o}function ts(e){return new Promise((t=>setTimeout(t,e)))}function ns(e,t){const n=e.layout.span>=0?e.layout.span:Ro(e,t),r=g.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}function rs(e,t){let n;try{n=e.layout.decode(t);}catch(e){throw new Error("invalid instruction; "+e)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const is=Jn.nu64("lamportsPerSignature"),os=Jn.struct([Jn.u32("version"),Jn.u32("state"),Eo("authorizedPubkey"),Eo("nonce"),Jn.struct([is],"feeCalculator")]),ss=os.span;class as{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator;}static fromAccountData(e){const t=os.decode(co(e),0);return new as({authorizedPubkey:new fo(t.authorizedPubkey),nonce:new fo(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const cs=(us=8,e=>{const t=Jn.blob(us,e),{encode:n,decode:r}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const n=r(e,t);return Qn.toBigIntLE(g.from(n))},i.encode=(e,t,r)=>{const i=Qn.toBufferLE(e,us);return n(i,t,r)},i});var us;const ds=Object.freeze({Create:{index:0,layout:Jn.struct([Jn.u32("instruction"),Jn.ns64("lamports"),Jn.ns64("space"),Eo("programId")])},Assign:{index:1,layout:Jn.struct([Jn.u32("instruction"),Eo("programId")])},Transfer:{index:2,layout:Jn.struct([Jn.u32("instruction"),cs("lamports")])},CreateWithSeed:{index:3,layout:Jn.struct([Jn.u32("instruction"),Eo("base"),So("seed"),Jn.ns64("lamports"),Jn.ns64("space"),Eo("programId")])},AdvanceNonceAccount:{index:4,layout:Jn.struct([Jn.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Jn.struct([Jn.u32("instruction"),Jn.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Jn.struct([Jn.u32("instruction"),Eo("authorized")])},AuthorizeNonceAccount:{index:7,layout:Jn.struct([Jn.u32("instruction"),Eo("authorized")])},Allocate:{index:8,layout:Jn.struct([Jn.u32("instruction"),Jn.ns64("space")])},AllocateWithSeed:{index:9,layout:Jn.struct([Jn.u32("instruction"),Eo("base"),So("seed"),Jn.ns64("space"),Eo("programId")])},AssignWithSeed:{index:10,layout:Jn.struct([Jn.u32("instruction"),Eo("base"),So("seed"),Eo("programId")])},TransferWithSeed:{index:11,layout:Jn.struct([Jn.u32("instruction"),cs("lamports"),So("seed"),Eo("programId")])},UpgradeNonceAccount:{index:12,layout:Jn.struct([Jn.u32("instruction")])}});class ls{constructor(){}static createAccount(e){const t=ns(ds.Create,{lamports:e.lamports,space:e.space,programId:co(e.programId.toBuffer())});return new Do({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;if("basePubkey"in e){t=ns(ds.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:co(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}];}else {t=ns(ds.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}];}return new Do({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){t=ns(ds.AssignWithSeed,{base:co(e.basePubkey.toBuffer()),seed:e.seed,programId:co(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}];}else {t=ns(ds.Assign,{programId:co(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}];}return new Do({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ns(ds.CreateWithSeed,{base:co(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:co(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Do({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new Ho;"basePubkey"in e&&"seed"in e?t.add(ls.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ss,programId:this.programId})):t.add(ls.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ss,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=ns(ds.InitializeNonceAccount,{authorized:co(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:jo,isSigner:!1,isWritable:!1},{pubkey:Go,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Do(n)}static nonceAdvance(e){const t=ns(ds.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:jo,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Do(n)}static nonceWithdraw(e){const t=ns(ds.WithdrawNonceAccount,{lamports:e.lamports});return new Do({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:jo,isSigner:!1,isWritable:!1},{pubkey:Go,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=ns(ds.AuthorizeNonceAccount,{authorized:co(e.newAuthorizedPubkey.toBuffer())});return new Do({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;if("basePubkey"in e){t=ns(ds.AllocateWithSeed,{base:co(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:co(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}];}else {t=ns(ds.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}];}return new Do({keys:n,programId:this.programId,data:t})}}ls.programId=new fo("11111111111111111111111111111111");class hs{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/hs.chunkSize)+1+1)}static async load(e,t,n,r,i){{const o=await e.getMinimumBalanceForRentExemption(i.length),s=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new Ho,a.add(ls.allocate({accountPubkey:n.publicKey,space:i.length}))),s.owner.equals(r)||(a=a||new Ho,a.add(ls.assign({accountPubkey:n.publicKey,programId:r}))),s.lamports<o&&(a=a||new Ho,a.add(ls.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:o-s.lamports})));}else a=(new Ho).add(ls.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:o>0?o:1,space:i.length,programId:r}));null!==a&&await es(e,a,[t,n],{commitment:"confirmed"});}const o=Jn.struct([Jn.u32("instruction"),Jn.u32("offset"),Jn.u32("bytesLength"),Jn.u32("bytesLengthPadding"),Jn.seq(Jn.u8("byte"),Jn.offset(Jn.u32(),-8),"bytes")]),s=hs.chunkSize;let a=0,c=i,u=[];for(;c.length>0;){const i=c.slice(0,s),d=g.alloc(s+16);o.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},d);const l=(new Ho).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:d});if(u.push(es(e,l,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await ts(1e3/e);}a+=s,c=c.slice(s);}await Promise.all(u);{const i=Jn.struct([Jn.u32("instruction")]),o=g.alloc(i.span);i.encode({instruction:1},o);const s=(new Ho).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Go,isSigner:!1,isWritable:!1}],programId:r,data:o}),a="processed",c=await e.sendTransaction(s,[t,n],{preflightCommitment:a}),{context:u,value:d}=await e.confirmTransaction({signature:c,lastValidBlockHeight:s.lastValidBlockHeight,blockhash:s.recentBlockhash},a);if(d.err)throw new Error(`Transaction ${c} failed (${JSON.stringify(d)})`);for(;;){try{if(await e.getSlot({commitment:a})>u.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))));}}return !0}}hs.chunkSize=932;const ps=new fo("BPFLoader2111111111111111111111111111111111");function ms(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fs,ys;function gs(){if(ys)return fs;ys=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function n(r,i){var o,s,a,c,u,d,l;if(!0===r)return "true";if(!1===r)return "false";switch(typeof r){case"object":if(null===r)return null;if(r.toJSON&&"function"==typeof r.toJSON)return n(r.toJSON(),i);if("[object Array]"===(l=e.call(r))){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}if("[object Object]"===l){for(s=(c=t(r).sort()).length,a="",o=0;o<s;)void 0!==(d=n(r[u=c[o]],!1))&&(a&&(a+=","),a+=JSON.stringify(u)+":"+d),o++;return "{"+a+"}"}return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return fs=function(e){var t=n(e,!1);if(void 0!==t)return ""+t}}var _s=ms(gs());function ws(e){let t=0;for(;e>1;)e/=2,t++;return t}class bs{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i;}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=ws(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-ws(32)-1;return [n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return [this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t;}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+ws(32)):this.slotsPerEpoch}}var ks=globalThis.fetch;class vs extends hi{constructor(e,t,n){super((e=>{const n=function(e,t){return new di(e,t)}(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in n?n.socket:n,n}),e,t,n),this.underlyingSocket=void 0;}call(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class Es{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state;}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t);}catch(e){throw new Error("invalid instruction; "+e)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(As,e),n=e.length-56;Oo(n>=0,"lookup table is invalid"),Oo(n%32==0,"lookup table is invalid");const r=n/32,{addresses:i}=Jn.struct([Jn.seq(Eo(),r,"addresses")]).decode(e.slice(56));return {deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new fo(t.authority[0]):void 0,addresses:i.map((e=>new fo(e)))}}}const As={index:1,layout:Jn.struct([Jn.u32("typeIndex"),cs("deactivationSlot"),Jn.nu64("lastExtendedSlot"),Jn.u8("lastExtendedStartIndex"),Jn.u8(),Jn.seq(Eo(),Jn.offset(Jn.u8(),-1),"authority")])},Ss=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const Rs=Rr(fr(fo),kr(),(e=>new fo(e))),Is=vr([kr(),yr("base64")]),Ts=Rr(fr(g),Is,(e=>g.from(e[0],"base64")));function Os(e){let t,n;if("string"==typeof e)t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i;}return {commitment:t,config:n}}function xs(e){return e.map((e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e))}function Ns(e){return Ar([Er({jsonrpc:yr("2.0"),id:kr(),result:e}),Er({jsonrpc:yr("2.0"),id:kr(),error:Er({code:Sr(),message:kr(),data:wr(hr("any",(()=>!0)))})})])}const Cs=Ns(Sr());function Ps(e){return Rr(Ns(e),Cs,(t=>"error"in t?t:{...t,result:ur(t.result,e)}))}function Bs(e){return Ps(Er({context:Er({slot:_r()}),value:e}))}function Ms(e){return Er({context:Er({slot:_r()}),value:e})}function Ls(e,t){return 0===e?new Mo({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new fo(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:fn.decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new Bo(t)}const Us=Er({foundation:_r(),foundationTerm:_r(),initial:_r(),taper:_r(),terminal:_r()}),zs=Ps(pr(gr(Er({epoch:_r(),effectiveSlot:_r(),amount:_r(),postBalance:_r(),commission:wr(gr(_r()))})))),Ds=pr(Er({slot:_r(),prioritizationFee:_r()})),Hs=Er({total:_r(),validator:_r(),foundation:_r(),epoch:_r()}),Fs=Er({epoch:_r(),slotIndex:_r(),slotsInEpoch:_r(),absoluteSlot:_r(),blockHeight:wr(_r()),transactionCount:wr(_r())}),qs=Er({slotsPerEpoch:_r(),leaderScheduleSlotOffset:_r(),warmup:mr(),firstNormalEpoch:_r(),firstNormalSlot:_r()}),Vs=br(kr(),pr(_r())),Ks=gr(Ar([Er({}),kr()])),Ws=Er({err:Ks}),js=yr("receivedSignature"),Gs=Er({"solana-core":kr(),"feature-set":wr(_r())}),$s=Er({program:kr(),programId:Rs,parsed:Sr()}),Zs=Er({programId:Rs,accounts:pr(Rs),data:kr()}),Ys=Bs(Er({err:gr(Ar([Er({}),kr()])),logs:gr(pr(kr())),accounts:wr(gr(pr(gr(Er({executable:mr(),owner:kr(),lamports:_r(),data:pr(kr()),rentEpoch:wr(_r())}))))),unitsConsumed:wr(_r()),returnData:wr(gr(Er({programId:kr(),data:vr([kr(),yr("base64")])}))),innerInstructions:wr(gr(pr(Er({index:_r(),instructions:pr(Ar([$s,Zs]))}))))})),Js=Bs(Er({byIdentity:br(kr(),pr(_r())),range:Er({firstSlot:_r(),lastSlot:_r()})}));const Xs=Ps(Us),Qs=Ps(Hs),ea=Ps(Ds),ta=Ps(Fs),na=Ps(qs),ra=Ps(Vs),ia=Ps(_r()),oa=Bs(Er({total:_r(),circulating:_r(),nonCirculating:_r(),nonCirculatingAccounts:pr(Rs)})),sa=Er({amount:kr(),uiAmount:gr(_r()),decimals:_r(),uiAmountString:wr(kr())}),aa=Bs(pr(Er({address:Rs,amount:kr(),uiAmount:gr(_r()),decimals:_r(),uiAmountString:wr(kr())}))),ca=Bs(pr(Er({pubkey:Rs,account:Er({executable:mr(),owner:Rs,lamports:_r(),data:Ts,rentEpoch:_r()})}))),ua=Er({program:kr(),parsed:Sr(),space:_r()}),da=Bs(pr(Er({pubkey:Rs,account:Er({executable:mr(),owner:Rs,lamports:_r(),data:ua,rentEpoch:_r()})}))),la=Bs(pr(Er({lamports:_r(),address:Rs}))),ha=Er({executable:mr(),owner:Rs,lamports:_r(),data:Ts,rentEpoch:_r()}),pa=Er({pubkey:Rs,account:ha}),ma=Rr(Ar([fr(g),ua]),Ar([Is,ua]),(e=>Array.isArray(e)?ur(e,Ts):e)),fa=Er({executable:mr(),owner:Rs,lamports:_r(),data:ma,rentEpoch:_r()}),ya=Er({pubkey:Rs,account:fa}),ga=Er({state:Ar([yr("active"),yr("inactive"),yr("activating"),yr("deactivating")]),active:_r(),inactive:_r()}),_a=Ps(pr(Er({signature:kr(),slot:_r(),err:Ks,memo:gr(kr()),blockTime:wr(gr(_r()))}))),wa=Ps(pr(Er({signature:kr(),slot:_r(),err:Ks,memo:gr(kr()),blockTime:wr(gr(_r()))}))),ba=Er({subscription:_r(),result:Ms(ha)}),ka=Er({pubkey:Rs,account:ha}),va=Er({subscription:_r(),result:Ms(ka)}),Ea=Er({parent:_r(),slot:_r(),root:_r()}),Aa=Er({subscription:_r(),result:Ea}),Sa=Ar([Er({type:Ar([yr("firstShredReceived"),yr("completed"),yr("optimisticConfirmation"),yr("root")]),slot:_r(),timestamp:_r()}),Er({type:yr("createdBank"),parent:_r(),slot:_r(),timestamp:_r()}),Er({type:yr("frozen"),slot:_r(),timestamp:_r(),stats:Er({numTransactionEntries:_r(),numSuccessfulTransactions:_r(),numFailedTransactions:_r(),maxTransactionsPerEntry:_r()})}),Er({type:yr("dead"),slot:_r(),timestamp:_r(),err:kr()})]),Ra=Er({subscription:_r(),result:Sa}),Ia=Er({subscription:_r(),result:Ms(Ar([Ws,js]))}),Ta=Er({subscription:_r(),result:_r()}),Oa=Er({pubkey:kr(),gossip:gr(kr()),tpu:gr(kr()),rpc:gr(kr()),version:gr(kr())}),xa=Er({votePubkey:kr(),nodePubkey:kr(),activatedStake:_r(),epochVoteAccount:mr(),epochCredits:pr(vr([_r(),_r(),_r()])),commission:_r(),lastVote:_r(),rootSlot:gr(_r())}),Na=Ps(Er({current:pr(xa),delinquent:pr(xa)})),Ca=Ar([yr("processed"),yr("confirmed"),yr("finalized")]),Pa=Er({slot:_r(),confirmations:gr(_r()),err:Ks,confirmationStatus:wr(Ca)}),Ba=Bs(pr(gr(Pa))),Ma=Ps(_r()),La=Er({accountKey:Rs,writableIndexes:pr(_r()),readonlyIndexes:pr(_r())}),Ua=Er({signatures:pr(kr()),message:Er({accountKeys:pr(kr()),header:Er({numRequiredSignatures:_r(),numReadonlySignedAccounts:_r(),numReadonlyUnsignedAccounts:_r()}),instructions:pr(Er({accounts:pr(_r()),data:kr(),programIdIndex:_r()})),recentBlockhash:kr(),addressTableLookups:wr(pr(La))})}),za=Er({pubkey:Rs,signer:mr(),writable:mr(),source:wr(Ar([yr("transaction"),yr("lookupTable")]))}),Da=Er({accountKeys:pr(za),signatures:pr(kr())}),Ha=Er({parsed:Sr(),program:kr(),programId:Rs}),Fa=Er({accounts:pr(Rs),data:kr(),programId:Rs}),qa=Rr(Ar([Fa,Ha]),Ar([Er({parsed:Sr(),program:kr(),programId:kr()}),Er({accounts:pr(kr()),data:kr(),programId:kr()})]),(e=>ur(e,"accounts"in e?Fa:Ha))),Va=Er({signatures:pr(kr()),message:Er({accountKeys:pr(za),instructions:pr(qa),recentBlockhash:kr(),addressTableLookups:wr(gr(pr(La)))})}),Ka=Er({accountIndex:_r(),mint:kr(),owner:wr(kr()),programId:wr(kr()),uiTokenAmount:sa}),Wa=Er({writable:pr(Rs),readonly:pr(Rs)}),ja=Er({err:Ks,fee:_r(),innerInstructions:wr(gr(pr(Er({index:_r(),instructions:pr(Er({accounts:pr(_r()),data:kr(),programIdIndex:_r()}))})))),preBalances:pr(_r()),postBalances:pr(_r()),logMessages:wr(gr(pr(kr()))),preTokenBalances:wr(gr(pr(Ka))),postTokenBalances:wr(gr(pr(Ka))),loadedAddresses:wr(Wa),computeUnitsConsumed:wr(_r())}),Ga=Er({err:Ks,fee:_r(),innerInstructions:wr(gr(pr(Er({index:_r(),instructions:pr(qa)})))),preBalances:pr(_r()),postBalances:pr(_r()),logMessages:wr(gr(pr(kr()))),preTokenBalances:wr(gr(pr(Ka))),postTokenBalances:wr(gr(pr(Ka))),loadedAddresses:wr(Wa),computeUnitsConsumed:wr(_r())}),$a=Ar([yr(0),yr("legacy")]),Za=Er({pubkey:kr(),lamports:_r(),postBalance:gr(_r()),rewardType:gr(kr()),commission:wr(gr(_r()))}),Ya=Ps(gr(Er({blockhash:kr(),previousBlockhash:kr(),parentSlot:_r(),transactions:pr(Er({transaction:Ua,meta:gr(ja),version:wr($a)})),rewards:wr(pr(Za)),blockTime:gr(_r()),blockHeight:gr(_r())}))),Ja=Ps(gr(Er({blockhash:kr(),previousBlockhash:kr(),parentSlot:_r(),rewards:wr(pr(Za)),blockTime:gr(_r()),blockHeight:gr(_r())}))),Xa=Ps(gr(Er({blockhash:kr(),previousBlockhash:kr(),parentSlot:_r(),transactions:pr(Er({transaction:Da,meta:gr(ja),version:wr($a)})),rewards:wr(pr(Za)),blockTime:gr(_r()),blockHeight:gr(_r())}))),Qa=Ps(gr(Er({blockhash:kr(),previousBlockhash:kr(),parentSlot:_r(),transactions:pr(Er({transaction:Va,meta:gr(Ga),version:wr($a)})),rewards:wr(pr(Za)),blockTime:gr(_r()),blockHeight:gr(_r())}))),ec=Ps(gr(Er({blockhash:kr(),previousBlockhash:kr(),parentSlot:_r(),transactions:pr(Er({transaction:Da,meta:gr(Ga),version:wr($a)})),rewards:wr(pr(Za)),blockTime:gr(_r()),blockHeight:gr(_r())}))),tc=Ps(gr(Er({blockhash:kr(),previousBlockhash:kr(),parentSlot:_r(),rewards:wr(pr(Za)),blockTime:gr(_r()),blockHeight:gr(_r())}))),nc=Ps(gr(Er({blockhash:kr(),previousBlockhash:kr(),parentSlot:_r(),transactions:pr(Er({transaction:Ua,meta:gr(ja)})),rewards:wr(pr(Za)),blockTime:gr(_r())}))),rc=Ps(gr(Er({blockhash:kr(),previousBlockhash:kr(),parentSlot:_r(),signatures:pr(kr()),blockTime:gr(_r())}))),ic=Ps(gr(Er({slot:_r(),meta:gr(ja),blockTime:wr(gr(_r())),transaction:Ua,version:wr($a)}))),oc=Ps(gr(Er({slot:_r(),transaction:Va,meta:gr(Ga),blockTime:wr(gr(_r())),version:wr($a)}))),sc=Bs(Er({blockhash:kr(),lastValidBlockHeight:_r()})),ac=Bs(mr()),cc=Ps(pr(Er({slot:_r(),numTransactions:_r(),numSlots:_r(),samplePeriodSecs:_r()}))),uc=Bs(gr(Er({feeCalculator:Er({lamportsPerSignature:_r()})}))),dc=Ps(kr()),lc=Ps(kr()),hc=Er({err:Ks,logs:pr(kr()),signature:kr()}),pc=Er({result:Ms(hc),subscription:_r()}),mc={"solana-client":"js/1.0.0-maintenance"};class fc{constructor(e,t){let n,r,i,o,s,a;var c;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:n,config:r}=Os(t),i=this._buildArgs([],n,void 0,r),o=_s(i);return e[o]=e[o]??(async()=>{try{const e=ur(await this._rpcRequest("getBlockHeight",i),Ps(_r()));if("error"in e)throw new Qo(e.error,"failed to get block height information");return e.result}finally{delete e[o];}})(),await e[o]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,s=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(Ss);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return `${s}//${r}${null==a?"":`:${a+1}`}${o}`}(e),this._rpcClient=function(e,t,n,r,i,o){const s=n||ks;let a;null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(e,t)=>{const n=await new Promise(((n,i)=>{try{r(e,t,((e,t)=>n([e,t])));}catch(e){i(e);}}));return await s(...n)});const c=new si((async(n,r)=>{const o={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},mc)};try{let t,n=5,c=500;for(;t=a?await a(e,o):await s(e,o),429===t.status&&!0!==i&&(n-=1,0!==n);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await ts(c),c*=2;const u=await t.text();t.ok?r(null,u):r(new Error(`${t.status} ${t.statusText}: ${u}`));}catch(e){e instanceof Error&&r(e);}}),{});return c}(e,r,i,o,s,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise(((n,r)=>{c.request(e,t,((e,t)=>{e?r(e):n(t);}));}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?r(e):n(t);}));}))}(this._rpcClient),this._rpcWebSocket=new vs(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this));}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=Os(t),i=this._buildArgs([e.toBase58()],n,void 0,r),o=ur(await this._rpcRequest("getBalance",i),Bs(_r()));if("error"in o)throw new Qo(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=ur(await this._rpcRequest("getBlockTime",[e]),Ps(gr(_r())));if("error"in t)throw new Qo(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){const e=ur(await this._rpcRequest("minimumLedgerSlot",[]),Ps(_r()));if("error"in e)throw new Qo(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=ur(await this._rpcRequest("getFirstAvailableBlock",[]),ia);if("error"in e)throw new Qo(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=ur(await this._rpcRequest("getSupply",[t]),oa);if("error"in n)throw new Qo(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=ur(await this._rpcRequest("getTokenSupply",n),Bs(sa));if("error"in r)throw new Qo(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=ur(await this._rpcRequest("getTokenAccountBalance",n),Bs(sa));if("error"in r)throw new Qo(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:i}=Os(n);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const s=this._buildArgs(o,r,"base64",i),a=ur(await this._rpcRequest("getTokenAccountsByOwner",s),ca);if("error"in a)throw new Qo(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=ur(await this._rpcRequest("getTokenAccountsByOwner",i),da);if("error"in o)throw new Qo(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=ur(await this._rpcRequest("getLargestAccounts",n),la);if("error"in r)throw new Qo(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=ur(await this._rpcRequest("getTokenLargestAccounts",n),aa);if("error"in r)throw new Qo(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=Os(t),i=this._buildArgs([e.toBase58()],n,"base64",r),o=ur(await this._rpcRequest("getAccountInfo",i),Bs(gr(ha)));if("error"in o)throw new Qo(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=Os(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=ur(await this._rpcRequest("getAccountInfo",i),Bs(gr(fa)));if("error"in o)throw new Qo(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getAccountInfo(e,t){try{return (await this.getAccountInfoAndContext(e,t)).value}catch(t){throw new Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=Os(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"jsonParsed",r),s=ur(await this._rpcRequest("getMultipleAccounts",o),Bs(pr(gr(fa))));if("error"in s)throw new Qo(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=Os(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"base64",r),s=ur(await this._rpcRequest("getMultipleAccounts",o),Bs(pr(gr(ha))));if("error"in s)throw new Qo(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(e,t){return (await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:i}=Os(t),o=this._buildArgs([e.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),s=ur(await this._rpcRequest("getStakeActivation",o),Ps(ga));if("error"in s)throw new Qo(s.error,`failed to get Stake Activation ${e.toBase58()}`);return s.result}async getProgramAccounts(e,t){const{commitment:n,config:r}=Os(t),{encoding:i,...o}=r||{},s=this._buildArgs([e.toBase58()],n,i||"base64",{...o,...o.filters?{filters:xs(o.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",s),c=pr(pa),u=!0===o.withContext?ur(a,Bs(c)):ur(a,Ps(c));if("error"in u)throw new Qo(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=Os(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=ur(await this._rpcRequest("getProgramAccounts",i),Ps(pr(ya)));if("error"in o)throw new Qo(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else {const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature;}try{r=fn.decode(n);}catch(e){throw new Error("signature must be base58 encoded: "+n)}return Oo(64===r.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((t,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason);})));}))}getTransactionConfirmationPromise({commitment:e,signature:t}){let n,r,i=!1;const o=new Promise(((o,s)=>{try{n=this.onSignature(t,((e,t)=>{n=void 0;const r={context:t,value:e};o({__type:Uo.PROCESSED,response:r});}),e);const a=new Promise((e=>{null==n?e():r=this._onSubscriptionStateChange(n,(t=>{"subscribed"===t&&e();}));}));(async()=>{if(await a,i)return;const n=await this.getSignatureStatus(t);if(i)return;if(null==n)return;const{context:r,value:c}=n;if(null!=c)if(c?.err)s(c.err);else {switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,o({__type:Uo.PROCESSED,response:{context:r,value:c}});}})();}catch(e){s(e);}}));return {abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0);},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:n,signature:r}}){let i=!1;const o=new Promise((t=>{const r=async()=>{try{return await this.getBlockHeight(e)}catch(e){return -1}};(async()=>{let e=await r();if(!i){for(;e<=n;){if(await ts(1e3),i)return;if(e=await r(),i)return}t({__type:Uo.BLOCKHEIGHT_EXCEEDED});}})();})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),c=this.getCancellationPromise(t);let u;try{const e=await Promise.race([c,a,o]);if(e.__type!==Uo.PROCESSED)throw new wo(r);u=e.response;}finally{i=!0,s();}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:n,nonceAccountPubkey:r,nonceValue:i,signature:o}}){let s=!1;const a=new Promise((t=>{let o=i,a=null;const c=async()=>{try{const{context:t,value:i}=await this.getNonceAndContext(r,{commitment:e,minContextSlot:n});return a=t.slot,i?.nonce}catch(e){return o}};(async()=>{if(o=await c(),!s)for(;;){if(i!==o)return void t({__type:Uo.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await ts(2e3),s)return;if(o=await c(),s)return}})();})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let l;try{const t=await Promise.race([d,u,a]);if(t.__type===Uo.PROCESSED)l=t.response;else {let r;for(;;){const e=await this.getSignatureStatus(o);if(null==e)break;if(!(e.context.slot<(t.slotInWhichNonceDidAdvance??n))){r=e;break}await ts(400);}if(!r?.value)throw new ko(o);{const t=e||"finalized",{confirmationStatus:n}=r.value;switch(t){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new ko(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new ko(o);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new ko(o)}l={context:r.context,value:{err:r.value.err}};}}}finally{s=!0,c();}return l}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let n;const r=new Promise((t=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4;}n=setTimeout((()=>t({__type:Uo.TIMED_OUT,timeoutMs:r})),r);})),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let s;try{const e=await Promise.race([o,r]);if(e.__type!==Uo.PROCESSED)throw new bo(t,e.timeoutMs/1e3);s=e.response;}finally{clearTimeout(n),i();}return s}async getClusterNodes(){const e=ur(await this._rpcRequest("getClusterNodes",[]),Ps(pr(Oa)));if("error"in e)throw new Qo(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=ur(await this._rpcRequest("getVoteAccounts",t),Na);if("error"in n)throw new Qo(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:n}=Os(e),r=this._buildArgs([],t,void 0,n),i=ur(await this._rpcRequest("getSlot",r),Ps(_r()));if("error"in i)throw new Qo(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:n}=Os(e),r=this._buildArgs([],t,void 0,n),i=ur(await this._rpcRequest("getSlotLeader",r),Ps(kr()));if("error"in i)throw new Qo(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const n=[e,t],r=ur(await this._rpcRequest("getSlotLeaders",n),Ps(pr(Rs)));if("error"in r)throw new Qo(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);Oo(1===r.length);return {context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=ur(await this._rpcRequest("getSignatureStatuses",n),Ba);if("error"in r)throw new Qo(r.error,"failed to get signature status");return r.result}async getTransactionCount(e){const{commitment:t,config:n}=Os(e),r=this._buildArgs([],t,void 0,n),i=ur(await this._rpcRequest("getTransactionCount",r),Ps(_r()));if("error"in i)throw new Qo(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return (await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=ur(await this._rpcRequest("getInflationGovernor",t),Xs);if("error"in n)throw new Qo(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,n){const{commitment:r,config:i}=Os(n),o=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{...i,epoch:null!=t?t:i?.epoch}),s=ur(await this._rpcRequest("getInflationReward",o),zs);if("error"in s)throw new Qo(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const e=ur(await this._rpcRequest("getInflationRate",[]),Qs);if("error"in e)throw new Qo(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:n}=Os(e),r=this._buildArgs([],t,void 0,n),i=ur(await this._rpcRequest("getEpochInfo",r),ta);if("error"in i)throw new Qo(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=ur(await this._rpcRequest("getEpochSchedule",[]),na);if("error"in e)throw new Qo(e.error,"failed to get epoch schedule");const t=e.result;return new bs(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=ur(await this._rpcRequest("getLeaderSchedule",[]),ra);if("error"in e)throw new Qo(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=ur(await this._rpcRequest("getMinimumBalanceForRentExemption",n),Ma);return "error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return {context:t,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){const t=ur(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),cc);if("error"in t)throw new Qo(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=ur(await this._rpcRequest("getFeeCalculatorForBlockhash",n),uc);if("error"in r)throw new Qo(r.error,"failed to get fee calculator");const{context:i,value:o}=r.result;return {context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const n=co(e.serialize()).toString("base64"),r=this._buildArgs([n],t),i=ur(await this._rpcRequest("getFeeForMessage",r),Bs(gr(_r())));if("error"in i)throw new Qo(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map((e=>e.toBase58())),n=t?.length?[t]:[],r=ur(await this._rpcRequest("getRecentPrioritizationFees",n),ea);if("error"in r)throw new Qo(r.error,"failed to get recent prioritization fees");return r.result}async getRecentBlockhash(e){try{return (await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return (await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=Os(e),r=this._buildArgs([],t,void 0,n),i=ur(await this._rpcRequest("getLatestBlockhash",r),sc);if("error"in i)throw new Qo(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:n,config:r}=Os(t),i=this._buildArgs([e],n,void 0,r),o=ur(await this._rpcRequest("isBlockhashValid",i),ac);if("error"in o)throw new Qo(o.error,"failed to determine if the blockhash `"+e+"`is valid");return o.result}async getVersion(){const e=ur(await this._rpcRequest("getVersion",[]),Ps(Gs));if("error"in e)throw new Qo(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=ur(await this._rpcRequest("getGenesisHash",[]),Ps(kr()));if("error"in e)throw new Qo(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:n,config:r}=Os(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=ur(o,Xa);if("error"in e)throw e.error;return e.result}case"none":{const e=ur(o,Ja);if("error"in e)throw e.error;return e.result}default:{const e=ur(o,Ya);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map((({transaction:e,meta:t,version:n})=>({meta:t,transaction:{...e,message:Ls(n,e.message)},version:n})))}:null}}}catch(e){throw new Qo(e,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:r}=Os(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=ur(o,ec);if("error"in e)throw e.error;return e.result}case"none":{const e=ur(o,tc);if("error"in e)throw e.error;return e.result}default:{const e=ur(o,Qa);if("error"in e)throw e.error;return e.result}}}catch(e){throw new Qo(e,"failed to get block")}}async getBlockProduction(e){let t,n;if("string"==typeof e)n=e;else if(e){const{commitment:r,...i}=e;n=r,t=i;}const r=this._buildArgs([],n,"base64",t),i=ur(await this._rpcRequest("getBlockProduction",r),Js);if("error"in i)throw new Qo(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:n,config:r}=Os(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=ur(await this._rpcRequest("getTransaction",i),ic);if("error"in o)throw new Qo(o.error,"failed to get transaction");const s=o.result;return s?{...s,transaction:{...s.transaction,message:Ls(s.version,s.transaction.message)}}:s}async getParsedTransaction(e,t){const{commitment:n,config:r}=Os(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=ur(await this._rpcRequest("getTransaction",i),oc);if("error"in o)throw new Qo(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=Os(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)})));return (await this._rpcBatchRequest(i)).map((e=>{const t=ur(e,oc);if("error"in t)throw new Qo(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:n,config:r}=Os(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)})));return (await this._rpcBatchRequest(i)).map((e=>{const t=ur(e,ic);if("error"in t)throw new Qo(t.error,"failed to get transactions");const n=t.result;return n?{...n,transaction:{...n.transaction,message:Ls(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=ur(await this._rpcRequest("getBlock",n),nc);if("error"in r)throw new Qo(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");const o={...i,transactions:i.transactions.map((({transaction:e,meta:t})=>{const n=new Bo(e.message);return {meta:t,transaction:{...e,message:n}}}))};return {...o,transactions:o.transactions.map((({transaction:e,meta:t})=>({meta:t,transaction:Ho.populate(e.message,e.signatures)})))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=ur(await this._rpcRequest("getBlocks",r),Ps(pr(_r())));if("error"in i)throw new Qo(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=ur(await this._rpcRequest("getBlock",n),rc);if("error"in r)throw new Qo(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=ur(await this._rpcRequest("getBlock",n),rc);if("error"in r)throw new Qo(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=ur(await this._rpcRequest("getTransaction",n),ic);if("error"in r)throw new Qo(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const o=new Bo(i.transaction.message),s=i.transaction.signatures;return {...i,transaction:Ho.populate(o,s)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=ur(await this._rpcRequest("getTransaction",n),oc);if("error"in r)throw new Qo(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return (await this._rpcBatchRequest(n)).map((e=>{const t=ur(e,oc);if("error"in t)throw new Qo(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString());}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let o=await this.getSlot("finalized");for(;!("before"in r||++n>o);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString());}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return (await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=ur(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),_a);if("error"in i)throw new Qo(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=ur(await this._rpcRequest("getSignaturesForAddress",r),wa);if("error"in i)throw new Qo(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=new Es({key:e,state:Es.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=as.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=ur(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),dc);if("error"in n)throw new Qo(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ts(100);const e=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await ts(200);}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1;}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=Os(e),r=this._buildArgs([],t,"base64",n),i=ur(await this._rpcRequest("getStakeMinimumDelegation",r),Bs(_r()));if("error"in i)throw new Qo(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,n){if("message"in e){const r=e.serialize(),i=g.from(r).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const o=t||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),t&&"object"==typeof t&&"innerInstructions"in t&&(o.innerInstructions=t.innerInstructions);const s=[i,o],a=ur(await this._rpcRequest("simulateTransaction",s),Ys);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let r;if(e instanceof Ho){let t=e;r=new Ho,r.feePayer=t.feePayer,r.instructions=e.instructions,r.nonceInfo=t.nonceInfo,r.signatures=t.signatures;}else r=Ho.populate(e),r._message=r._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(r.nonceInfo&&i)r.sign(...i);else {let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(r.lastValidBlockHeight=t.lastValidBlockHeight,r.recentBlockhash=t.blockhash,!i)break;if(r.sign(...i),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0;}}const o=r._compile(),s=o.serialize(),a=r._serialize(s).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:o.nonProgramIds()).map((e=>e.toBase58()));c.accounts={encoding:"base64",addresses:e};}i&&(c.sigVerify=!0),t&&"object"==typeof t&&"innerInstructions"in t&&(c.innerInstructions=t.innerInstructions);const u=[a,c],d=ur(await this._rpcRequest("simulateTransaction",u),Ys);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(d.error.message,n);}throw new Xo({action:"simulate",signature:"",transactionMessage:d.error.message,logs:e})}return d.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else {let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0;}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=co(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=!0===r?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[e,n],s=ur(await this._rpcRequest("sendTransaction",o),lc);if("error"in s){let e;throw "data"in s.error&&(e=s.error.data.logs),new Xo({action:r?"send":"simulate",signature:"",transactionMessage:s.error.message,logs:e})}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping");}catch{}})();}),5e3),this._updateSubscriptions();}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message);}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,t])=>{this._setSubscription(e,{...t,state:"pending"});}))):this._updateSubscriptions();}_setSubscription(e,t){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(t.state);}catch{}}));}}_onSubscriptionStateChange(e,t){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return ()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(t),()=>{r.delete(t),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n];}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close();}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`);}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const t=await this._rpcWebSocket.call(i,r);this._setSubscription(e,{...n,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions();}catch(o){if(console.error(`Received ${o instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:r,error:o}),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions();}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else {this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r]);}catch(r){if(r instanceof Error&&console.error(`${i} error:`,r.message),!t())return;return this._setSubscription(e,{...n,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions();})();}})));}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...t);}catch(e){console.error(e);}}));}_wsOnAccountNotification(e){const{result:t,subscription:n}=ur(e,ba);this._handleServerNotification(n,[t.value,t.context]);}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=_s([e.method,t]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];Oo(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions();},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:r,config:i}=Os(n),o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change");}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=ur(e,va);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context]);}onProgramAccountChange(e,t,n,r){const{commitment:i,config:o}=Os(n),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(r?{filters:xs(r)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change");}onLogs(e,t,n){const r=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs");}_wsOnLogsNotification(e){const{result:t,subscription:n}=ur(e,pc);this._handleServerNotification(n,[t.value,t.context]);}_wsOnSlotNotification(e){const{result:t,subscription:n}=ur(e,Aa);this._handleServerNotification(n,[t]);}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change");}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=ur(e,Ra);this._handleServerNotification(n,[t]);}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update");}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`);}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t);}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=ur(e,Ia);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context]);}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i);}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],r,void 0,i),s=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(s);}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result");}_wsOnRootNotification(e){const{result:t,subscription:n}=ur(e,Ta);this._handleServerNotification(n,[t]);}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change");}}class yc{constructor(e){this._keypair=void 0,this._keypair=e??ro();}static generate(){return new yc(ro())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=io(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new yc({publicKey:n,secretKey:e})}static fromSeed(e){const t=io(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new yc({publicKey:t,secretKey:n})}get publicKey(){return new fo(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const gc=Object.freeze({CreateLookupTable:{index:0,layout:Jn.struct([Jn.u32("instruction"),cs("recentSlot"),Jn.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Jn.struct([Jn.u32("instruction")])},ExtendLookupTable:{index:2,layout:Jn.struct([Jn.u32("instruction"),cs(),Jn.seq(Eo(),Jn.offset(Jn.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Jn.struct([Jn.u32("instruction")])},CloseLookupTable:{index:4,layout:Jn.struct([Jn.u32("instruction")])}});class _c{constructor(){}static createLookupTable(e){const[t,n]=fo.findProgramAddressSync([e.authority.toBuffer(),Qn.toBufferLE(BigInt(e.recentSlot),8)],this.programId),r=ns(gc.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ls.programId,isSigner:!1,isWritable:!1}];return [new Do({programId:this.programId,keys:i,data:r}),t]}static freezeLookupTable(e){const t=ns(gc.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Do({programId:this.programId,keys:n,data:t})}static extendLookupTable(e){const t=ns(gc.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ls.programId,isSigner:!1,isWritable:!1}),new Do({programId:this.programId,keys:n,data:t})}static deactivateLookupTable(e){const t=ns(gc.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Do({programId:this.programId,keys:n,data:t})}static closeLookupTable(e){const t=ns(gc.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Do({programId:this.programId,keys:n,data:t})}}_c.programId=new fo("AddressLookupTab1e1111111111111111111111111");const wc=Object.freeze({RequestUnits:{index:0,layout:Jn.struct([Jn.u8("instruction"),Jn.u32("units"),Jn.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Jn.struct([Jn.u8("instruction"),Jn.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Jn.struct([Jn.u8("instruction"),Jn.u32("units")])},SetComputeUnitPrice:{index:3,layout:Jn.struct([Jn.u8("instruction"),cs("microLamports")])}});class bc{constructor(){}static requestUnits(e){const t=ns(wc.RequestUnits,e);return new Do({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=ns(wc.RequestHeapFrame,e);return new Do({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=ns(wc.SetComputeUnitLimit,e);return new Do({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=ns(wc.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new Do({keys:[],programId:this.programId,data:t})}}bc.programId=new fo("ComputeBudget111111111111111111111111111111");const kc=Jn.struct([Jn.u8("numSignatures"),Jn.u8("padding"),Jn.u16("signatureOffset"),Jn.u16("signatureInstructionIndex"),Jn.u16("publicKeyOffset"),Jn.u16("publicKeyInstructionIndex"),Jn.u16("messageDataOffset"),Jn.u16("messageDataSize"),Jn.u16("messageInstructionIndex")]);class vc{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,instructionIndex:i}=e;Oo(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),Oo(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const o=kc.span,s=o+t.length,a=s+r.length,c=g.alloc(a+n.length),u=null==i?65535:i;return kc.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:u,publicKeyOffset:o,publicKeyInstructionIndex:u,messageDataOffset:a,messageDataSize:n.length,messageInstructionIndex:u},c),c.fill(t,o),c.fill(r,s),c.fill(n,a),new Do({keys:[],programId:vc.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;Oo(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=yc.fromSecretKey(t),i=e.publicKey.toBytes(),o=so(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}vc.programId=new fo("Ed25519SigVerify111111111111111111111111111");to.utils.isValidPrivateKey;const Ec=to.getPublicKey,Ac=Jn.struct([Jn.u8("numSignatures"),Jn.u16("signatureOffset"),Jn.u8("signatureInstructionIndex"),Jn.u16("ethAddressOffset"),Jn.u8("ethAddressInstructionIndex"),Jn.u16("messageDataOffset"),Jn.u16("messageDataSize"),Jn.u8("messageInstructionIndex"),Jn.blob(20,"ethAddress"),Jn.blob(64,"signature"),Jn.u8("recoveryId")]);class Sc{constructor(){}static publicKeyToEthAddress(e){Oo(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return g.from(Ni(co(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:o}=e;return Sc.createInstructionWithEthAddress({ethAddress:Sc.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:r,recoveryId:i,instructionIndex:o=0}=e;let s;s="string"==typeof t?t.startsWith("0x")?g.from(t.substr(2),"hex"):g.from(t,"hex"):t,Oo(20===s.length,`Address must be 20 bytes but received ${s.length} bytes`);const a=12+s.length,c=a+r.length+1,u=g.alloc(Ac.span+n.length);return Ac.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:o,signature:co(r),ethAddress:co(s),recoveryId:i},u),u.fill(co(n),Ac.span),new Do({keys:[],programId:Sc.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;Oo(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=co(t),i=Ec(e,!1).slice(1),o=g.from(Ni(co(n))),[s,a]=((e,t)=>{const n=to.sign(e,t);return [n.toCompactRawBytes(),n.recovery]})(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:s,recoveryId:a,instructionIndex:r})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var Rc;Sc.programId=new fo("KeccakSecp256k11111111111111111111111111111");const Ic=new fo("StakeConfig11111111111111111111111111111111");class Tc{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t;}}class Oc{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n;}}Rc=Oc,Oc.default=new Rc(0,0,fo.default);const xc=Object.freeze({Initialize:{index:0,layout:Jn.struct([Jn.u32("instruction"),((e="authorized")=>Jn.struct([Eo("staker"),Eo("withdrawer")],e))(),((e="lockup")=>Jn.struct([Jn.ns64("unixTimestamp"),Jn.ns64("epoch"),Eo("custodian")],e))()])},Authorize:{index:1,layout:Jn.struct([Jn.u32("instruction"),Eo("newAuthorized"),Jn.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Jn.struct([Jn.u32("instruction")])},Split:{index:3,layout:Jn.struct([Jn.u32("instruction"),Jn.ns64("lamports")])},Withdraw:{index:4,layout:Jn.struct([Jn.u32("instruction"),Jn.ns64("lamports")])},Deactivate:{index:5,layout:Jn.struct([Jn.u32("instruction")])},Merge:{index:7,layout:Jn.struct([Jn.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Jn.struct([Jn.u32("instruction"),Eo("newAuthorized"),Jn.u32("stakeAuthorizationType"),So("authoritySeed"),Eo("authorityOwner")])}}),Nc=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Cc{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||Oc.default,o=ns(xc.Initialize,{authorized:{staker:co(n.staker.toBuffer()),withdrawer:co(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:co(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Go,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new Do(s)}static createAccountWithSeed(e){const t=new Ho;t.add(ls.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new Ho;t.add(ls.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=ns(xc.Delegate);return (new Ho).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Vo,isSigner:!1,isWritable:!1},{pubkey:Jo,isSigner:!1,isWritable:!1},{pubkey:Ic,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=e,s=ns(xc.Authorize,{newAuthorized:co(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Vo,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new Ho).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=ns(xc.AuthorizeWithSeed,{newAuthorized:co(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:co(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Vo,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Ho).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,o=ns(xc.Split,{lamports:i});return new Do({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e,t){const n=new Ho;return n.add(ls.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new Ho;return c.add(ls.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),t&&t>0&&c.add(ls.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),c.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=ns(xc.Merge);return (new Ho).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Vo,isSigner:!1,isWritable:!1},{pubkey:Jo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=e,s=ns(xc.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Vo,isSigner:!1,isWritable:!1},{pubkey:Jo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new Ho).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=ns(xc.Deactivate);return (new Ho).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Vo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}Cc.programId=new fo("Stake11111111111111111111111111111111111111"),Cc.space=200;class Pc{constructor(e,t,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=r;}}const Bc=Object.freeze({InitializeAccount:{index:0,layout:Jn.struct([Jn.u32("instruction"),((e="voteInit")=>Jn.struct([Eo("nodePubkey"),Eo("authorizedVoter"),Eo("authorizedWithdrawer"),Jn.u8("commission")],e))()])},Authorize:{index:1,layout:Jn.struct([Jn.u32("instruction"),Eo("newAuthorized"),Jn.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Jn.struct([Jn.u32("instruction"),Jn.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Jn.struct([Jn.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Jn.struct([Jn.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>Jn.struct([Jn.u32("voteAuthorizationType"),Eo("currentAuthorityDerivedKeyOwnerPubkey"),So("currentAuthorityDerivedKeySeed"),Eo("newAuthorized")],e))()])}}),Mc=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Lc{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=ns(Bc.InitializeAccount,{voteInit:{nodePubkey:co(r.nodePubkey.toBuffer()),authorizedVoter:co(r.authorizedVoter.toBuffer()),authorizedWithdrawer:co(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Go,isSigner:!1,isWritable:!1},{pubkey:Vo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Do(o)}static createAccount(e){const t=new Ho;return t.add(ls.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,o=ns(Bc.Authorize,{newAuthorized:co(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Vo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return (new Ho).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=e,a=ns(Bc.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:co(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:co(i.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Vo,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return (new Ho).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,o=ns(Bc.Withdraw,{lamports:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return (new Ho).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return Lc.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:r}=e,i=ns(Bc.UpdateValidatorIdentity),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return (new Ho).add({keys:o,programId:this.programId,data:i})}}Lc.programId=new fo("Vote111111111111111111111111111111111111111"),Lc.space=3762;const Uc=new fo("Va1idator1nfo111111111111111111111111111111"),zc=Er({name:kr(),website:wr(kr()),details:wr(kr()),iconUrl:wr(kr()),keybaseUsername:wr(kr())});class Dc{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t;}static fromConfigData(e){let t=[...e];if(2!==Io(t))return null;const n=[];for(let e=0;e<2;e++){const e=new fo(Po(t,0,po)),r=1===Co(t);n.push({publicKey:e,isSigner:r});}if(n[0].publicKey.equals(Uc)&&n[1].isSigner){const e=So().decode(g.from(t)),r=JSON.parse(e);return cr(r,zc),new Dc(n[1].publicKey,r)}return null}}const Hc=new fo("Vote111111111111111111111111111111111111111"),Fc=Jn.struct([Eo("nodePubkey"),Eo("authorizedWithdrawer"),Jn.u8("commission"),Jn.nu64(),Jn.seq(Jn.struct([Jn.nu64("slot"),Jn.u32("confirmationCount")]),Jn.offset(Jn.u32(),-8),"votes"),Jn.u8("rootSlotValid"),Jn.nu64("rootSlot"),Jn.nu64(),Jn.seq(Jn.struct([Jn.nu64("epoch"),Eo("authorizedVoter")]),Jn.offset(Jn.u32(),-8),"authorizedVoters"),Jn.struct([Jn.seq(Jn.struct([Eo("authorizedPubkey"),Jn.nu64("epochOfLastAuthorizedSwitch"),Jn.nu64("targetEpoch")]),32,"buf"),Jn.nu64("idx"),Jn.u8("isEmpty")],"priorVoters"),Jn.nu64(),Jn.seq(Jn.struct([Jn.nu64("epoch"),Jn.nu64("credits"),Jn.nu64("prevCredits")]),Jn.offset(Jn.u32(),-8),"epochCredits"),Jn.struct([Jn.nu64("slot"),Jn.nu64("timestamp")],"lastTimestamp")]);class qc{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp;}static fromAccountData(e){const t=Fc.decode(co(e),4);let n=t.rootSlot;return t.rootSlotValid||(n=null),new qc({nodePubkey:new fo(t.nodePubkey),authorizedWithdrawer:new fo(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:n,authorizedVoters:t.authorizedVoters.map(Vc),priorVoters:Wc(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function Vc({authorizedVoter:e,epoch:t}){return {epoch:t,authorizedVoter:new fo(e)}}function Kc({authorizedPubkey:e,epochOfLastAuthorizedSwitch:t,targetEpoch:n}){return {authorizedPubkey:new fo(e),epochOfLastAuthorizedSwitch:t,targetEpoch:n}}function Wc({buf:e,idx:t,isEmpty:n}){return n?[]:[...e.slice(t+1).map(Kc),...e.slice(0,t).map(Kc)]}const jc={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};var Gc,$c=Object.freeze({__proto__:null,Account:class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=co(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32);}else this._secretKey=co(no()),this._publicKey=co(io(this._secretKey));}get publicKey(){return new fo(this._publicKey)}get secretKey(){return g.concat([this._secretKey,this._publicKey],64)}},AddressLookupTableAccount:Es,AddressLookupTableInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Jn.u32("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(gc))if(r.index==t){n=e;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=rs(gc.CreateLookupTable,e.data);return {authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=rs(gc.ExtendLookupTable,e.data);return {lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new fo(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(_c.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},AddressLookupTableProgram:_c,Authorized:Tc,BLOCKHASH_CACHE_TIMEOUT_MS:3e4,BPF_LOADER_DEPRECATED_PROGRAM_ID:yo,BPF_LOADER_PROGRAM_ID:ps,BpfLoader:class{static getMinNumSignatures(e){return hs.getMinNumSignatures(e)}static load(e,t,n,r,i){return hs.load(e,t,n,i,r)}},COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:wc,ComputeBudgetInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Jn.u8("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(wc))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=rs(wc.RequestUnits,e.data);return {units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=rs(wc.RequestHeapFrame,e.data);return {bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=rs(wc.SetComputeUnitLimit,e.data);return {units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=rs(wc.SetComputeUnitPrice,e.data);return {microLamports:t}}static checkProgramId(e){if(!e.equals(bc.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},ComputeBudgetProgram:bc,Connection:fc,Ed25519Program:vc,Enum:class extends uo{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e;}));}},EpochSchedule:bs,FeeCalculatorLayout:is,Keypair:yc,LAMPORTS_PER_SOL:1e9,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:gc,Loader:hs,Lockup:Oc,MAX_SEED_LENGTH:32,Message:Bo,MessageAccountKeys:vo,MessageV0:Mo,NONCE_ACCOUNT_LENGTH:ss,NonceAccount:as,PACKET_DATA_SIZE:go,PUBLIC_KEY_LENGTH:po,PublicKey:fo,SIGNATURE_LENGTH_IN_BYTES:64,SOLANA_SCHEMA:lo,STAKE_CONFIG_ID:Ic,STAKE_INSTRUCTION_LAYOUTS:xc,SYSTEM_INSTRUCTION_LAYOUTS:ds,SYSVAR_CLOCK_PUBKEY:Vo,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Ko,SYSVAR_INSTRUCTIONS_PUBKEY:Wo,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:jo,SYSVAR_RENT_PUBKEY:Go,SYSVAR_REWARDS_PUBKEY:$o,SYSVAR_SLOT_HASHES_PUBKEY:Zo,SYSVAR_SLOT_HISTORY_PUBKEY:Yo,SYSVAR_STAKE_HISTORY_PUBKEY:Jo,Secp256k1Program:Sc,SendTransactionError:Xo,SolanaJSONRPCError:Qo,SolanaJSONRPCErrorCode:{JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},StakeAuthorizationLayout:Nc,StakeInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Jn.u32("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(xc))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=rs(xc.Initialize,e.data);return {stakePubkey:e.keys[0].pubkey,authorized:new Tc(new fo(t.staker),new fo(t.withdrawer)),lockup:new Oc(n.unixTimestamp,n.epoch,new fo(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),rs(xc.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=rs(xc.Authorize,e.data),r={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new fo(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(r.custodianPubkey=e.keys[3].pubkey),r}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=rs(xc.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:r,authorityOwner:new fo(i),newAuthorizedPubkey:new fo(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=rs(xc.Split,e.data);return {stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(xc.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=rs(xc.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(xc.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Cc.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},StakeProgram:Cc,Struct:uo,SystemInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Jn.u32("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(ds))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:r}=rs(ds.Create,e.data);return {fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new fo(r)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=rs(ds.Transfer,e.data);return {fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:r}=rs(ds.TransferWithSeed,e.data);return {fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new fo(r)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=rs(ds.Allocate,e.data);return {accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:r,programId:i}=rs(ds.AllocateWithSeed,e.data);return {accountPubkey:e.keys[0].pubkey,basePubkey:new fo(t),seed:n,space:r,programId:new fo(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=rs(ds.Assign,e.data);return {accountPubkey:e.keys[0].pubkey,programId:new fo(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:r}=rs(ds.AssignWithSeed,e.data);return {accountPubkey:e.keys[0].pubkey,basePubkey:new fo(t),seed:n,programId:new fo(r)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:r,space:i,programId:o}=rs(ds.CreateWithSeed,e.data);return {fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new fo(t),seed:n,lamports:r,space:i,programId:new fo(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=rs(ds.InitializeNonceAccount,e.data);return {noncePubkey:e.keys[0].pubkey,authorizedPubkey:new fo(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(ds.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=rs(ds.WithdrawNonceAccount,e.data);return {noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=rs(ds.AuthorizeNonceAccount,e.data);return {noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new fo(t)}}static checkProgramId(e){if(!e.equals(ls.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},SystemProgram:ls,Transaction:Ho,TransactionExpiredBlockheightExceededError:wo,TransactionExpiredNonceInvalidError:ko,TransactionExpiredTimeoutError:bo,TransactionInstruction:Do,TransactionMessage:Fo,TransactionStatus:Uo,VALIDATOR_INFO_KEY:Uc,VERSION_PREFIX_MASK:_o,VOTE_PROGRAM_ID:Hc,ValidatorInfo:Dc,VersionedMessage:Lo,VersionedTransaction:qo,VoteAccount:qc,VoteAuthorizationLayout:Mc,VoteInit:Pc,VoteInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Jn.u32("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(Bc))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=rs(Bc.InitializeAccount,e.data);return {votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Pc(new fo(t.nodePubkey),new fo(t.authorizedVoter),new fo(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=rs(Bc.Authorize,e.data);return {votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new fo(t),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=rs(Bc.AuthorizeWithSeed,e.data);return {currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new fo(t),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new fo(r),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=rs(Bc.Withdraw,e.data);return {votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Lc.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},VoteProgram:Lc,clusterApiUrl:function(e,t){const n=!1===t?"http":"https";if(!e)return jc[n].devnet;const r=jc[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r},sendAndConfirmRawTransaction:async function(e,t,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await e.sendRawTransaction(t,s),c=o&&o.commitment,u=i?e.confirmTransaction(i,c):e.confirmTransaction(a,c),d=(await u).value;if(d.err){if(null!=a)throw new Xo({action:s?.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`});throw new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`)}return a},sendAndConfirmTransaction:es}),Zc={exports:{}};var Yc,Jc=function(){if(Gc)return Zc.exports;Gc=1;const e=/[\p{Lu}]/u,t=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,o=new RegExp("^"+i.source),s=new RegExp(i.source+r.source,"gu"),a=new RegExp("\\d+"+r.source,"gu"),c=(r,i)=>{if("string"!=typeof r&&!Array.isArray(r))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(r=Array.isArray(r)?r.map((e=>e.trim())).filter((e=>e.length)).join("-"):r.trim()).length)return "";const c=!1===i.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(i.locale),u=!1===i.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(i.locale);if(1===r.length)return i.pascalCase?u(r):c(r);return r!==c(r)&&(r=((n,r,i)=>{let o=!1,s=!1,a=!1;for(let c=0;c<n.length;c++){const u=n[c];o&&e.test(u)?(n=n.slice(0,c)+"-"+n.slice(c),o=!1,a=s,s=!0,c++):s&&a&&t.test(u)?(n=n.slice(0,c-1)+"-"+n.slice(c-1),a=s,s=!1,o=!0):(o=r(u)===u&&i(u)!==u,a=s,s=i(u)===u&&r(u)!==u);}return n})(r,c,u)),r=r.replace(o,""),r=i.preserveConsecutiveUppercase?((e,t)=>(n.lastIndex=0,e.replace(n,(e=>t(e)))))(r,c):c(r),i.pascalCase&&(r=u(r.charAt(0))+r.slice(1)),((e,t)=>(s.lastIndex=0,a.lastIndex=0,e.replace(s,((e,n)=>t(n))).replace(a,(e=>t(e)))))(r,u)};return Zc.exports=c,Zc.exports.default=c,Zc.exports}(),Xc=Xt(Jc),Qc={},eu={};function tu(){if(Yc)return eu;Yc=1;class e{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t;}makeDestinationObject(){return {}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function t(e,t){return t.property?e+"["+t.property+"]":e}eu.Layout=e,eu.nameWithProperty=t,eu.bindConstructorLayout=function(t,n){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(n&&n instanceof e))throw new TypeError("layout must be a Layout");if(n.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=n,n.boundConstructor_=t,n.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(e,t){return n.encode(this,e,t)},writable:!0}),Object.defineProperty(t,"decode",{value:function(e,t){return n.decode(e,t)},writable:!0});};class n extends e{isCount(){throw new Error("ExternalLayout is abstract")}}class r extends n{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e;}isCount(){return !0}decode(e,t){void 0===t&&(t=0);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class i extends n{constructor(t,n,r){if(!(t instanceof e))throw new TypeError("layout must be a Layout");if(void 0===n)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n;}isCount(){return this.layout instanceof o||this.layout instanceof s}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class o extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class s extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}class a extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntLE(e,n,this.span),this.span}}class c extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntBE(e,n,this.span),this.span}}const u=Math.pow(2,32);function d(e){const t=Math.floor(e/u);return {hi32:t,lo32:e-t*u}}function l(e,t){return e*u+t}class h extends e{constructor(e){super(8,e);}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return l(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=d(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class p extends e{constructor(e){super(8,e);}decode(e,t){void 0===t&&(t=0);return l(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=d(e);return t.writeUInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class m extends e{constructor(e){super(8,e);}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return l(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=d(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class f extends e{constructor(e){super(8,e);}decode(e,t){void 0===t&&(t=0);return l(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=d(e);return t.writeInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class y extends e{constructor(e){super(4,e);}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatLE(e,n),4}}class g extends e{constructor(e){super(4,e);}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatBE(e,n),4}}class _ extends e{constructor(e){super(8,e);}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleLE(e,n),8}}class w extends e{constructor(e){super(8,e);}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleBE(e,n),8}}class b extends e{constructor(t,r,i){if(!(t instanceof e))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof n&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(r instanceof n)&&0<t.span&&(o=r*t.span),super(o,i),this.elementLayout=t,this.count=r;}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0,i=this.count;if(i instanceof n&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else {let n=0;for(;n<i;)r+=this.elementLayout.getSpan(e,t+r),++n;}return r}decode(e,t){void 0===t&&(t=0);const r=[];let i=0,o=this.count;for(o instanceof n&&(o=o.decode(e,t));i<o;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r){void 0===r&&(r=0);const i=this.elementLayout,o=e.reduce(((e,n)=>e+i.encode(n,t,r+e)),0);return this.count instanceof n&&this.count.encode(e.length,t,r),o}}class k extends e{constructor(t,n,r){if(!Array.isArray(t)||!t.reduce(((t,n)=>t&&n instanceof e),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof n&&void 0===r&&(r=n,n=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce(((e,t)=>e+t.getSpan()),0);}catch(e){}super(i,n),this.fields=t,this.decodePrefixes=!!r;}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0);}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)));}i=n,n+=s;}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span);}}}class v{constructor(e){this.property=e;}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class E extends v{constructor(e,t){if(!(e instanceof n&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e;}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class A extends e{constructor(t,r,a){const c=t instanceof o||t instanceof s;if(c)t=new E(new i(t));else if(t instanceof n&&t.isCount())t=new E(t);else if(!(t instanceof v))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===r&&(r=null),!(null===r||r instanceof e))throw new TypeError("defaultLayout must be null or a Layout");if(null!==r){if(0>r.span)throw new Error("defaultLayout must have constant span");void 0===r.property&&(r=r.replicate("content"));}let u=-1;r&&(u=r.span,0<=u&&c&&(u+=t.layout.span)),super(u,a),this.discriminator=t,this.usesPrefixDiscriminator=c,this.defaultLayout=r,this.registry={};let d=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return d(e)},this.configGetSourceVariant=function(e){d=e.bind(this);};}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s);}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new S(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class S extends e{constructor(t,n,r,i){if(!(t instanceof A))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof e))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=r?r.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=n,this.layout=r||null;}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function R(e){return 0>e&&(e+=4294967296),e}class I extends e{constructor(e,t,n){if(!(e instanceof o||e instanceof s))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=R(e),this},this._packedGetValue=function(){return r};}decode(e,t){const n=this.makeDestinationObject();void 0===t&&(t=0);const r=this.word.decode(e,t);this._packedSetValue(r);for(const e of this.fields)void 0!==e.property&&(n[e.property]=e.decode(r));return n}encode(e,t,n){void 0===n&&(n=0);const r=this.word.decode(t,n);this._packedSetValue(r);for(const t of this.fields)if(void 0!==t.property){const n=e[t.property];void 0!==n&&t.encode(n);}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new T(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new O(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class T{constructor(e,t,n){if(!(e instanceof I))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=R(this.valueMask<<this.start),this.property=n;}decode(){return R(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==R(e&this.valueMask))throw new TypeError(t("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=R(e<<this.start);this.container._packedSetValue(R(n&~this.wordMask)|r);}}class O extends T{constructor(e,t){super(e,1,t);}decode(e,t){return !!T.prototype.decode.call(this,e,t)}encode(e){return "boolean"==typeof e&&(e=+e),T.prototype.encode.call(this,e)}}class x extends e{constructor(e,t){if(!(e instanceof n&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof n||(r=e),super(r,t),this.length=e;}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,r,i){let o=this.length;if(this.length instanceof n&&(o=e.length),!Buffer.isBuffer(e)||o!==e.length)throw new TypeError(t("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(i+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),i,o,"hex"),this.length instanceof n&&this.length.encode(o,r,i),o}}class N extends e{constructor(e){super(-1,e);}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);return e.slice(t,t+r-1).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new Buffer(e,"utf8"),i=r.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),t[n+i]=0,i+1}}class C extends e{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e;}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+r).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new Buffer(e,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),i}}class P extends e{constructor(e,t){super(0,t),this.value=e;}decode(e,t,n){return this.value}encode(e,t,n){return 0}}return eu.ExternalLayout=n,eu.GreedyCount=r,eu.OffsetLayout=i,eu.UInt=o,eu.UIntBE=s,eu.Int=a,eu.IntBE=c,eu.Float=y,eu.FloatBE=g,eu.Double=_,eu.DoubleBE=w,eu.Sequence=b,eu.Structure=k,eu.UnionDiscriminator=v,eu.UnionLayoutDiscriminator=E,eu.Union=A,eu.VariantLayout=S,eu.BitStructure=I,eu.BitField=T,eu.Boolean=O,eu.Blob=x,eu.CString=N,eu.UTF8=C,eu.Constant=P,eu.greedy=(e,t)=>new r(e,t),eu.offset=(e,t,n)=>new i(e,t,n),eu.u8=e=>new o(1,e),eu.u16=e=>new o(2,e),eu.u24=e=>new o(3,e),eu.u32=e=>new o(4,e),eu.u40=e=>new o(5,e),eu.u48=e=>new o(6,e),eu.nu64=e=>new h(e),eu.u16be=e=>new s(2,e),eu.u24be=e=>new s(3,e),eu.u32be=e=>new s(4,e),eu.u40be=e=>new s(5,e),eu.u48be=e=>new s(6,e),eu.nu64be=e=>new p(e),eu.s8=e=>new a(1,e),eu.s16=e=>new a(2,e),eu.s24=e=>new a(3,e),eu.s32=e=>new a(4,e),eu.s40=e=>new a(5,e),eu.s48=e=>new a(6,e),eu.ns64=e=>new m(e),eu.s16be=e=>new c(2,e),eu.s24be=e=>new c(3,e),eu.s32be=e=>new c(4,e),eu.s40be=e=>new c(5,e),eu.s48be=e=>new c(6,e),eu.ns64be=e=>new f(e),eu.f32=e=>new y(e),eu.f32be=e=>new g(e),eu.f64=e=>new _(e),eu.f64be=e=>new w(e),eu.struct=(e,t,n)=>new k(e,t,n),eu.bits=(e,t,n)=>new I(e,t,n),eu.seq=(e,t,n)=>new b(e,t,n),eu.union=(e,t,n)=>new A(e,t,n),eu.unionLayoutDiscriminator=(e,t)=>new E(e,t),eu.blob=(e,t)=>new x(e,t),eu.cstr=e=>new N(e),eu.utf8=(e,t)=>new C(e,t),eu.const=(e,t)=>new P(e,t),eu}var nu,ru=Qt($c);var iu=(nu||(nu=1,function(e){var t=Qc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const n=tu(),r=ru,i=t(on());var o=tu();Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return o.struct}});class s extends n.Layout{constructor(e,t,r){super(e,r),this.blob=(0, n.blob)(e),this.signed=t;}decode(e,t=0){const n=new i.default(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(e,t,n=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),t,n)}}function a(e){return new s(8,!1,e)}e.u64=a,e.i64=function(e){return new s(8,!0,e)},e.u128=function(e){return new s(16,!1,e)},e.i128=function(e){return new s(16,!0,e)},e.u256=function(e){return new s(32,!1,e)},e.i256=function(e){return new s(32,!0,e)};class c extends n.Layout{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n;}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}e.publicKey=function(e){return new c((0, n.blob)(32),(e=>new r.PublicKey(e)),(e=>e.toBuffer()),e)};class u extends n.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=(0, n.u8)();}encode(e,t,n=0){return null==e?this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+1)+1)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function d(e){if(0===e)return !1;if(1===e)return !0;throw new Error("Invalid bool: "+e)}function l(e){return e?1:0}function h(e){const t=(0, n.u32)("length"),r=(0, n.struct)([t,(0, n.blob)((0, n.offset)(t,-t.span),"data")]);return new c(r,(({data:e})=>e),(e=>({data:e})),e)}e.option=function(e,t){return new u(e,t)},e.bool=function(e){return new c((0, n.u8)(),d,l,e)},e.vec=function(e,t){const r=(0, n.u32)("length"),i=(0, n.struct)([r,(0, n.seq)(e,(0, n.offset)(r,-r.span),"values")]);return new c(i,(({values:e})=>e),(e=>({values:e})),t)},e.tagged=function(e,t,r){const i=(0, n.struct)([a("tag"),t.replicate("data")]);return new c(i,(function({tag:t,data:n}){if(!t.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return n}),(t=>({tag:e,data:t})),r)},e.vecU8=h,e.str=function(e){return new c(h(),(e=>e.toString("utf-8")),(e=>Buffer.from(e,"utf-8")),e)},e.rustEnum=function(e,t,r){const i=(0, n.union)(null!=r?r:(0, n.u8)(),t);return e.forEach(((e,t)=>i.addVariant(t,e,e.property))),i},e.array=function(e,t,r){const i=(0, n.struct)([(0, n.seq)(e,t,"values")]);return new c(i,(({values:e})=>e),(e=>({values:e})),r)};class p extends n.Layout{constructor(e,t,n){super(e.span+t.span,n),this.keyLayout=e,this.valueLayout=t;}decode(e,t){return t=t||0,[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,n){n=n||0;const r=this.keyLayout.encode(e[0],t,n);return r+this.valueLayout.encode(e[1],t,n+r)}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}e.map=function(e,t,r){const i=(0, n.u32)("length"),o=(0, n.struct)([i,(0, n.seq)(new p(e,t),(0, n.offset)(i,-i.span),"values")]);return new c(o,(({values:e})=>new Map(e)),(e=>({values:Array.from(e.entries())})),r)};}(Qc)),Qc);
    /*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function ou(e){let t=e.length;for(;--t>=0;)e[t]=0;}const cu=30,mu=new Array(576);ou(mu);const fu=new Array(60);ou(fu);const yu=new Array(512);ou(yu);const gu=new Array(256);ou(gu);const _u=new Array(29);ou(_u);const wu=new Array(cu);ou(wu);var Wu=(e,t,n,r)=>{let i=65535&e,o=e>>>16&65535,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+t[r++]|0,o=o+i|0;}while(--s);i%=65521,o%=65521;}return i|o<<16};const ju=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e;}return t})());var Gu=(e,t,n,r)=>{const i=ju,o=r+n;e^=-1;for(let n=r;n<o;n++)e=e>>>8^i[255&(e^t[n])];return ~e},$u={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const Gd=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var $d=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Gd(n,t)&&(e[t]=n[t]);}}return e},Zd=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length;}return n};let Yd=!0;try{String.fromCharCode.apply(null,new Uint8Array(1));}catch(e){Yd=!1;}const Jd=new Uint8Array(256);for(let e=0;e<256;e++)Jd[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Jd[254]=Jd[254]=1;var Xd=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return (new TextEncoder).encode(e);let t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},Qd=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return (new TextDecoder).decode(e.subarray(0,t));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){o[i++]=t;continue}let s=Jd[t];if(s>4)o[i++]=65533,r+=s-1;else {for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t);}}return ((e,t)=>{if(t<65534&&e.subarray&&Yd)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,i)},el=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Jd[e[n]]>t?n:t};var tl=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0;};const pl=16209;var ml=function(e,t){let n,r,i,o,s,a,c,u,d,l,h,p,m,f,y,g,_,w,b,k,v,E,A,S;const R=e.state;n=e.next_in,A=e.input,r=n+(e.avail_in-5),i=e.next_out,S=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),a=R.dmax,c=R.wsize,u=R.whave,d=R.wnext,l=R.window,h=R.hold,p=R.bits,m=R.lencode,f=R.distcode,y=(1<<R.lenbits)-1,g=(1<<R.distbits)-1;e:do{p<15&&(h+=A[n++]<<p,p+=8,h+=A[n++]<<p,p+=8),_=m[h&y];t:for(;;){if(w=_>>>24,h>>>=w,p-=w,w=_>>>16&255,0===w)S[i++]=65535&_;else {if(!(16&w)){if(64&w){if(32&w){R.mode=16191;break e}e.msg="invalid literal/length code",R.mode=pl;break e}_=m[(65535&_)+(h&(1<<w)-1)];continue t}for(b=65535&_,w&=15,w&&(p<w&&(h+=A[n++]<<p,p+=8),b+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=A[n++]<<p,p+=8,h+=A[n++]<<p,p+=8),_=f[h&g];;){if(w=_>>>24,h>>>=w,p-=w,w=_>>>16&255,16&w){if(k=65535&_,w&=15,p<w&&(h+=A[n++]<<p,p+=8,p<w&&(h+=A[n++]<<p,p+=8)),k+=h&(1<<w)-1,k>a){e.msg="invalid distance too far back",R.mode=pl;break e}if(h>>>=w,p-=w,w=i-o,k>w){if(w=k-w,w>u&&R.sane){e.msg="invalid distance too far back",R.mode=pl;break e}if(v=0,E=l,0===d){if(v+=c-w,w<b){b-=w;do{S[i++]=l[v++];}while(--w);v=i-k,E=S;}}else if(d<w){if(v+=c+d-w,w-=d,w<b){b-=w;do{S[i++]=l[v++];}while(--w);if(v=0,d<b){w=d,b-=w;do{S[i++]=l[v++];}while(--w);v=i-k,E=S;}}}else if(v+=d-w,w<b){b-=w;do{S[i++]=l[v++];}while(--w);v=i-k,E=S;}for(;b>2;)S[i++]=E[v++],S[i++]=E[v++],S[i++]=E[v++],b-=3;b&&(S[i++]=E[v++],b>1&&(S[i++]=E[v++]));}else {v=i-k;do{S[i++]=S[v++],S[i++]=S[v++],S[i++]=S[v++],b-=3;}while(b>2);b&&(S[i++]=S[v++],b>1&&(S[i++]=S[v++]));}break}if(64&w){e.msg="invalid distance code",R.mode=pl;break e}_=f[(65535&_)+(h&(1<<w)-1)];}}break}}while(n<r&&i<s);b=p>>3,n-=b,p-=b<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<s?s-i+257:257-(i-s),R.hold=h,R.bits=p;};const fl=15,yl=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gl=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_l=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wl=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var bl=(e,t,n,r,i,o,s,a)=>{const c=a.bits;let u,d,l,h,p,m,f=0,y=0,g=0,_=0,w=0,b=0,k=0,v=0,E=0,A=0,S=null;const R=new Uint16Array(16),I=new Uint16Array(16);let T,O,x,N=null;for(f=0;f<=fl;f++)R[f]=0;for(y=0;y<r;y++)R[t[n+y]]++;for(w=c,_=fl;_>=1&&0===R[_];_--);if(w>_&&(w=_),0===_)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(g=1;g<_&&0===R[g];g++);for(w<g&&(w=g),v=1,f=1;f<=fl;f++)if(v<<=1,v-=R[f],v<0)return -1;if(v>0&&(0===e||1!==_))return -1;for(I[1]=0,f=1;f<fl;f++)I[f+1]=I[f]+R[f];for(y=0;y<r;y++)0!==t[n+y]&&(s[I[t[n+y]]++]=y);if(0===e?(S=N=s,m=20):1===e?(S=yl,N=gl,m=257):(S=_l,N=wl,m=0),A=0,y=0,f=g,p=o,b=w,k=0,l=-1,E=1<<w,h=E-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){T=f-k,s[y]+1<m?(O=0,x=s[y]):s[y]>=m?(O=N[s[y]-m],x=S[s[y]-m]):(O=96,x=0),u=1<<f-k,d=1<<b,g=d;do{d-=u,i[p+(A>>k)+d]=T<<24|O<<16|x;}while(0!==d);for(u=1<<f-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,y++,0==--R[f]){if(f===_)break;f=t[n+s[y]];}if(f>w&&(A&h)!==l){for(0===k&&(k=w),p+=g,b=f-k,v=1<<b;b+k<_&&(v-=R[b+k],!(v<=0));)b++,v<<=1;if(E+=1<<b,1===e&&E>852||2===e&&E>592)return 1;l=A&h,i[l]=w<<24|b<<16|p-o;}}return 0!==A&&(i[p+A]=f-k<<24|64<<16),a.bits=w,0};const{Z_FINISH:kl,Z_BLOCK:vl,Z_TREES:El,Z_OK:Al,Z_STREAM_END:Sl,Z_NEED_DICT:Rl,Z_STREAM_ERROR:Il,Z_DATA_ERROR:Tl,Z_MEM_ERROR:Ol,Z_BUF_ERROR:xl,Z_DEFLATED:Nl}=Zu,Cl=16180,Pl=16190,Bl=16191,Ml=16192,Ll=16194,Ul=16199,zl=16200,Dl=16206,Hl=16209,Fl=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function ql(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0;}const Vl=e=>{if(!e)return 1;const t=e.state;return !t||t.strm!==e||t.mode<Cl||t.mode>16211?1:0},Kl=e=>{if(Vl(e))return Il;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Cl,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Al},Wl=e=>{if(Vl(e))return Il;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Kl(e)},jl=(e,t)=>{let n;if(Vl(e))return Il;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Il:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Wl(e))},Gl=(e,t)=>{if(!e)return Il;const n=new ql;e.state=n,n.strm=e,n.window=null,n.mode=Cl;const r=jl(e,t);return r!==Al&&(e.state=null),r};let $l,Zl,Yl=!0;const Jl=e=>{if(Yl){$l=new Int32Array(512),Zl=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(bl(1,e.lens,0,288,$l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;bl(2,e.lens,0,32,Zl,0,e.work,{bits:5}),Yl=!1;}e.lencode=$l,e.lenbits=9,e.distcode=Zl,e.distbits=5;},Xl=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Ql=(e,t)=>{let n,r,i,o,s,a,c,u,d,l,h,p,m,f,y,g,_,w,b,k,v,E,A=0;const S=new Uint8Array(4);let R,I;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vl(e)||!e.output||!e.input&&0!==e.avail_in)return Il;n=e.state,n.mode===Bl&&(n.mode=Ml),s=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,l=a,h=c,E=Al;e:for(;;)switch(n.mode){case Cl:if(0===n.wrap){n.mode=Ml;break}for(;d<16;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}if(2&n.wrap&&35615===u){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&u,S[1]=u>>>8&255,n.check=Gu(n.check,S,2,0),u=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Hl;break}if((15&u)!==Nl){e.msg="unknown compression method",n.mode=Hl;break}if(u>>>=4,d-=4,v=8+(15&u),0===n.wbits&&(n.wbits=v),v>15||v>n.wbits){e.msg="invalid window size",n.mode=Hl;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&u?16189:Bl,u=0,d=0;break;case 16181:for(;d<16;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}if(n.flags=u,(255&n.flags)!==Nl){e.msg="unknown compression method",n.mode=Hl;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Hl;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&u,S[1]=u>>>8&255,n.check=Gu(n.check,S,2,0)),u=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(S[0]=255&u,S[1]=u>>>8&255,S[2]=u>>>16&255,S[3]=u>>>24&255,n.check=Gu(n.check,S,4,0)),u=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(S[0]=255&u,S[1]=u>>>8&255,n.check=Gu(n.check,S,2,0)),u=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(S[0]=255&u,S[1]=u>>>8&255,n.check=Gu(n.check,S,2,0)),u=0,d=0;}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>a&&(p=a),p&&(n.head&&(v=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+p),v)),512&n.flags&&4&n.wrap&&(n.check=Gu(n.check,r,p,o)),a-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break e;p=0;do{v=r[o+p++],n.head&&v&&n.length<65536&&(n.head.name+=String.fromCharCode(v));}while(v&&p<a);if(512&n.flags&&4&n.wrap&&(n.check=Gu(n.check,r,p,o)),a-=p,o+=p,v)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break e;p=0;do{v=r[o+p++],n.head&&v&&n.length<65536&&(n.head.comment+=String.fromCharCode(v));}while(v&&p<a);if(512&n.flags&&4&n.wrap&&(n.check=Gu(n.check,r,p,o)),a-=p,o+=p,v)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}if(4&n.wrap&&u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Hl;break}u=0,d=0;}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Bl;break;case 16189:for(;d<32;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}e.adler=n.check=Fl(u),u=0,d=0,n.mode=Pl;case Pl:if(0===n.havedict)return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=u,n.bits=d,Rl;e.adler=n.check=1,n.mode=Bl;case Bl:if(t===vl||t===El)break e;case Ml:if(n.last){u>>>=7&d,d-=7&d,n.mode=Dl;break}for(;d<3;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}switch(n.last=1&u,u>>>=1,d-=1,3&u){case 0:n.mode=16193;break;case 1:if(Jl(n),n.mode=Ul,t===El){u>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Hl;}u>>>=2,d-=2;break;case 16193:for(u>>>=7&d,d-=7&d;d<32;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Hl;break}if(n.length=65535&u,u=0,d=0,n.mode=Ll,t===El)break e;case Ll:n.mode=16195;case 16195:if(p=n.length,p){if(p>a&&(p=a),p>c&&(p=c),0===p)break e;i.set(r.subarray(o,o+p),s),a-=p,o+=p,c-=p,s+=p,n.length-=p;break}n.mode=Bl;break;case 16196:for(;d<14;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}if(n.nlen=257+(31&u),u>>>=5,d-=5,n.ndist=1+(31&u),u>>>=5,d-=5,n.ncode=4+(15&u),u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Hl;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}n.lens[T[n.have++]]=7&u,u>>>=3,d-=3;}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},E=bl(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,E){e.msg="invalid code lengths set",n.mode=Hl;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[u&(1<<n.lenbits)-1],y=A>>>24,g=A>>>16&255,_=65535&A,!(y<=d);){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}if(_<16)u>>>=y,d-=y,n.lens[n.have++]=_;else {if(16===_){for(I=y+2;d<I;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}if(u>>>=y,d-=y,0===n.have){e.msg="invalid bit length repeat",n.mode=Hl;break}v=n.lens[n.have-1],p=3+(3&u),u>>>=2,d-=2;}else if(17===_){for(I=y+3;d<I;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}u>>>=y,d-=y,v=0,p=3+(7&u),u>>>=3,d-=3;}else {for(I=y+7;d<I;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}u>>>=y,d-=y,v=0,p=11+(127&u),u>>>=7,d-=7;}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Hl;break}for(;p--;)n.lens[n.have++]=v;}}if(n.mode===Hl)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Hl;break}if(n.lenbits=9,R={bits:n.lenbits},E=bl(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,E){e.msg="invalid literal/lengths set",n.mode=Hl;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},E=bl(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,E){e.msg="invalid distances set",n.mode=Hl;break}if(n.mode=Ul,t===El)break e;case Ul:n.mode=zl;case zl:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=u,n.bits=d,ml(e,h),s=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===Bl&&(n.back=-1);break}for(n.back=0;A=n.lencode[u&(1<<n.lenbits)-1],y=A>>>24,g=A>>>16&255,_=65535&A,!(y<=d);){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}if(g&&!(240&g)){for(w=y,b=g,k=_;A=n.lencode[k+((u&(1<<w+b)-1)>>w)],y=A>>>24,g=A>>>16&255,_=65535&A,!(w+y<=d);){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}u>>>=w,d-=w,n.back+=w;}if(u>>>=y,d-=y,n.back+=y,n.length=_,0===g){n.mode=16205;break}if(32&g){n.back=-1,n.mode=Bl;break}if(64&g){e.msg="invalid literal/length code",n.mode=Hl;break}n.extra=15&g,n.mode=16201;case 16201:if(n.extra){for(I=n.extra;d<I;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra;}n.was=n.length,n.mode=16202;case 16202:for(;A=n.distcode[u&(1<<n.distbits)-1],y=A>>>24,g=A>>>16&255,_=65535&A,!(y<=d);){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}if(!(240&g)){for(w=y,b=g,k=_;A=n.distcode[k+((u&(1<<w+b)-1)>>w)],y=A>>>24,g=A>>>16&255,_=65535&A,!(w+y<=d);){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}u>>>=w,d-=w,n.back+=w;}if(u>>>=y,d-=y,n.back+=y,64&g){e.msg="invalid distance code",n.mode=Hl;break}n.offset=_,n.extra=15&g,n.mode=16203;case 16203:if(n.extra){for(I=n.extra;d<I;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra;}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Hl;break}n.mode=16204;case 16204:if(0===c)break e;if(p=h-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Hl;break}p>n.wnext?(p-=n.wnext,m=n.wsize-p):m=n.wnext-p,p>n.length&&(p=n.length),f=n.window;}else f=i,m=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do{i[s++]=f[m++];}while(--p);0===n.length&&(n.mode=zl);break;case 16205:if(0===c)break e;i[s++]=n.length,c--,n.mode=zl;break;case Dl:if(n.wrap){for(;d<32;){if(0===a)break e;a--,u|=r[o++]<<d,d+=8;}if(h-=c,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?Gu(n.check,i,h,s-h):Wu(n.check,i,h,s-h)),h=c,4&n.wrap&&(n.flags?u:Fl(u))!==n.check){e.msg="incorrect data check",n.mode=Hl;break}u=0,d=0;}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===a)break e;a--,u+=r[o++]<<d,d+=8;}if(4&n.wrap&&u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Hl;break}u=0,d=0;}n.mode=16208;case 16208:E=Sl;break e;case Hl:E=Tl;break e;case 16210:return Ol;default:return Il}return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<Hl&&(n.mode<Dl||t!==kl))&&Xl(e,e.output,e.next_out,h-e.avail_out),l-=e.avail_in,h-=e.avail_out,e.total_in+=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?Gu(n.check,i,h,e.next_out-h):Wu(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Bl?128:0)+(n.mode===Ul||n.mode===Ll?256:0),(0===l&&0===h||t===kl)&&E===Al&&(E=xl),E},eh={inflateReset:Wl,inflateReset2:jl,inflateResetKeep:Kl,inflateInit:e=>Gl(e,15),inflateInit2:Gl,inflate:Ql,inflateEnd:e=>{if(Vl(e))return Il;let t=e.state;return t.window&&(t.window=null),e.state=null,Al},inflateGetHeader:(e,t)=>{if(Vl(e))return Il;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,Al):Il},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,o;return Vl(e)?Il:(r=e.state,0!==r.wrap&&r.mode!==Pl?Il:r.mode===Pl&&(i=1,i=Wu(i,t,n,0),i!==r.check)?Tl:(o=Xl(e,t,n,n),o?(r.mode=16210,Ol):(r.havedict=1,Al)))},inflateInfo:"pako inflate (from Nodeca project)"};var th=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1;};const nh=Object.prototype.toString,{Z_NO_FLUSH:rh,Z_FINISH:ih,Z_OK:oh,Z_STREAM_END:sh,Z_NEED_DICT:ah,Z_STREAM_ERROR:ch,Z_DATA_ERROR:uh,Z_MEM_ERROR:dh}=Zu;function lh(e){this.options=$d({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tl,this.strm.avail_out=0;let n=eh.inflateInit2(this.strm,t.windowBits);if(n!==oh)throw new Error($u[n]);if(this.header=new th,eh.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Xd(t.dictionary):"[object ArrayBuffer]"===nh.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=eh.inflateSetDictionary(this.strm,t.dictionary),n!==oh)))throw new Error($u[n])}function hh(e,t){const n=new lh(t);if(n.push(e),n.err)throw n.msg||$u[n.err];return n.result}lh.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return !1;for(s=t===~~t?t:!0===t?ih:rh,"[object ArrayBuffer]"===nh.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=eh.inflate(n,s),o===ah&&i&&(o=eh.inflateSetDictionary(n,i),o===oh?o=eh.inflate(n,s):o===uh&&(o=ah));n.avail_in>0&&o===sh&&n.state.wrap>0&&0!==e[n.next_in];)eh.inflateReset(n),o=eh.inflate(n,s);switch(o){case ch:case uh:case ah:case dh:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===sh))if("string"===this.options.to){let e=el(n.output,n.next_out),t=n.next_out-e,i=Qd(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i);}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==oh||0!==a){if(o===sh)return o=eh.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return !0},lh.prototype.onData=function(e){this.chunks.push(e);},lh.prototype.onEnd=function(e){e===oh&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Zd(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg;};var ph={Inflate:lh,inflate:hh,inflateRaw:function(e,t){return (t=t||{}).raw=!0,hh(e,t)},ungzip:hh,constants:Zu};const{Inflate:mh,inflate:fh,inflateRaw:yh,ungzip:gh}=ph;var _h,wh=fh,bh={exports:{}};var kh=(_h||(_h=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1;}function o(e,t,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t];}function a(){this._events=new r,this._eventsCount=0;}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return [];if(r.fn)return [r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return !1;var c,u,d=this._events[a],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,i),!0;case 5:return d.fn.call(d.context,t,r,i,o),!0;case 6:return d.fn.call(d.context,t,r,i,o,s),!0}for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c);}else {var h,p=d.length;for(u=0;u<p;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),l){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];d[u].fn.apply(d[u].context,c);}}return !0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else {for(var c=0,u=[],d=a.length;c<d;c++)(a[c].fn!==t||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o);}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a;}(bh)),bh.exports),vh=Xt(kh);const Eh=e=>"version"in e;var Ah=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?g.from([]):g.from(t.map((e=>parseInt(e,16))))}});function Sh(e){return new TextDecoder("utf-8").decode(e)}var Rh=Object.freeze({__proto__:null,decode:Sh,encode:function(e){return (new TextEncoder).encode(e)}});function Ih(e){return fn.encode(e)}var Th=Object.freeze({__proto__:null,encode:Ih,decode:function(e){return fn.decode(e)}});function Oh(e){return e.toString("base64")}function xh(e){return g.from(e,"base64")}var Nh=Object.freeze({__proto__:null,encode:Oh,decode:xh}),Ch=Object.freeze({__proto__:null,hex:Ah,utf8:Rh,bs58:Th,base64:Nh});function Ph(e){return "accounts"in e}const Bh=iu.struct([iu.publicKey("authority"),iu.vecU8("data")]);function Mh(e,t,n,r){return (null==e?void 0:e.length)?e[0].name?n(e):r(e):t()}function Lh(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r);})),t}function Uh(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach((e=>{n[e.name]=t[r],r+=1;})),n}function zh(e,t={}){e.forEach((e=>{if(Ph(e))zh(e.accounts,t[e.name]);else if(!t[e.name])throw new Error(`Account \`${e.name}\` not provided.`)}));}function Dh(e){return e instanceof fo?e:new fo(e)}class Hh extends TypeError{constructor(e,t){let n;const{message:r,...i}=e,{path:o}=e;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[e,...t()]};}}function Fh(e){return "object"==typeof e&&null!=e}function qh(e){return "string"==typeof e?JSON.stringify(e):""+e}function Vh(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+qh(r)+"`"}=e;return {value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*Kh(e,t,n,r){var i;Fh(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const i of e){const e=Vh(i,t,n,r);e&&(yield e);}}function*Wh(e,t,n){void 0===n&&(n={});const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&"type"!==t.type&&Fh(t.schema)&&Fh(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=!0;for(const n of t.validator(e,a))c=!1,yield [n,void 0];for(let[n,u,d]of t.entries(e,a)){const t=Wh(u,d,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,u],coerce:o,mask:s});for(const r of t)r[0]?(c=!1,yield [r[0],void 0]):o&&(u=r[1],void 0===n?e=u:e instanceof Map?e.set(n,u):e instanceof Set?e.add(u):Fh(e)&&(e[n]=u));}if(c)for(const n of t.refiner(e,a))c=!1,yield [n,void 0];c&&(yield [void 0,e]);}class jh{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:n,validator:r,refiner:i,coercer:o=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>Kh(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>Kh(i(e,t),t,this,e):()=>[];}assert(e){return function(e,t){const n=Zh(e,t);if(n[0])throw n[0]}(e,this)}create(e){return Gh(e,this)}is(e){return $h(e,this)}mask(e){return function(e,t){const n=Zh(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,t){return void 0===t&&(t={}),Zh(e,this,t)}}function Gh(e,t){const n=Zh(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function $h(e,t){return !Zh(e,t)[0]}function Zh(e,t,n){void 0===n&&(n={});const r=Wh(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){return [new Hh(i[0],(function*(){for(const e of r)e[0]&&(yield e[0]);})),void 0]}return [void 0,i[1]]}function Yh(e,t){return new jh({type:e,schema:null,validator:t})}function Jh(e){return new jh({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield [n,r,e];},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+qh(e)})}function Xh(e){const t=qh(e);return new jh({type:"literal",schema:e,validator:n=>n===e||"Expected the literal `"+t+"`, but received: "+qh(n)})}function Qh(e){return new jh({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function ep(){return Yh("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+qh(e)))}function tp(e){return new jh({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function np(){return Yh("string",(e=>"string"==typeof e||"Expected a string, but received: "+qh(e)))}function rp(e){const t=Object.keys(e);return new jh({type:"type",schema:e,*entries(n){if(Fh(n))for(const r of t)yield [r,n[r],e[r]];},validator:e=>Fh(e)||"Expected an object, but received: "+qh(e)})}function ip(e){const t=e.map((e=>e.type)).join(" | ");return new jh({type:"union",schema:null,coercer:(t,n)=>(e.find((e=>{const[n]=e.validate(t,{coerce:!0});return !n}))||op()).coercer(t,n),validator(n,r){const i=[];for(const t of e){const[...e]=Wh(n,t,r),[o]=e;if(!o[0])return [];for(const[t]of e)t&&i.push(t);}return ["Expected the value to satisfy a union of `"+t+"`, but received: "+qh(n),...i]}})}function op(){return Yh("unknown",(()=>!0))}async function sp(e,t,n){if(t.length<=99)return await ap(e,t,n);{const r=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map(((n,r)=>e.slice(r*t,(r+1)*t)))}(t,99);return (await Promise.all(r.map((t=>ap(e,t,n))))).flat()}}async function ap(e,t,n){const r=null!=n?n:e.commitment,{value:i,context:o}=await e.getMultipleAccountsInfoAndContext(t,r);return i.map(((e,n)=>null===e?null:{publicKey:t[n],account:e,context:o}))}async function cp(e,t,n,r,i){var o;n&&n.length>0&&t.sign(...n);const s=t._compile(),a=s.serialize(),c=t._serialize(a).toString("base64"),u={encoding:"base64",commitment:null!=r?r:e.commitment};if(i){const e=(Array.isArray(i)?i:s.nonProgramIds()).map((e=>e.toBase58()));u.accounts={encoding:"base64",addresses:e};}n&&n.length>0&&(u.sigVerify=!0);const d=[c,u],l=Gh(await e._rpcRequest("simulateTransaction",d),hp);if("error"in l){let e;if("data"in l.error&&(e=null===(o=l.error.data)||void 0===o?void 0:o.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(l.error.message,n);}throw new Xo("failed to simulate transaction: "+l.error.message,e)}return l.result}function up(e){return function(e,t,n){return new jh({...e,coercer:(r,i)=>$h(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}(lp(e),dp,(t=>"error"in t?t:{...t,result:Gh(t.result,e)}))}const dp=lp(op());function lp(e){return ip([rp({jsonrpc:Xh("2.0"),id:np(),result:e}),rp({jsonrpc:Xh("2.0"),id:np(),error:rp({code:op(),message:np(),data:tp(Yh("any",(()=>!0)))})})])}const hp=(pp=rp({err:Qh(ip([rp({}),np()])),logs:Qh(Jh(np())),accounts:tp(Qh(Jh(Qh(rp({executable:Yh("boolean",(e=>"boolean"==typeof e)),owner:np(),lamports:ep(),data:Jh(np()),rentEpoch:tp(ep())}))))),unitsConsumed:tp(ep())}),up(rp({context:rp({slot:ep()}),value:pp})));var pp,mp=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=Dh(e),r||(r=wp());const i=new Ho;if(i.add(new Do({programId:e,keys:null!=t?t:[],data:n})),void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(i,[])},getMultipleAccounts:async function(e,t,n){return (await sp(e,t,n)).map((e=>e?{publicKey:e.publicKey,account:e.account}:null))},getMultipleAccountsAndContext:sp,simulateTransaction:cp});class fp{constructor(e,t,n=fp.defaultOptions()){this.connection=e,this.wallet=t,this.opts=n,this.publicKey=null==t?void 0:t.publicKey;}static defaultOptions(){return {preflightCommitment:"processed",commitment:"processed"}}static local(e,t=fp.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,n){var r,i,o,s;if(void 0===n&&(n=this.opts),Eh(e))t&&e.sign(t);else if(e.feePayer=null!==(r=e.feePayer)&&void 0!==r?r:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,t)for(const n of t)e.partialSign(n);const a=(e=await this.wallet.signTransaction(e)).serialize();try{return await gp(this.connection,a,n)}catch(t){if(t instanceof _p){const n=Ih(Eh(e)?(null===(i=e.signatures)||void 0===i?void 0:i[0])||new Uint8Array:null!==(o=e.signature)&&void 0!==o?o:new Uint8Array),r=Eh(e)?0:void 0,a=await this.connection.getTransaction(n,{commitment:"confirmed",maxSupportedTransactionVersion:r});if(a){const e=null===(s=a.meta)||void 0===s?void 0:s.logMessages;throw e?new Xo(t.message,e):t}throw t}throw t}}async sendAll(e,t){var n,r,i;void 0===t&&(t=this.opts);const o=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let s=e.map((e=>{var t,n;if(Eh(e.tx)){let t=e.tx;return e.signers&&t.sign(e.signers),t}{let r=e.tx,i=null!==(t=e.signers)&&void 0!==t?t:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=o,i.forEach((e=>{r.partialSign(e);})),r}}));const a=await this.wallet.signAllTransactions(s),c=[];for(let e=0;e<s.length;e+=1){const o=a[e],s=o.serialize();try{c.push(await gp(this.connection,s,t));}catch(e){if(e instanceof _p){const t=Ih(Eh(o)?(null===(n=o.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=o.signature)&&void 0!==r?r:new Uint8Array),s=Eh(o)?0:void 0,a=await this.connection.getTransaction(t,{commitment:"confirmed",maxSupportedTransactionVersion:s});if(a){const t=null===(i=a.meta)||void 0===i?void 0:i.logMessages;throw t?new Xo(e.message,t):e}throw e}throw e}}return c}async simulate(e,t,n,r){let i,o=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash;if(Eh(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),i=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),i=await cp(this.connection,e,t,n,r)),i.value.err)throw new yp(i.value);return i.value}}class yp extends Error{constructor(e,t){super(t),this.simulationResponse=e;}}async function gp(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await e.sendRawTransaction(t,r),o=(await e.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new _p(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class _p extends Error{constructor(e){super(e);}}function wp(){return fp.local()}var bp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function kp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vp={};Object.defineProperty(vp,"__esModule",{value:!0});var Ep=vp.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=vp.ANCHOR_ERROR__REQUIRE_VIOLATED=vp.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=vp.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=vp.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=vp.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=vp.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=vp.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=vp.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=vp.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=vp.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=vp.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=vp.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=vp.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=vp.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=vp.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=vp.ANCHOR_ERROR__CONSTRAINT_SPACE=vp.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=vp.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=vp.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=vp.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=vp.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=vp.ANCHOR_ERROR__CONSTRAINT_ZERO=vp.ANCHOR_ERROR__CONSTRAINT_ADDRESS=vp.ANCHOR_ERROR__CONSTRAINT_CLOSE=vp.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=vp.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=vp.ANCHOR_ERROR__CONSTRAINT_STATE=vp.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=vp.ANCHOR_ERROR__CONSTRAINT_SEEDS=vp.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=vp.ANCHOR_ERROR__CONSTRAINT_OWNER=vp.ANCHOR_ERROR__CONSTRAINT_RAW=vp.ANCHOR_ERROR__CONSTRAINT_SIGNER=vp.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=vp.ANCHOR_ERROR__CONSTRAINT_MUT=vp.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=vp.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=vp.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=vp.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=vp.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=vp.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=vp.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=vp.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,Ap=vp.ANCHOR_ERROR__DEPRECATED=vp.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=vp.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=vp.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=vp.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=vp.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=vp.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=vp.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=vp.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=vp.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=vp.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=vp.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=vp.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=vp.ANCHOR_ERROR__INVALID_PROGRAM_ID=vp.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=vp.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=vp.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=vp.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=vp.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=vp.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=vp.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=vp.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=vp.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=vp.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=vp.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=vp.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=vp.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,Sp=vp.ANCHOR_ERROR__INSTRUCTION_MISSING=100,Rp=vp.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,Ip=vp.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,Tp=vp.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,Op=vp.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,xp=vp.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,Np=vp.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,Cp=vp.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,Pp=vp.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,Bp=vp.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,Mp=vp.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,Lp=vp.ANCHOR_ERROR__CONSTRAINT_RAW=2003,Up=vp.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,zp=vp.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Dp=vp.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Hp=vp.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,Fp=vp.ANCHOR_ERROR__CONSTRAINT_STATE=2008,qp=vp.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,Vp=vp.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,Kp=vp.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Wp=vp.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,jp=vp.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,Gp=vp.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,$p=vp.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Zp=vp.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Yp=vp.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Jp=vp.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Xp=vp.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Qp=vp.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,em=vp.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,tm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,nm=vp.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,rm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,im=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,om=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,sm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,am=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,cm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,um=vp.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,dm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,lm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,hm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,pm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,mm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,fm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,ym=vp.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,gm=vp.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,_m=vp.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,wm=vp.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;Ep=vp.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var bm=vp.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,km=vp.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,vm=vp.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,Em=vp.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,Am=vp.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,Sm=vp.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,Rm=vp.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,Im=vp.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,Tm=vp.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,Om=vp.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,xm=vp.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,Nm=vp.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,Cm=vp.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,Pm=vp.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,Bm=vp.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,Mm=vp.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,Lm=vp.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,Um=vp.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,zm=vp.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,Dm=vp.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,Hm=vp.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,Fm=vp.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,qm=vp.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,Vm=vp.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,Km=vp.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,Wm=vp.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;Ap=vp.ANCHOR_ERROR__DEPRECATED=5e3;const jm=new Set(["debug-logs"]),Gm=new Map;function $m(e){return void 0!==Gm.get(e)}var Zm=Object.freeze({__proto__:null,set:function(e){if(!jm.has(e))throw new Error("Invalid feature");Gm.set(e,!0);},isSet:$m});class Ym extends Error{constructor(e){super(e),this.name="IdlError";}}class Jm{constructor(e){this.stack=e;}static parse(e){var t;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,i=[];for(let o=0;o<e.length;o++){if(r.exec(e[o])){i.pop();continue}const s=null===(t=n.exec(e[o]))||void 0===t?void 0:t[1];s&&i.push(new fo(s));}return new Jm(i)}}class Xm extends Error{constructor(e,t,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=Jm.parse(r);}static parse(e){if(!e)return null;const t=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===t)return null;const n=e[t],r=[n];let i;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const n=/^Program log: (.*)$/,o=n.exec(e[t+2])[1],s=n.exec(e[t+4])[1];i=[new fo(o),new fo(s)],r.push(...e.slice(t+1,t+5));}else if(e[t+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,o=n.exec(e[t+1])[2],s=n.exec(e[t+2])[2];r.push(...e.slice(t+1,t+3)),i=[o,s];}const o=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),s=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(o){const[t,n,s]=o.slice(1,4),a={code:t,number:parseInt(n)};return new Xm(a,s,r,e,void 0,i)}if(s){const[t,n,o,a,c]=s.slice(1,6),u={code:o,number:parseInt(a)},d={file:t,line:parseInt(n)};return new Xm(u,c,r,e,d,i)}if(a){const[t,n,o,s]=a.slice(1,5),c=t,u={code:n,number:parseInt(o)};return new Xm(u,s,r,e,c,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Qm extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=Jm.parse(n));}static parse(e,t){const n=e.toString();let r,i;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1];}else {const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0];}try{i=parseInt(r);}catch(e){return null}let o=t.get(i);return void 0!==o?new Qm(i,o,e.logs):(o=nf.get(i),void 0!==o?new Qm(i,o,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function ef(e,t){$m("debug-logs")&&console.log("Translating error:",e);const n=Xm.parse(e.logs);if(n)return n;const r=Qm.parse(e,t);if(r)return r;if(e.logs){const t={get:function(t,n){return "programErrorStack"===n?t.programErrorStack.stack:"program"===n?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=Jm.parse(e.logs),new Proxy(e,t)}return e}const tf={InstructionMissing:Sp,InstructionFallbackNotFound:Rp,InstructionDidNotDeserialize:Ip,InstructionDidNotSerialize:Tp,IdlInstructionStub:Op,IdlInstructionInvalidProgram:xp,IdlAccountNotEmpty:Np,EventInstructionStub:Cp,ConstraintMut:Pp,ConstraintHasOne:Bp,ConstraintSigner:Mp,ConstraintRaw:Lp,ConstraintOwner:Up,ConstraintRentExempt:zp,ConstraintSeeds:Dp,ConstraintExecutable:Hp,ConstraintState:Fp,ConstraintAssociated:qp,ConstraintAssociatedInit:Vp,ConstraintClose:Kp,ConstraintAddress:Wp,ConstraintZero:jp,ConstraintTokenMint:Gp,ConstraintTokenOwner:$p,ConstraintMintMintAuthority:Zp,ConstraintMintFreezeAuthority:Yp,ConstraintMintDecimals:Jp,ConstraintSpace:Xp,ConstraintAccountIsNone:Qp,ConstraintTokenTokenProgram:em,ConstraintMintTokenProgram:tm,ConstraintAssociatedTokenTokenProgram:nm,ConstraintMintGroupPointerExtension:rm,ConstraintMintGroupPointerExtensionAuthority:im,ConstraintMintGroupPointerExtensionGroupAddress:om,ConstraintMintGroupMemberPointerExtension:sm,ConstraintMintGroupMemberPointerExtensionAuthority:am,ConstraintMintGroupMemberPointerExtensionMemberAddress:cm,ConstraintMintMetadataPointerExtension:um,ConstraintMintMetadataPointerExtensionAuthority:dm,ConstraintMintMetadataPointerExtensionMetadataAddress:lm,ConstraintMintCloseAuthorityExtension:hm,ConstraintMintCloseAuthorityExtensionAuthority:pm,ConstraintMintPermanentDelegateExtension:mm,ConstraintMintPermanentDelegateExtensionDelegate:fm,ConstraintMintTransferHookExtension:ym,ConstraintMintTransferHookExtensionAuthority:gm,ConstraintMintTransferHookExtensionProgramId:_m,RequireViolated:wm,RequireEqViolated:Ep,RequireKeysEqViolated:bm,RequireNeqViolated:km,RequireKeysNeqViolated:vm,RequireGtViolated:Em,RequireGteViolated:Am,AccountDiscriminatorAlreadySet:Sm,AccountDiscriminatorNotFound:Rm,AccountDiscriminatorMismatch:Im,AccountDidNotDeserialize:Tm,AccountDidNotSerialize:Om,AccountNotEnoughKeys:xm,AccountNotMutable:Nm,AccountOwnedByWrongProgram:Cm,InvalidProgramId:Pm,InvalidProgramExecutable:Bm,AccountNotSigner:Mm,AccountNotSystemOwned:Lm,AccountNotInitialized:Um,AccountNotProgramData:zm,AccountNotAssociatedTokenAccount:Dm,AccountSysvarMismatch:Hm,AccountReallocExceedsLimit:Fm,AccountDuplicateReallocs:qm,DeclaredProgramIdMismatch:Vm,TryingToInitPayerAsProgramAccount:Km,InvalidNumericConversion:Wm,Deprecated:Ap},nf=new Map([[tf.InstructionMissing,"8 byte instruction identifier not provided"],[tf.InstructionFallbackNotFound,"Fallback functions are not supported"],[tf.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[tf.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[tf.IdlInstructionStub,"The program was compiled without idl instructions"],[tf.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[tf.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[tf.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[tf.ConstraintMut,"A mut constraint was violated"],[tf.ConstraintHasOne,"A has one constraint was violated"],[tf.ConstraintSigner,"A signer constraint was violated"],[tf.ConstraintRaw,"A raw constraint was violated"],[tf.ConstraintOwner,"An owner constraint was violated"],[tf.ConstraintRentExempt,"A rent exemption constraint was violated"],[tf.ConstraintSeeds,"A seeds constraint was violated"],[tf.ConstraintExecutable,"An executable constraint was violated"],[tf.ConstraintState,"Deprecated Error, feel free to replace with something else"],[tf.ConstraintAssociated,"An associated constraint was violated"],[tf.ConstraintAssociatedInit,"An associated init constraint was violated"],[tf.ConstraintClose,"A close constraint was violated"],[tf.ConstraintAddress,"An address constraint was violated"],[tf.ConstraintZero,"Expected zero account discriminant"],[tf.ConstraintTokenMint,"A token mint constraint was violated"],[tf.ConstraintTokenOwner,"A token owner constraint was violated"],[tf.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[tf.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[tf.ConstraintMintDecimals,"A mint decimals constraint was violated"],[tf.ConstraintSpace,"A space constraint was violated"],[tf.ConstraintAccountIsNone,"A required account for the constraint is None"],[tf.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[tf.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[tf.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[tf.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[tf.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[tf.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[tf.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[tf.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[tf.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[tf.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[tf.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[tf.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[tf.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[tf.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[tf.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[tf.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[tf.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[tf.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[tf.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[tf.RequireViolated,"A require expression was violated"],[tf.RequireEqViolated,"A require_eq expression was violated"],[tf.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[tf.RequireNeqViolated,"A require_neq expression was violated"],[tf.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[tf.RequireGtViolated,"A require_gt expression was violated"],[tf.RequireGteViolated,"A require_gte expression was violated"],[tf.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[tf.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[tf.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[tf.AccountDidNotDeserialize,"Failed to deserialize the account"],[tf.AccountDidNotSerialize,"Failed to serialize the account"],[tf.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[tf.AccountNotMutable,"The given account is not mutable"],[tf.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[tf.InvalidProgramId,"Program ID was not as expected"],[tf.InvalidProgramExecutable,"Program account is not executable"],[tf.AccountNotSigner,"The given account did not sign"],[tf.AccountNotSystemOwned,"The given account is not owned by the system program"],[tf.AccountNotInitialized,"The program expected this account to be already initialized"],[tf.AccountNotProgramData,"The given account is not a program data account"],[tf.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[tf.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[tf.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[tf.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[tf.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[tf.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[tf.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[tf.Deprecated,"The API being used is deprecated and should no longer be used"]]);class rf{static fieldLayout(e,t=[],n){const r=e.name;switch(e.type){case"bool":return iu.bool(r);case"u8":return iu.u8(r);case"i8":return iu.i8(r);case"u16":return iu.u16(r);case"i16":return iu.i16(r);case"u32":return iu.u32(r);case"i32":return iu.i32(r);case"f32":return iu.f32(r);case"u64":return iu.u64(r);case"i64":return iu.i64(r);case"f64":return iu.f64(r);case"u128":return iu.u128(r);case"i128":return iu.i128(r);case"u256":return iu.u256(r);case"i256":return iu.i256(r);case"bytes":return iu.vecU8(r);case"string":return iu.str(r);case"pubkey":return iu.publicKey(r);default:if("option"in e.type)return iu.option(rf.fieldLayout({type:e.type.option},t,n),r);if("vec"in e.type)return iu.vec(rf.fieldLayout({type:e.type.vec},t,n),r);if("array"in e.type){let[i,o]=e.type.array;return o=rf.resolveArrayLen(o,n),iu.array(rf.fieldLayout({type:i},t,n),o,r)}if("defined"in e.type){if(!t)throw new Ym("User defined types not provided");const i=e.type.defined.name,o=t.find((e=>e.name===i));if(!o)throw new Ym(`Type not found: ${e.name}`);return rf.typeDefLayout({typeDef:o,types:t,genericArgs:null!=n?n:e.type.defined.generics,name:r})}if("generic"in e.type){const r=null==n?void 0:n.at(0);if("type"!==(null==r?void 0:r.kind))throw new Ym(`Invalid generic field: ${e.name}`);return rf.fieldLayout({...e,type:r.type},t)}throw new Ym(`Not yet implemented: ${JSON.stringify(e.type)}`)}}static typeDefLayout({typeDef:e,types:t,name:n,genericArgs:r}){switch(e.type.kind){case"struct":{const i=Mh(e.type.fields,(()=>[]),(n=>n.map((n=>{const i=r?rf.resolveGenericArgs({type:n.type,typeDef:e,genericArgs:r}):r;return rf.fieldLayout(n,t,i)}))),(n=>n.map(((n,i)=>{const o=r?rf.resolveGenericArgs({type:n,typeDef:e,genericArgs:r}):r;return rf.fieldLayout({name:i.toString(),type:n},t,o)}))));return iu.struct(i,n)}case"enum":{const i=e.type.variants.map((n=>{const i=Mh(n.fields,(()=>[]),(n=>n.map((n=>{const i=r?rf.resolveGenericArgs({type:n.type,typeDef:e,genericArgs:r}):r;return rf.fieldLayout(n,t,i)}))),(n=>n.map(((n,i)=>{const o=r?rf.resolveGenericArgs({type:n,typeDef:e,genericArgs:r}):r;return rf.fieldLayout({name:i.toString(),type:n},t,o)}))));return iu.struct(i,n.name)}));return void 0!==n?iu.rustEnum(i).replicate(n):iu.rustEnum(i,n)}case"type":return rf.fieldLayout({type:e.type.alias,name:n},t)}}static typeSize(e,t,n){var r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in e)return 1+rf.typeSize(e.option,t,n);if("coption"in e)return 4+rf.typeSize(e.coption,t,n);if("vec"in e)return 1;if("array"in e){let[r,i]=e.array;return i=rf.resolveArrayLen(i,n),rf.typeSize(r,t,n)*i}if("defined"in e){const i=null===(r=t.types)||void 0===r?void 0:r.find((t=>t.name===e.defined.name));if(!i)throw new Ym(`Type not found: ${JSON.stringify(e)}`);const o=r=>{const o=null!=n?n:e.defined.generics,s=o?rf.resolveGenericArgs({type:r,typeDef:i,genericArgs:o}):o;return rf.typeSize(r,t,s)};switch(i.type.kind){case"struct":return Mh(i.type.fields,(()=>[0]),(e=>e.map((e=>o(e.type)))),(e=>e.map((e=>o(e))))).reduce(((e,t)=>e+t),0);case"enum":{const e=i.type.variants.map((e=>Mh(e.fields,(()=>[0]),(e=>e.map((e=>o(e.type)))),(e=>e.map((e=>o(e))))).reduce(((e,t)=>e+t),0)));return Math.max(...e)+1}case"type":return rf.typeSize(i.type.alias,t,n)}}if("generic"in e){const r=null==n?void 0:n.at(0);if("type"!==(null==r?void 0:r.kind))throw new Ym(`Invalid generic: ${e.generic}`);return rf.typeSize(r.type,t,n)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if("number"==typeof e)return e;if(t){const n=t.find((e=>"const"===e.kind));"const"===(null==n?void 0:n.kind)&&(e=+n.value);}if("number"!=typeof e)throw new Ym("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:n,isDefined:r}){if("object"!=typeof e)return null;for(const i in t.generics){const o=t.generics[i];if("generic"in e&&o.name===e.generic)return [n[i]];if("option"in e){const i=rf.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:n,isDefined:r});if(!i||!r)return i;if("type"===i[0].kind)return [{kind:"type",type:{option:i[0].type}}]}if("vec"in e){const i=rf.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:n,isDefined:r});if(!i||!r)return i;if("type"===i[0].kind)return [{kind:"type",type:{vec:i[0].type}}]}if("array"in e){const[s,a]=e.array,c="object"==typeof a,u=rf.resolveGenericArgs({type:s,typeDef:t,genericArgs:n,isDefined:r});if(u){for(const e in t.generics.slice(+i)){const r=+i+ +e;c&&t.generics[r].name===a.generic&&u.push(n[r]);}if(!r)return u;if("type"===u[0].kind&&"const"===u[1].kind)return [{kind:"type",type:{array:[u[0].type,+u[1].value]}}]}if(c&&o.name===a.generic){const e=n[i];return r?[{kind:"type",type:{array:[s,+e.value]}}]:[e]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap((e=>{switch(e.kind){case"type":return rf.resolveGenericArgs({type:e.type,typeDef:t,genericArgs:n,isDefined:!0});case"const":return [e]}})).filter((e=>null!==e)):null}return null}}class of{constructor(e){this.idl=e;const t=e.instructions.map((t=>{const n=t.name,r=t.args.map((t=>rf.fieldLayout(t,e.types))),i=iu.struct(r,n);return [n,{discriminator:t.discriminator,layout:i}]}));this.ixLayouts=new Map(t);const n=t.map((([e,{discriminator:t,layout:n}])=>[fn.encode(t),{name:e,layout:n}]));this.sighashLayouts=new Map(n);}encode(e,t){const n=g.alloc(1e3),r=this.ixLayouts.get(e);if(!r)throw new Error(`Unknown method: ${e}`);const i=r.layout.encode(t,n),o=n.slice(0,i);return g.concat([g.from(r.discriminator),o])}decode(e,t="hex"){"string"==typeof e&&(e="hex"===t?g.from(e,"hex"):fn.decode(e));const n=e.slice(0,af),r=e.slice(af),i=this.sighashLayouts.get(fn.encode(n));return i?{name:i.name,data:i.layout.decode(r)}:null}format(e,t){return sf.format(e,t,this.idl)}}class sf{static format(e,t,n){const r=n.instructions.find((t=>e.name===t.name));if(!r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:sf.formatIdlType(t.type),data:sf.formatIdlData(t,e.data[t.name],n.types)}))),o=sf.flattenIdlAccounts(r.accounts);return {args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("option"in e)return `Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return `COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return `Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return `Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const t=e.defined.name;if(e.defined.generics){return `${t}<${e.defined.generics.map((e=>{switch(e.kind){case"type":return sf.formatIdlType(e.type);case"const":return e.value}})).join(", ")}>`}return t}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if("vec"in e.type)return "["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t,n))).join(", ")+"]";if("option"in e.type)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if("defined"in e.type){if(!n)throw new Error("User defined types not provided");const r=e.type.defined.name,i=n.find((e=>e.name===r));if(!i)throw new Error(`Type not found: ${r}`);return sf.formatIdlDataDefined(i,t,n)}return "unknown"}static formatIdlDataDefined(e,t,n){switch(e.type.kind){case"struct":return "{ "+Mh(e.type.fields,(()=>""),(e=>Object.entries(t).map((([t,r])=>{const i=e.find((e=>e.name===t));if(!i)throw new Error(`Field not found: ${t}`);return t+": "+sf.formatIdlData(i,r,n)})).join(", ")),(e=>Object.entries(t).map((([t,r])=>t+": "+sf.formatIdlData({name:"",type:e[t]},r,n))).join(", ")))+" }";case"enum":{const r=Object.keys(t)[0],i=e.type.variants.find((e=>e.name===r));if(!i)throw new Error(`Unable to find variant: ${r}`);const o=t[r];return Mh(i.fields,(()=>r),(e=>{const t=Object.keys(o).map((t=>{const r=o[t],i=e.find((e=>e.name===t));if(!i)throw new Error(`Field not found: ${t}`);return t+": "+sf.formatIdlData(i,r,n)})).join(", ");return `${r} { ${t} }`}),(e=>{const t=Object.entries(o).map((([t,r])=>t+": "+sf.formatIdlData({name:"",type:e[t]},r,n))).join(", ");return `${r} { ${t} }`}))}case"type":return sf.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return sf.flattenIdlAccounts(e.accounts,r)}return {...e,name:t?`${t} > ${n}`:n}})).flat()}}const af=8;class cf{constructor(e){if(this.idl=e,!e.accounts)return void(this.accountLayouts=new Map);const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const n=e.accounts.map((e=>{const n=t.find((t=>t.name===e.name));if(!n)throw new Error(`Account not found: ${e.name}`);return [e.name,rf.typeDefLayout({typeDef:n,types:t})]}));this.accountLayouts=new Map(n);}async encode(e,t){const n=g.alloc(1e3),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);const i=r.encode(t,n),o=n.slice(0,i),s=this.accountDiscriminator(e);return g.concat([s,o])}decode(e,t){if(this.accountDiscriminator(e).compare(t.slice(0,af)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){const t=e.slice(0,af),n=Array.from(this.accountLayouts.keys()).find((e=>this.accountDiscriminator(e).equals(t)));if(!n)throw new Error("Account not found");return this.decodeUnchecked(n,e)}decodeUnchecked(e,t){const n=t.subarray(af),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}memcmp(e,t){const n=this.accountDiscriminator(e);return {offset:0,bytes:fn.encode(t?g.concat([n,t]):n)}}size(e){return af+rf.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const n=null===(t=this.idl.accounts)||void 0===t?void 0:t.find((t=>t.name===e));if(!n)throw new Error(`Account not found: ${e}`);return g.from(n.discriminator)}}class uf{constructor(e){var t;if(!e.events)return void(this.layouts=new Map);const n=e.types;if(!n)throw new Error("Events require `idl.types`");const r=e.events.map((e=>{const t=n.find((t=>t.name===e.name));if(!t)throw new Error(`Event not found: ${e.name}`);return [e.name,rf.typeDefLayout({typeDef:t,types:n})]}));this.layouts=new Map(r),this.discriminators=new Map((null!==(t=e.events)&&void 0!==t?t:[]).map((e=>[Oh(g.from(e.discriminator)),e.name])));}decode(e){let t;try{t=xh(e);}catch(e){return null}const n=Oh(t.slice(0,8)),r=this.discriminators.get(n);if(!r)return null;const i=this.layouts.get(r);if(!i)throw new Error(`Unknown event: ${r}`);return {data:i.decode(t.slice(8)),name:r}}}class df{constructor(e){const t=e.types;if(!t)return void(this.typeLayouts=new Map);const n=t.filter((e=>!e.generics)).map((e=>[e.name,rf.typeDefLayout({typeDef:e,types:t})]));this.typeLayouts=new Map(n);}encode(e,t){const n=g.alloc(1e3),r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);const i=r.encode(t,n);return n.slice(0,i)}decode(e,t){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(t)}}class lf{constructor(e){this.instruction=new of(e),this.accounts=new cf(e),this.events=new uf(e),this.types=new df(e);}}class hf{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t;}makeDestinationObject(){return {}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var pf=hf;class mf extends hf{isCount(){throw new Error("ExternalLayout is abstract")}}class ff extends mf{constructor(e,t,n){if(!(e instanceof hf))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t;}isCount(){return this.layout instanceof yf||this.layout instanceof gf}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class yf extends hf{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class gf extends hf{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const _f=Math.pow(2,32);function wf(e){const t=Math.floor(e/_f);return {hi32:t,lo32:e-t*_f}}function bf(e,t){return e*_f+t}class kf extends hf{constructor(e){super(8,e);}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return bf(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=wf(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class vf extends hf{constructor(e){super(8,e);}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return bf(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=wf(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class Ef extends hf{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof hf),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0);}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n;}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0);}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)));}i=n,n+=s;}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span);}}}class Af{constructor(e){this.property=e;}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Sf extends Af{constructor(e,t){if(!(e instanceof mf&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e;}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class Rf extends hf{constructor(e,t,n){const r=e instanceof yf||e instanceof gf;if(r)e=new Sf(new ff(e));else if(e instanceof mf&&e.isCount())e=new Sf(e);else if(!(e instanceof Af))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof hf))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"));}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this);};}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s);}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new If(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class If extends hf{constructor(e,t,n,r){if(!(e instanceof Rf))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof hf))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null;}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class Tf extends hf{constructor(e,t){if(!(e instanceof mf&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof mf||(n=e),super(n,t),this.length=e;}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof mf&&(r=e.length),!Buffer.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",((o=this).property?i+"["+o.property+"]":i)+" requires (length "+r+") Buffer as src"));var i,o;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof mf&&this.length.encode(r,t,n),r}}var Of=(e,t,n)=>new ff(e,t,n),xf=e=>new yf(4,e),Nf=e=>new vf(e),Cf=(e,t,n)=>new Ef(e,t,n),Pf=(e,t,n)=>new Rf(e,t,n),Bf=(e,t)=>new Tf(e,t);class Mf extends pf{constructor(e){super(-1,e),this.property=e,this.layout=Cf([xf("length"),xf("lengthPadding"),Bf(Of(xf(),-8),"chars")],this.property);}encode(e,t,n=0){if(null==e)return this.layout.span;const r={chars:Buffer.from(e,"utf8")};return this.layout.encode(r,t,n)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return xf().span+xf().span+new ln(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Lf(e){return new Mf(e)}function Uf(e){return Bf(32,e)}const zf=Pf(xf("instruction"));zf.addVariant(0,Cf([Nf("lamports"),Nf("space"),Uf("owner")]),"createAccount"),zf.addVariant(1,Cf([Uf("owner")]),"assign"),zf.addVariant(2,Cf([Nf("lamports")]),"transfer"),zf.addVariant(3,Cf([Uf("base"),Lf("seed"),Nf("lamports"),Nf("space"),Uf("owner")]),"createAccountWithSeed"),zf.addVariant(4,Cf([Uf("authorized")]),"advanceNonceAccount"),zf.addVariant(5,Cf([Nf("lamports")]),"withdrawNonceAccount"),zf.addVariant(6,Cf([Uf("authorized")]),"initializeNonceAccount"),zf.addVariant(7,Cf([Uf("authorized")]),"authorizeNonceAccount"),zf.addVariant(8,Cf([Nf("space")]),"allocate"),zf.addVariant(9,Cf([Uf("base"),Lf("seed"),Nf("space"),Uf("owner")]),"allocateWithSeed"),zf.addVariant(10,Cf([Uf("base"),Lf("seed"),Uf("owner")]),"assignWithSeed"),zf.addVariant(11,Cf([Nf("lamports"),Lf("seed"),Uf("owner")]),"transferWithSeed"),Math.max(...Object.values(zf.registry).map((e=>e.span)));class Df extends pf{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n;}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function Hf(e){return new Df(Bf(32),(e=>new fo(e)),(e=>e.toBuffer()),e)}var Ff;Cf([xf("version"),xf("state"),Hf("authorizedPubkey"),Hf("nonce"),Cf([(Ff="lamportsPerSignature",new kf(Ff))],"feeCalculator")]);var qf=Object.freeze({__proto__:null,hash:function(e){return (new TextDecoder).decode(Pn(e))}});var Vf=Object.freeze({__proto__:null,createWithSeedSync:function(e,t,n){const r=g.concat([e.toBuffer(),g.from(t),n.toBuffer()]);return new fo(Pn(r))}});const Kf=new fo("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Wf=new fo("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var jf=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Kf,ASSOCIATED_PROGRAM_ID:Wf,associatedAddress:function({mint:e,owner:t}){return fo.findProgramAddressSync([t.toBuffer(),Kf.toBuffer(),e.toBuffer()],Wf)[0]}}),Gf={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:bp,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException;}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return !1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return "string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return {done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e);}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1]);}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t]);}),this);}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0;}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result);},e.onerror=function(){n(e.error);};}))}function f(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"));},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=m(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=u(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t;},h.prototype.delete=function(e){delete this.map[u(e)];},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=d(t);},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this);},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n);})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t);})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t]);})),l(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n,r,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0);}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),_.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i);}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i));}})),t}function k(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e);}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];k.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException;}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack;},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException;}function E(e,n){return new Promise((function(r,o){var s=new w(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort();}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i);}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new k(i,n));},a.onerror=function(){o(new TypeError("Network request failed"));},a.ontimeout=function(){o(new TypeError("Network request failed"));},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"));},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e);})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c);}),a.send(void 0===s._bodyInit?null:s._bodyInit);}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=h,e.Request=w,e.Response=k),t.Headers=h,t.Request=w,t.Response=k,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0});}({});}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t;}(Gf,Gf.exports);var $f=kp(Gf.exports);async function Zf(e,t){const n=await e.getAccountInfo(t);if(null===n)throw new Error("program account not found");const{program:r}=Jf(n.data),i=await e.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=Jf(i.data);return o}const Yf=iu.rustEnum([iu.struct([],"uninitialized"),iu.struct([iu.option(iu.publicKey(),"authorityAddress")],"buffer"),iu.struct([iu.publicKey("programdataAddress")],"program"),iu.struct([iu.u64("slot"),iu.option(iu.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,iu.u32());function Jf(e){return Yf.decode(e)}var Xf=Object.freeze({__proto__:null,verifiedBuild:async function(e,t,n=5){const r=`https://api.apr.dev/api/v0/program/${t.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([Zf(e,t),$f(r)]),s=(await o.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:Zf,decodeUpgradeableLoaderState:Jf}),Qf=Object.freeze({__proto__:null,sha256:qf,rpc:mp,publicKey:Vf,bytes:Ch,token:jf,features:Zm,registry:Xf});function ey(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop();}return [t,i]}class ty{static build(e,t,n){if("_inner"===e.name)throw new Ym("the _inner name is reserved");const r=(...i)=>{const[o,s]=ey(e,[...i]);zh(e.accounts,s.accounts);const a=r.accounts(s.accounts);return void 0!==s.remainingAccounts&&a.push(...s.remainingAccounts),$m("debug-logs")&&console.log("Outgoing account metas:",a),new Do({keys:a,programId:n,data:t(e.name,Uh(e,...o))})};return r.accounts=t=>ty.accountsArray(t,e.accounts,n,e.name),r}static accountsArray(e,t,n,r){return e?t.map((t=>{if(Ph(t)){const i=e[t.name];return ty.accountsArray(i,t.accounts,n,r).flat()}let i;try{i=Dh(e[t.name]);}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}const o=t.optional&&i.equals(n);return {pubkey:i,isWritable:Boolean(t.writable&&!o),isSigner:Boolean(t.signer&&!o)}})).flat():[]}}class ny{static build(e,t){return (...n)=>{var r,i,o;const[,s]=ey(e,[...n]),a=new Ho;if(s.preInstructions&&s.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=s.preInstructions)||void 0===r||r.forEach((e=>a.add(e))),null===(i=s.instructions)||void 0===i||i.forEach((e=>a.add(e))),a.add(t(...n)),null===(o=s.postInstructions)||void 0===o||o.forEach((e=>a.add(e))),a}}}class ry{static build(e,t,n,r){return async(...i)=>{var o;const s=t(...i),[,a]=ey(e,[...i]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(s,null!==(o=a.signers)&&void 0!==o?o:[],a.options)}catch(e){throw ef(e,n)}}}}class iy{static build(e,t,n,r){var i;return (null!==(i=e.accounts)&&void 0!==i?i:[]).reduce(((i,o)=>(i[o.name]=new oy(e,o,n,r,t),i)),{})}}class oy{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:wp(),this._coder=null!=i?i:new lf(e),this._size=this._coder.accounts.size(t.name);}async fetchNullable(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);return n}async fetchNullableAndContext(e,t){const n=await this.getAccountInfoAndContext(e,t),{value:r,context:i}=n;return {data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:i}}async fetch(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,t){const{data:n,context:r}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return {data:n,context:r}}async fetchMultiple(e,t){return (await this.fetchMultipleAndContext(e,t)).map((e=>e?e.data:null))}async fetchMultipleAndContext(e,t){const n=await sp(this._provider.connection,e.map((e=>Dh(e))),t);return n.map((e=>{if(null==e)return null;const{account:t,context:n}=e;return {data:this._coder.accounts.decode(this._idlAccount.name,t.data),context:n}}))}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),n=[];return null!=(null==t?void 0:t.offset)&&null!=(null==t?void 0:t.bytes)&&n.push({memcmp:{offset:t.offset,bytes:t.bytes}}),null!=(null==t?void 0:t.dataSize)&&n.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map((({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)})))}subscribe(e,t){const n=sy.get(e.toString());if(n)return n.ee;const r=new vh;e=Dh(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t);}),t);return sy.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=sy.get(e.toString());t?sy&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{sy.delete(e.toString());})).catch(console.error):console.warn("Address is not subscribed");}async createInstruction(e,t){const n=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return ls.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Dh(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(Dh(e),t)}}const sy=new Map,ay="Program log: ",cy="Program data: ";class uy{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new dy(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0;}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{if(!e.err)for(const n of this._eventParser.parseLogs(e.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const i=this._eventCallbacks.get(r);if(i){const[,r]=i;r(n.data,t.slot,e.signature);}}));}}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0);}}}class dy{constructor(e,t){this.coder=t,this.programId=e;}*parseLogs(e,t=!1){const n=new hy(e),r=new ly;let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i,t);e&&(yield e),o&&r.push(o),s&&r.pop(),i=n.next();}}handleLog(e,t,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,n):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(ay)||e.startsWith(cy)){const n=e.startsWith(ay)?e.slice(13):e.slice(14),r=this.coder.events.decode(n);if(t&&null===r)throw new Error(`Unable to decode event ${n}`);return [r,null,!1]}return [null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class ly{constructor(){this.stack=[];}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e);}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop();}}class hy{constructor(e){this.logs=e;}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class py{static build(e,t,n,r,i,o,s){return async(...a)=>{var c;const u=t(...a),[,d]=ey(e,[...a]);let l;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{l=await r.simulate(u,d.signers,null===(c=d.options)||void 0===c?void 0:c.commitment);}catch(e){throw ef(e,n)}if(void 0===l)throw new Error("Unable to simulate transaction");const h=l.logs;if(!h)throw new Error("Simulated logs not found");const p=[];if(s.events){let e=new dy(o,i);for(const t of e.parseLogs(h))p.push(t);}return {events:p,raw:h}}}}function my(e){return new gy(Bf(8),(e=>wy.fromBuffer(e)),(e=>e.toBuffer()),e)}function fy(e){return new gy(Bf(32),(e=>new fo(e)),(e=>e.toBuffer()),e)}function yy(e,t){return new _y(e,t)}class gy extends pf{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n;}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class _y extends pf{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=xf();}encode(e,t,n=0){return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class wy extends ln{toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new wy([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}const by=Cf([fy("mint"),fy("owner"),my("amount"),yy(fy(),"delegate"),(()=>{const e=Pf((e=>new yf(1,e))("discriminator"),null,"state");return e.addVariant(0,Cf([]),"uninitialized"),e.addVariant(1,Cf([]),"initialized"),e.addVariant(2,Cf([]),"frozen"),e})(),yy(my(),"isNative"),my("delegatedAmount"),yy(fy(),"closeAuthority")]);class ky{constructor(e,t,n,r,i,o,s,a){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._idlTypes=s,this._customResolver=a,this._accountStore=new vy(n,o,r);}args(e){this._args=e;}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,16===e)throw new Error("Reached maximum depth for account resolution")}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts));}get(e){const t=e.reduce(((e,t)=>e&&e[t]),this._accounts);if(t&&t.toBase58)return t}set(e,t){let n=this._accounts;e.forEach(((r,i)=>{var o;i===e.length-1&&(n[r]=t),n[r]=null!==(o=n[r])&&void 0!==o?o:{},n=n[r];}));}resolveOptionalsHelper(e,t){const n={};for(const r of t){const t=r.name,i=e[t];void 0!==i&&(Ay(i)?Ph(r)?n[t]=this.resolveOptionalsHelper(i,r.accounts):n[t]=Sy(i):null!==i?n[t]=Dh(i):r.optional&&(n[t]=this._programId));}return n}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(const n in e){const r=e[n];Ph(r)&&this.resolveEventCpi(r.accounts,[...t,r.name]);const i=+n+1;if(i===e.length)return;const o=e[n].name,s=e[i].name;if("eventAuthority"===o&&"program"===s){const e=[...t,o],n=[...t,s];return this.get(e)||this.set(e,fo.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),void(this.get(n)||this.set(n,this._programId))}}}resolveConst(e,t=[]){for(const n of e){const e=n.name;if(Ph(n))this.resolveConst(n.accounts,[...t,e]);else {const r=n;if((r.signer||r.address)&&!this.get([...t,e])){if(r.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...t,e],this._provider.wallet.publicKey);}r.address&&this.set([...t,e],Dh(r.address));}}}}async resolvePdasAndRelations(e,t=[]){let n=0;for(const r of e){const e=r.name;if(Ph(r))n+=await this.resolvePdasAndRelations(r.accounts,[...t,e]);else {const i=r;if((i.pda||i.relations)&&!this.get([...t,e])){n++;try{if(i.pda){const n=await Promise.all(i.pda.seeds.map((e=>this.toBuffer(e,t))));if(n.some((e=>!e)))continue;const r=await this.parseProgramId(i,t),[o]=fo.findProgramAddressSync(n,r);this.set([...t,e],o);}}catch{}try{if(i.relations){const n=this.get([...t,i.relations[0]]);if(n){const r=await this._accountStore.fetchAccount({publicKey:n});this.set([...t,e],r[e]);}}}catch{}}}}return n}async parseProgramId(e,t=[]){var n;if(!(null===(n=e.pda)||void 0===n?void 0:n.program))return this._programId;const r=await this.toBuffer(e.pda.program,t);if(!r)throw new Error(`Program seed not resolved: ${e.name}`);return new fo(r)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...n]=e.path.split("."),r=this._idlIx.args.findIndex((e=>e.name===t));if(-1===r)throw new Error(`Unable to find argument for seed: ${t}`);const i=n.reduce(((e,t)=>(null!=e?e:{})[t]),this._args[r]);if(void 0===i)return;const o=this.getType(this._idlIx.args[r].type,n);return this.toBufferValue(o,i)}async toBufferAccount(e,t=[]){const[n,...r]=e.path.split("."),i=this.get([...t,n]);if(!i)return;if(!r.length)return this.toBufferValue("pubkey",i);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let o=await this._accountStore.fetchAccount({publicKey:i,name:e.account}),s=r;for(;s.length>0;)o=o[s[0]],s=s.slice(1);if(void 0===o)return;const a=this.getType({defined:{name:e.account}},r);return this.toBufferValue(a,o)}toBufferValue(e,t){switch(e){case"u8":case"i8":return Buffer.from([t]);case"u16":case"i16":return new ln(t).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new ln(t).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new ln(t).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new ln(t).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new ln(t).toArrayLike(Buffer,"le",32);case"string":case"bytes":return Buffer.from(t);case"pubkey":return t.toBuffer();default:if(null==e?void 0:e.array)return Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var n;const r=null===(n=null==e?void 0:e.defined)||void 0===n?void 0:n.name;if(r){if("tokenAccount"===r)switch(t.at(0)){case"mint":case"owner":return "pubkey";case"amount":case"delagatedAmount":return "u64";default:throw new Error(`Unknown token account path: ${t}`)}const e=this._idlTypes.find((e=>e.name===r));if(!e)throw new Error(`Type not found: ${r}`);const[n,...i]=t,o=e.type.fields.find((e=>e.name===n));if(!o)throw new Error(`Field not found: ${n}`);return this.getType(o.type,i)}return e}}class vy{constructor(e,t,n){this._provider=e,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=t;}async fetchAccount({publicKey:e,name:t}){const n=e.toBase58();if(!this._cache.has(n)){const i=await this._provider.connection.getAccountInfo(e);if(null===i)throw new Error(`Account not found: ${n}`);if("tokenAccount"===t){const e=(r=i.data,by.decode(r));this._cache.set(n,e);}else {const e=await this.getAccountsNs(i.owner);if(e){const t=Object.values(e)[0];if(t){const e=t.coder.accounts.decodeAny(i.data);this._cache.set(n,e);}}}}var r;return this._cache.get(n)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const n=await Oy.fetchIdl(e,this._provider);if(n){const e=new Oy(n,this._provider);this._idls[t]=e.account;}}return this._idls[t]}}class Ey{static build(e,t,n,r,i,o,s,a,c,u,d){return (...l)=>new Ry(l,r,i,o,s,a,e,t,n,c,u,d)}}function Ay(e){return "object"==typeof e&&null!==e&&!("_bn"in e)}function Sy(e,t){const n={};for(const t in e){const r=e[t];if(null===r)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[t]=Ay(r)?Sy(r):Dh(r);}return n}class Ry{constructor(e,t,n,r,i,o,s,a,c,u,d,l){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new ky(e,this._accounts,s,a,c,u,d,l);}args(e){this._args=e,this._accountsResolver.args(e);}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return this._preInstructions=t?e.concat(this._preInstructions):this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return {pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return {instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:this._signers}}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Iy{static build(e,t,n,r){const i=t.accounts.find((e=>e.writable)),o=!!t.returns;if(i||!o)return;return async(...i)=>{let o=await n(...i);const s=`Program return: ${e} `;let a=o.raw.find((e=>e.startsWith(s)));if(!a)throw new Error("View expected return log");let c=xh(a.slice(s.length)),u=t.returns;if(!u)throw new Error("View expected return type");return rf.fieldLayout({type:u},r.types).decode(c)}}}class Ty{static build(e,t,n,r,i){const o={},s={},a={},c={},u={},d={},l=Lh(e),h=e.accounts?iy.build(e,t,n,r):{};return e.instructions.forEach((p=>{const m=ty.build(p,((e,n)=>t.instruction.encode(e,n)),n),f=ny.build(p,m),y=ry.build(p,f,l,r),g=py.build(p,f,l,r,t,n,e),_=Iy.build(n,p,g,e),w=Ey.build(r,n,p,m,f,y,g,_,h,e.types||[],null==i?void 0:i(p)),b=p.name;s[b]=m,a[b]=f,o[b]=y,c[b]=g,u[b]=w,_&&(d[b]=_);})),[o,s,a,h,c,u,d]}}let Oy=class e{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=wp(),n,r){const i=function(e){const t=["name","path","account","relations","generic"],n=e=>e.split(".").map(Xc).join("."),r=e=>{for(const i in e){const o=e[i];t.includes(i)?e[i]=Array.isArray(o)?o.map(n):n(o):"object"==typeof o&&r(o);}},i=structuredClone(e);return r(i),i}(e);this._idl=i,this._rawIdl=e,this._provider=t,this._programId=Dh(e.address),this._coder=null!=n?n:new lf(i),this._events=new uy(this._programId,t,this._coder);const[o,s,a,c,u,d,l]=Ty.build(i,this._coder,this._programId,t,r);this.rpc=o,this.instruction=s,this.transaction=a,this.account=c,this.simulate=u,this.methods=d,this.views=l;}static async at(t,n){const r=Dh(t),i=await e.fetchIdl(r,n);if(!i)throw new Error(`IDL not found for program: ${t.toString()}`);return new e(i,n)}static async fetchIdl(e,t){t=null!=t?t:wp();const n=Dh(e),r=await async function(e){const t=(await fo.findProgramAddress([],e))[0];return await fo.createWithSeed(t,"anchor:idl",e)}(n),i=await t.connection.getAccountInfo(r);if(!i)return null;let o=(s=i.data.slice(8),Bh.decode(s));var s;const a=wh(o.data);return JSON.parse(Sh(a))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}};new fo("11111111111111111111111111111111");class xy extends Fo{constructor({descriptions:e=[],instructions:t,events:n=[],signers:r,recentBlockhash:i=null,addressLookupTables:o=[],program:s}){super({payerKey:r.payer.secretKey?r.payer.publicKey:r.payer,recentBlockhash:null!=i?i:"",instructions:t}),this.addressLookupTables=[],this.descriptions=e,this.expectedEvents=n,this.signers=r,this.addressLookupTables=o,this.program=s;}compileToV0Message(e){return super.compileToV0Message([...this.addressLookupTables,...null!=e?e:[]])}compileToLegacyMessage(){return this.addressLookupTables.length>0&&console.warn("Warning: transaction might fail due to size limits; compile as a v0 message to utilize the preset address lookup tables"),super.compileToLegacyMessage()}send(e){var n,r,i,o,s,a,c,u,d,l,{signer:h=(null!==(r=null===(n=this.program.transactionHandler)||void 0===n?void 0:n.signer)&&void 0!==r?r:null),sendOptions:p,confirmOptions:m,commitment:f="confirmed"}=void 0===e?{}:e;return t(this,void 0,void 0,(function*(){if((null===(i=this.program.transactionHandler)||void 0===i?void 0:i.before)&&(yield this.program.transactionHandler.before(this,this.program)),!this.recentBlockhash){const{blockhash:e,lastValidBlockHeight:t}=yield this.program.connection.getLatestBlockhash(f);this.recentBlockhash=e,m=Object.assign(Object.assign({abortSignal:void 0},null!=m?m:{}),{blockhash:e,lastValidBlockHeight:t,signature:""});}const e=new qo(this.compileToV0Message());let t=null;const n=[];for(const[r,i]of Object.entries(this.signers))if(i.secretKey)n.push(i);else {const o=i;t||(t=Buffer.from(e.message.serialize()));const s=h?yield h(r,o,t):null;if(!s)throw new Error(`unhandled signer key: ${i} (${r})`);if(!s.publicKey.equals(o))throw new Error(`signed key does not match with the requested signer key: ${o} (${r}) != ${s.publicKey}`);s.secretKey?n.push(s):e.addSignature(s.publicKey,s.signature);}e.sign(n);const r=yield this.program.connection.sendTransaction(e,p),y=yield this.program.connection.confirmTransaction(Object.assign(Object.assign({},m),{signature:r}),f);if(y.value.err)throw y.value.err;const g=yield this.program.connection.getParsedTransaction(r,{commitment:f,maxSupportedTransactionVersion:0});if(!g)throw new Error("no transaction result found");if(null===(o=g.meta)||void 0===o?void 0:o.err)throw null!==(s=this.program.idl.parseError(g))&&void 0!==s?s:null===(a=null==g?void 0:g.meta)||void 0===a?void 0:a.err;const _={signature:r,descriptions:this.descriptions,events:this.program.idl.parseEvents(g),logs:null!==(u=null===(c=g.meta)||void 0===c?void 0:c.logMessages)&&void 0!==u?u:[],error:this.program.idl.parseError(g)};if(!_.error){for(const e of Object.keys(_.events))this.expectedEvents.includes(e)||console.warn(`Warning: unexpected event: ${e}`);for(const e of this.expectedEvents)(null===(d=_.events[e])||void 0===d?void 0:d.length)||console.warn(`Warning: missing expected event: ${e}`);}return (null===(l=this.program.transactionHandler)||void 0===l?void 0:l.after)&&(yield this.program.transactionHandler.after(_,this.program)),_}))}}class Ny{constructor({cluster:e,programID:t,idl:n,connection:r,transactionHandler:i=null}){var o;this.transactionHandler=null,this.idl={getConstant:e=>this.anchorProgram.idl.constants.find((t=>t.name==e)).value,getConstantAsPublicKey:e=>new fo(this.idl.getConstant(e)),parseEvents:e=>{var t,n,r,i,o,s,a;const c={},u=this.anchorEventParser.parseLogs(null!==(n=null===(t=e.meta)||void 0===t?void 0:t.logMessages)&&void 0!==n?n:[],!1);for(;;){const e=u.next().value;if(!e)break;const t=e.name;(c[t]=null!==(r=c[t])&&void 0!==r?r:[]).push(e);}for(const t of null!==(o=null===(i=e.meta)||void 0===i?void 0:i.innerInstructions)&&void 0!==o?o:[])for(const e of t.instructions)if(e.programId.equals(this.programID)){const t=null!==(s=e.data)&&void 0!==s?s:null;if(t){const e=Qf.bytes.bs58.decode(t),n=Qf.bytes.base64.encode(e.subarray(8)),r=this.anchorProgram.coder.events.decode(n);if(r){const e=r.name;(c[e]=null!==(a=c[e])&&void 0!==a?a:[]).push(r);}}}return c},parseError:e=>{var t,n,r,i,o;let s=(null===(t=e.meta)||void 0===t?void 0:t.err)?ef({logs:null!==(r=null===(n=e.meta)||void 0===n?void 0:n.logMessages)&&void 0!==r?r:[]},this.anchorErrorMap):null;return s||(s=Xm.parse(null!==(o=null===(i=e.meta)||void 0===i?void 0:i.logMessages)&&void 0!==o?o:[])),null!=s?s:null}},this.cluster=e,this.programID=t,this.connection=null!=r?r:new fc(null!==(o=Ny.defaultClusterURL[e])&&void 0!==o?o:Ny.defaultClusterURL.local,{commitment:"confirmed",disableRetryOnRateLimit:!0});const s=Object.entries(Ny.defaultClusterURL).find((([e,t])=>t==this.connection.rpcEndpoint));if(s&&s[0]!=e)throw new Error(`provided connection URL does not match the specified cluster: ${e} != ${s[0]} (${s[1]})`);this.transactionHandler=i?Object.fromEntries(Object.entries(i).map((([e,t])=>[e,t.bind(this)]))):null,this.anchorProgram=new Oy(Object.assign(Object.assign({},n),{address:t.toString()}),new fp(this.connection,null)),this.anchorEventParser=new dy(this.programID,this.anchorProgram.coder),this.anchorErrorMap=Lh(this.anchorProgram.idl);}get programMethods(){return this.anchorProgram.methods}get programAccounts(){return this.anchorProgram.account}createTransactionMessage(e){return new xy(Object.assign(Object.assign({},e),{program:this}))}}Ny.defaultClusterURL={mainnet:"https://api.mainnet-beta.solana.com",devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com",local:"http://0.0.0.0:8899"};var Cy={address:"fragnAis7Bp6FTsMoa6YcH8UffhEw43Ph79qAiK3iF3",metadata:{name:"restaking",version:"0.3.3",spec:"0.1.0",description:"Fragmetric Liquid Restaking Token Program"},instructions:[{name:"admin_initialize_extra_account_meta_list",discriminator:[43,34,13,49,167,88,235,235],accounts:[{name:"payer",writable:!0,signer:!0},{name:"admin",signer:!0,address:"fragSkuEpEmdoj9Bcyawk9rBdsChcVJLWHfj9JX1Gby"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint"},{name:"extra_account_meta_list",writable:!0,pda:{seeds:[{kind:"const",value:[101,120,116,114,97,45,97,99,99,111,117,110,116,45,109,101,116,97,115]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"admin_initialize_fund_account",discriminator:[83,184,197,143,118,192,56,15],accounts:[{name:"payer",writable:!0,signer:!0},{name:"admin",signer:!0,address:"fragSkuEpEmdoj9Bcyawk9rBdsChcVJLWHfj9JX1Gby"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint",writable:!0},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"fund_receipt_token_lock_account",pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"fund_reserve_account",pda:{seeds:[{kind:"const",value:[102,117,110,100,95,114,101,115,101,114,118,101]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"admin_initialize_normalized_token_pool_account",discriminator:[36,90,87,197,124,174,14,225],accounts:[{name:"payer",writable:!0,signer:!0},{name:"admin",signer:!0,address:"fragSkuEpEmdoj9Bcyawk9rBdsChcVJLWHfj9JX1Gby"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"normalized_token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"normalized_token_mint",writable:!0},{name:"normalized_token_pool_account",writable:!0,pda:{seeds:[{kind:"const",value:[110,116,95,112,111,111,108]},{kind:"account",path:"normalized_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"admin_initialize_reward_account",discriminator:[208,48,70,171,86,38,29,149],accounts:[{name:"payer",writable:!0,signer:!0},{name:"admin",signer:!0,address:"fragSkuEpEmdoj9Bcyawk9rBdsChcVJLWHfj9JX1Gby"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint"},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"admin_update_extra_account_meta_list_if_needed",discriminator:[113,124,72,210,237,164,96,241],accounts:[{name:"payer",signer:!0},{name:"admin",signer:!0,address:"fragSkuEpEmdoj9Bcyawk9rBdsChcVJLWHfj9JX1Gby"},{name:"receipt_token_mint"},{name:"extra_account_meta_list",writable:!0,pda:{seeds:[{kind:"const",value:[101,120,116,114,97,45,97,99,99,111,117,110,116,45,109,101,116,97,115]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"admin_update_fund_account_if_needed",discriminator:[53,204,67,56,198,113,243,34],accounts:[{name:"payer",writable:!0,signer:!0},{name:"admin",signer:!0,address:"fragSkuEpEmdoj9Bcyawk9rBdsChcVJLWHfj9JX1Gby"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint"},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"fund_reserve_account",pda:{seeds:[{kind:"const",value:[102,117,110,100,95,114,101,115,101,114,118,101]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"desired_account_size",type:{option:"u32"}}]},{name:"admin_update_normalized_token_pool_account_if_needed",discriminator:[117,212,78,133,31,164,123,241],accounts:[{name:"payer",writable:!0,signer:!0},{name:"admin",signer:!0,address:"fragSkuEpEmdoj9Bcyawk9rBdsChcVJLWHfj9JX1Gby"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"normalized_token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"normalized_token_mint",relations:["normalized_token_pool_account"]},{name:"normalized_token_pool_account",writable:!0,pda:{seeds:[{kind:"const",value:[110,116,95,112,111,111,108]},{kind:"account",path:"normalized_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"admin_update_reward_account_if_needed",discriminator:[113,211,75,86,235,248,240,2],accounts:[{name:"payer",writable:!0,signer:!0},{name:"admin",signer:!0,address:"fragSkuEpEmdoj9Bcyawk9rBdsChcVJLWHfj9JX1Gby"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint"},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"desired_account_size",type:{option:"u32"}}]},{name:"fund_manager_add_normalized_token_pool_supported_token",discriminator:[173,135,121,96,30,138,56,27],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"normalized_token_mint",relations:["normalized_token_pool_account"]},{name:"normalized_token_pool_account",writable:!0,pda:{seeds:[{kind:"const",value:[110,116,95,112,111,111,108]},{kind:"account",path:"normalized_token_mint"}]}},{name:"normalized_token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"supported_token_mint"},{name:"supported_token_program"},{name:"normalized_token_pool_supported_token_account",pda:{seeds:[{kind:"account",path:"normalized_token_pool_account"},{kind:"account",path:"supported_token_program"},{kind:"account",path:"supported_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"pricing_source",type:{defined:{name:"TokenPricingSource"}}}]},{name:"fund_manager_add_reward",discriminator:[26,6,104,77,57,237,13,5],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["reward_account"]},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"reward_token_mint",optional:!0},{name:"reward_token_program",optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"reward_type",type:{defined:{name:"RewardType"}}}]},{name:"fund_manager_add_reward_pool",discriminator:[222,241,120,225,5,76,175,136],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["reward_account"]},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"name",type:"string"},{name:"holder_id",type:{option:"u8"}},{name:"custom_contribution_accrual_rate_enabled",type:"bool"}]},{name:"fund_manager_add_reward_pool_holder",discriminator:[79,160,90,79,137,135,197,134],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["reward_account"]},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"pubkeys",type:{vec:"pubkey"}}]},{name:"fund_manager_add_supported_token",discriminator:[0,137,153,52,179,163,4,20],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["fund_account"]},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"supported_token_mint"},{name:"supported_token_program"},{name:"supported_token_account",pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"supported_token_program"},{kind:"account",path:"supported_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"pricing_source",type:{defined:{name:"TokenPricingSource"}}}]},{name:"fund_manager_clear_user_sol_withdrawal_requests",discriminator:[229,235,96,236,74,245,85,243],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"fund_account",pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"const",value:[214,52,8,155,182,149,115,57,20,131,125,232,82,251,210,76,255,40,78,39,34,166,52,128,105,118,67,202,117,247,108,146]}]}},{name:"user_fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,102,117,110,100]},{kind:"const",value:[214,52,8,155,182,149,115,57,20,131,125,232,82,251,210,76,255,40,78,39,34,166,52,128,105,118,67,202,117,247,108,146]},{kind:"arg",path:"user"}]}}],args:[{name:"_user",type:"pubkey"},{name:"num_expected_requests_left",type:"u8"}]},{name:"fund_manager_close_fund_account",discriminator:[158,192,72,180,218,61,228,156],accounts:[{name:"payer",writable:!0,signer:!0},{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"const",value:[214,52,8,155,182,149,115,57,20,131,125,232,82,251,210,76,255,40,78,39,34,166,52,128,105,118,67,202,117,247,108,146]}]}}],args:[]},{name:"fund_manager_close_reward_pool",discriminator:[159,24,238,47,253,39,6,30],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["reward_account"]},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"reward_pool_id",type:"u8"}]},{name:"fund_manager_initialize_fund_jito_restaking_vault",discriminator:[94,33,145,222,177,170,211,74],accounts:[{name:"admin",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"receipt_token_mint",relations:["fund_account"]},{name:"vault_program",address:"Vau1t6sLNxnzB7ZDsef8TLbPLfyZMYXH8WTNqUdm9g8"},{name:"vault_account"},{name:"vault_receipt_token_mint"},{name:"vault_receipt_token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"vault_supported_token_mint"},{name:"vault_supported_token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"fund_vault_receipt_token_account",pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"vault_receipt_token_program"},{kind:"account",path:"vault_receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"fund_vault_supported_token_account",pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"vault_supported_token_program"},{kind:"account",path:"vault_supported_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"vault_vault_supported_token_account",pda:{seeds:[{kind:"account",path:"vault_account"},{kind:"account",path:"vault_supported_token_program"},{kind:"account",path:"vault_supported_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"fund_manager_initialize_fund_normalized_token",discriminator:[210,163,184,165,127,40,122,23],accounts:[{name:"admin",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"receipt_token_mint",relations:["fund_account"]},{name:"normalized_token_mint",relations:["normalized_token_pool_account"]},{name:"normalized_token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"fund_normalized_token_account",pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"normalized_token_program"},{kind:"account",path:"normalized_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"normalized_token_pool_account",writable:!0,pda:{seeds:[{kind:"const",value:[110,116,95,112,111,111,108]},{kind:"account",path:"normalized_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"fund_manager_settle_reward",discriminator:[105,92,118,15,173,135,98,86],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["reward_account"]},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"reward_token_mint",optional:!0},{name:"reward_token_program",optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"reward_pool_id",type:"u8"},{name:"reward_id",type:"u16"},{name:"amount",type:"u64"}]},{name:"fund_manager_update_fund_strategy",discriminator:[66,200,217,64,201,228,239,193],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["fund_account"]},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"deposit_enabled",type:"bool"},{name:"withdrawal_enabled",type:"bool"},{name:"withdrawal_fee_rate_bps",type:"u16"},{name:"withdrawal_batch_threshold_seconds",type:"i64"}]},{name:"fund_manager_update_restaking_vault_delegation_strategy",discriminator:[54,180,250,68,121,2,143,87],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["fund_account"]},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"vault",type:"pubkey"},{name:"operator",type:"pubkey"},{name:"token_allocation_weight",type:"u64"},{name:"token_allocation_capacity_amount",type:"u64"},{name:"token_redelegating_amount",type:{option:"u64"}}]},{name:"fund_manager_update_restaking_vault_strategy",discriminator:[131,35,217,161,90,24,63,133],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["fund_account"]},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"vault",type:"pubkey"},{name:"sol_allocation_weight",type:"u64"},{name:"sol_allocation_capacity_amount",type:"u64"}]},{name:"fund_manager_update_sol_strategy",discriminator:[107,157,24,119,5,88,154,147],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["fund_account"]},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"sol_depositable",type:"bool"},{name:"sol_accumulated_deposit_capacity_amount",type:"u64"},{name:"sol_accumulated_deposit_amount",type:{option:"u64"}},{name:"sol_withdrawable",type:"bool"},{name:"sol_withdrawal_normal_reserve_rate_bps",type:"u16"},{name:"sol_withdrawal_normal_reserve_max_amount",type:"u64"}]},{name:"fund_manager_update_supported_token_strategy",discriminator:[131,168,49,206,73,18,137,219],accounts:[{name:"fund_manager",signer:!0,address:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"receipt_token_mint",relations:["fund_account"]},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"token_mint",type:"pubkey"},{name:"token_depositable",type:"bool"},{name:"token_accumulated_deposit_capacity_amount",type:"u64"},{name:"token_accumulated_deposit_amount",type:{option:"u64"}},{name:"token_withdrawable",type:"bool"},{name:"token_withdrawal_normal_reserve_rate_bps",type:"u16"},{name:"token_withdrawal_normal_reserve_max_amount",type:"u64"},{name:"token_rebalancing_amount",type:{option:"u64"}},{name:"sol_allocation_weight",type:"u64"},{name:"sol_allocation_capacity_amount",type:"u64"}]},{name:"operator_donate_sol_to_fund",discriminator:[88,167,224,32,221,203,157,69],accounts:[{name:"operator",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint",writable:!0,relations:["fund_account"]},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"fund_reserve_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100,95,114,101,115,101,114,118,101]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount",type:"u64"},{name:"offset_receivable",type:"bool"}]},{name:"operator_donate_supported_token_to_fund",discriminator:[116,216,13,162,86,164,43,93],accounts:[{name:"operator",writable:!0,signer:!0},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"supported_token_program"},{name:"receipt_token_mint",writable:!0,relations:["fund_account"]},{name:"supported_token_mint"},{name:"fund_supported_token_reserve_account",writable:!0,pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"supported_token_program"},{kind:"account",path:"supported_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"operator_supported_token_account",writable:!0},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount",type:"u64"},{name:"offset_receivable",type:"bool"}]},{name:"operator_log_message",discriminator:[104,51,132,76,54,74,57,199],accounts:[{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"message",type:"string"}]},{name:"operator_run_fund_command",discriminator:[73,116,27,23,118,153,196,14],accounts:[{name:"operator",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint",writable:!0,relations:["fund_account"]},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"force_reset_command",type:{option:{defined:{name:"OperationCommandEntry"}}}}]},{name:"operator_update_fund_prices",discriminator:[253,219,211,59,254,151,126,161],accounts:[{name:"operator",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint",writable:!0,relations:["fund_account"]},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"operator_update_normalized_token_pool_prices",discriminator:[59,127,178,59,73,213,181,204],accounts:[{name:"operator",signer:!0},{name:"normalized_token_mint",writable:!0,relations:["normalized_token_pool_account"]},{name:"normalized_token_pool_account",writable:!0,pda:{seeds:[{kind:"const",value:[110,116,95,112,111,111,108]},{kind:"account",path:"normalized_token_mint"}]}},{name:"normalized_token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"operator_update_reward_pools",discriminator:[50,3,240,113,3,164,2,41],accounts:[{name:"operator",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint",relations:["reward_account"]},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"slasher_initialize_normalized_token_withdrawal_account",discriminator:[180,112,136,49,174,179,50,47],accounts:[{name:"payer",writable:!0,signer:!0},{name:"slasher",signer:!0},{name:"normalized_token_mint",writable:!0,relations:["normalized_token_pool_account"]},{name:"normalized_token_pool_account",writable:!0,pda:{seeds:[{kind:"const",value:[110,116,95,112,111,111,108]},{kind:"account",path:"normalized_token_mint"}]}},{name:"normalized_token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"slasher_normalized_token_withdrawal_ticket_account",writable:!0,pda:{seeds:[{kind:"const",value:[110,116,95,119,105,116,104,100,114,97,119,97,108]},{kind:"account",path:"normalized_token_mint"},{kind:"account",path:"slasher"}]}},{name:"slasher_normalized_token_account",writable:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"slasher_withdraw_normalized_token",discriminator:[30,86,7,231,47,59,162,214],accounts:[{name:"slasher",writable:!0,signer:!0},{name:"normalized_token_mint",writable:!0,relations:["normalized_token_pool_account","slasher_normalized_token_withdrawal_ticket_account"]},{name:"normalized_token_pool_account",writable:!0,pda:{seeds:[{kind:"const",value:[110,116,95,112,111,111,108]},{kind:"account",path:"normalized_token_mint"}]}},{name:"normalized_token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"slasher_normalized_token_withdrawal_ticket_account",writable:!0,pda:{seeds:[{kind:"const",value:[110,116,95,119,105,116,104,100,114,97,119,97,108]},{kind:"account",path:"normalized_token_mint"},{kind:"account",path:"slasher"}]}},{name:"supported_token_mint"},{name:"supported_token_program"},{name:"normalized_token_pool_supported_token_reserve_account",writable:!0,pda:{seeds:[{kind:"account",path:"normalized_token_pool_account"},{kind:"account",path:"supported_token_program"},{kind:"account",path:"supported_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"destination_supported_token_account",writable:!0},{name:"destination_rent_lamports_account",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"token_transfer_hook",discriminator:[105,37,101,197,75,251,102,26],accounts:[{name:"source_receipt_token_account"},{name:"receipt_token_mint",relations:["fund_account","reward_account"]},{name:"destination_receipt_token_account"},{name:"owner"},{name:"extra_account_meta_list",pda:{seeds:[{kind:"const",value:[101,120,116,114,97,45,97,99,99,111,117,110,116,45,109,101,116,97,115]},{kind:"account",path:"receipt_token_mint"}]}},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}}],args:[{name:"amount",type:"u64"}]},{name:"user_cancel_withdrawal_request",discriminator:[187,80,45,65,239,189,78,102],accounts:[{name:"user",writable:!0,signer:!0,relations:["user_fund_account","user_reward_account"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"receipt_token_mint",writable:!0,relations:["fund_account","user_fund_account","reward_account","user_reward_account"]},{name:"receipt_token_lock_account",writable:!0,pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_receipt_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"fund_reserve_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100,95,114,101,115,101,114,118,101]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,102,117,110,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"instructions_sysvar",address:"Sysvar1nstructions1111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"request_id",type:"u64"}]},{name:"user_claim_rewards",discriminator:[8,211,145,71,169,22,80,33],accounts:[{name:"user",writable:!0,signer:!0,relations:["user_reward_account"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint",relations:["reward_account","user_reward_account"]},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"reward_pool_id",type:"u8"},{name:"reward_id",type:"u8"}]},{name:"user_deposit_sol",discriminator:[9,201,63,79,105,75,147,47],accounts:[{name:"user",writable:!0,signer:!0,relations:["user_fund_account","user_reward_account"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"receipt_token_mint",writable:!0,relations:["fund_account","user_fund_account","reward_account","user_reward_account"]},{name:"receipt_token_lock_account",writable:!0,pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_receipt_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"fund_reserve_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100,95,114,101,115,101,114,118,101]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,102,117,110,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"instructions_sysvar",address:"Sysvar1nstructions1111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount",type:"u64"},{name:"metadata",type:{option:{defined:{name:"DepositMetadata"}}}}]},{name:"user_deposit_supported_token",discriminator:[139,84,137,218,229,151,183,154],accounts:[{name:"user",writable:!0,signer:!0,relations:["user_fund_account","user_reward_account"]},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"supported_token_program"},{name:"receipt_token_mint",writable:!0,relations:["fund_account","user_fund_account","reward_account","user_reward_account"]},{name:"user_receipt_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"supported_token_mint"},{name:"fund_supported_token_reserve_account",writable:!0,pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"supported_token_program"},{kind:"account",path:"supported_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_supported_token_account",writable:!0},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,102,117,110,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"instructions_sysvar",address:"Sysvar1nstructions1111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount",type:"u64"},{name:"metadata",type:{option:{defined:{name:"DepositMetadata"}}}}]},{name:"user_initialize_fund_account",discriminator:[237,214,91,254,184,57,37,102],accounts:[{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint"},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"user_receipt_token_account",pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,102,117,110,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"user_initialize_reward_account",discriminator:[35,77,53,232,36,237,146,246],accounts:[{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint",relations:["reward_account"]},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"user_receipt_token_account",pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"user_request_withdrawal",discriminator:[147,199,177,14,195,86,62,134],accounts:[{name:"user",writable:!0,signer:!0,relations:["user_fund_account","user_reward_account"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"receipt_token_mint",writable:!0,relations:["fund_account","user_fund_account","reward_account","user_reward_account"]},{name:"receipt_token_lock_account",writable:!0,pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_receipt_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"fund_reserve_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100,95,114,101,115,101,114,118,101]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,102,117,110,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"instructions_sysvar",address:"Sysvar1nstructions1111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"receipt_token_amount",type:"u64"},{name:"supported_token_mint",type:{option:"pubkey"}}]},{name:"user_update_fund_account_if_needed",discriminator:[22,10,103,174,223,166,182,76],accounts:[{name:"user",writable:!0,signer:!0,relations:["user_fund_account"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint",relations:["user_fund_account"]},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"user_receipt_token_account",pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,102,117,110,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"user_update_reward_account_if_needed",discriminator:[156,78,23,8,238,177,204,173],accounts:[{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint",relations:["reward_account"]},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"user_receipt_token_account",pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"desired_account_size",type:{option:"u32"}}]},{name:"user_update_reward_pools",discriminator:[89,143,243,236,73,81,158,100],accounts:[{name:"user",writable:!0,signer:!0,relations:["user_reward_account"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_mint",relations:["reward_account","user_reward_account"]},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"user_withdraw_sol",discriminator:[214,13,137,164,194,105,183,252],accounts:[{name:"user",writable:!0,signer:!0,relations:["user_fund_account","user_reward_account"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"receipt_token_mint",relations:["fund_account","fund_withdrawal_batch_account","user_fund_account","reward_account","user_reward_account"]},{name:"user_receipt_token_account",pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"fund_reserve_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100,95,114,101,115,101,114,118,101]},{kind:"account",path:"receipt_token_mint"}]}},{name:"fund_withdrawal_batch_account",docs:["Users can derive proper account address with target batch id for each withdrawal requests.","And the batch id can be read from a user fund account which the withdrawal requests belong to."],writable:!0,pda:{seeds:[{kind:"const",value:[119,105,116,104,100,114,97,119,97,108,95,98,97,116,99,104]},{kind:"account",path:"receipt_token_mint"},{kind:"const",value:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{kind:"arg",path:"batch_id"}]}},{name:"fund_treasury_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100,95,116,114,101,97,115,117,114,121]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,102,117,110,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"reward_account",pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_reward_account",pda:{seeds:[{kind:"const",value:[117,115,101,114,95,114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"batch_id",type:"u64"},{name:"request_id",type:"u64"}]},{name:"user_withdraw_supported_token",discriminator:[95,90,176,21,252,231,133,99],accounts:[{name:"user",writable:!0,signer:!0,relations:["user_fund_account","user_reward_account"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"receipt_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"supported_token_program"},{name:"receipt_token_mint",writable:!0,relations:["fund_account","fund_withdrawal_batch_account","user_fund_account","reward_account","user_reward_account"]},{name:"user_receipt_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"receipt_token_program"},{kind:"account",path:"receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"supported_token_mint"},{name:"user_supported_token_account",writable:!0},{name:"fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"fund_withdrawal_batch_account",docs:["Users can derive proper account address with target batch id for each withdrawal requests.","And the batch id can be read from a user fund account which the withdrawal requests belong to."],writable:!0,pda:{seeds:[{kind:"const",value:[119,105,116,104,100,114,97,119,97,108,95,98,97,116,99,104]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"supported_token_mint"},{kind:"arg",path:"batch_id"}]}},{name:"fund_supported_token_reserve_account",writable:!0,pda:{seeds:[{kind:"account",path:"fund_account"},{kind:"account",path:"supported_token_program"},{kind:"account",path:"supported_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"fund_treasury_account",writable:!0,pda:{seeds:[{kind:"const",value:[102,117,110,100,95,116,114,101,97,115,117,114,121]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_fund_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,102,117,110,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"}]}},{name:"user_reward_account",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,114,101,119,97,114,100]},{kind:"account",path:"receipt_token_mint"},{kind:"account",path:"user"}]}},{name:"instructions_sysvar",address:"Sysvar1nstructions1111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"batch_id",type:"u64"},{name:"request_id",type:"u64"}]}],accounts:[{name:"FundAccount",discriminator:[49,104,168,214,134,180,173,154]},{name:"FundWithdrawalBatchAccount",discriminator:[85,200,99,175,79,125,149,220]},{name:"NormalizedTokenPoolAccount",discriminator:[7,113,233,177,153,66,175,56]},{name:"NormalizedTokenWithdrawalAccount",discriminator:[93,156,243,244,209,190,231,249]},{name:"RewardAccount",discriminator:[225,81,31,253,84,234,171,129]},{name:"UserFundAccount",discriminator:[208,166,47,241,179,76,157,212]},{name:"UserRewardAccount",discriminator:[55,245,122,238,147,89,164,198]}],events:[{name:"FundManagerUpdatedFund",discriminator:[134,191,120,8,174,124,129,199]},{name:"FundManagerUpdatedRewardPool",discriminator:[195,147,69,56,76,226,252,128]},{name:"OperatorDonatedToFund",discriminator:[87,48,245,185,4,76,165,242]},{name:"OperatorRanFundCommand",discriminator:[10,0,29,204,128,125,227,149]},{name:"OperatorUpdatedFundPrices",discriminator:[108,80,9,116,200,169,219,220]},{name:"OperatorUpdatedNormalizedTokenPoolPrices",discriminator:[45,104,4,51,239,13,241,0]},{name:"OperatorUpdatedRewardPools",discriminator:[105,173,28,190,209,115,63,91]},{name:"UserCanceledWithdrawalRequestFromFund",discriminator:[114,97,217,9,1,121,31,213]},{name:"UserCreatedOrUpdatedFundAccount",discriminator:[26,206,120,214,227,187,182,0]},{name:"UserCreatedOrUpdatedRewardAccount",discriminator:[41,212,58,138,122,212,165,155]},{name:"UserDepositedToFund",discriminator:[254,40,245,52,68,65,132,44]},{name:"UserRequestedWithdrawalFromFund",discriminator:[23,105,171,107,172,40,226,124]},{name:"UserTransferredReceiptToken",discriminator:[50,130,164,229,182,55,117,0]},{name:"UserUpdatedRewardPool",discriminator:[189,251,56,47,30,252,63,27]},{name:"UserWithdrewFromFund",discriminator:[158,87,58,31,154,207,166,164]}],errors:[{code:6e3,name:"CalculationArithmeticException",msg:"calculation arithmetic exception"},{code:6001,name:"IndexOutOfBoundsException",msg:"index out of bounds exception"},{code:6002,name:"UTF8DecodingException",msg:"utf-8 decoding exception"},{code:6003,name:"InvalidSignatureError",msg:"signature verification failed"},{code:6004,name:"InvalidAccountDataVersionError",msg:"invalid account data version"},{code:6005,name:"TokenNotTransferableError",msg:"token is not transferable currently"},{code:6006,name:"TokenNotTransferringException",msg:"token is not transferring currently"},{code:6007,name:"RewardInvalidTransferArgsException",msg:"reward: invalid token transfer args"},{code:6008,name:"RewardInvalidMetadataNameLengthError",msg:"reward: invalid metadata name length"},{code:6009,name:"RewardInvalidMetadataDescriptionLengthError",msg:"reward: invalid metadata description length"},{code:6010,name:"RewardInvalidRewardTypeError",msg:"reward: invalid reward type"},{code:6011,name:"RewardAlreadyExistingHolderError",msg:"reward: already existing holder"},{code:6012,name:"RewardAlreadyExistingRewardError",msg:"reward: already existing reward"},{code:6013,name:"RewardAlreadyExistingPoolError",msg:"reward: already existing pool"},{code:6014,name:"RewardHolderNotFoundError",msg:"reward: holder not found"},{code:6015,name:"RewardNotFoundError",msg:"reward: reward not found"},{code:6016,name:"RewardPoolNotFoundError",msg:"reward: pool not found"},{code:6017,name:"RewardUserPoolNotFoundError",msg:"reward: user pool not found"},{code:6018,name:"RewardPoolClosedError",msg:"reward: pool is closed"},{code:6019,name:"RewardInvalidPoolConfigurationException",msg:"reward: invalid pool configuration"},{code:6020,name:"RewardInvalidPoolAccessException",msg:"reward: invalid reward pool access"},{code:6021,name:"RewardInvalidAccountingException",msg:"reward: incorrect accounting exception"},{code:6022,name:"RewardInvalidAllocatedAmountDeltaException",msg:"reward: invalid amount or contribution accrual rate"},{code:6023,name:"RewardExceededMaxHoldersError",msg:"reward: exceeded max holders"},{code:6024,name:"RewardExceededMaxRewardsError",msg:"reward: exceeded max rewards"},{code:6025,name:"RewardExceededMaxRewardPoolsError",msg:"reward: exceeded max reward pools"},{code:6026,name:"RewardExceededMaxUserRewardPoolsError",msg:"reward: exceeded max user reward pools"},{code:6027,name:"RewardExceededMaxHolderPubkeysError",msg:"reward: exceeded max pubkeys per holder"},{code:6028,name:"RewardExceededMaxTokenAllocatedAmountRecordException",msg:"reward: exceeded max token allocated amount record"},{code:6029,name:"RewardExceededMaxRewardSettlementError",msg:"reward: exceeded max reward settlements per pool"},{code:6030,name:"RewardStaleSettlementBlockNotExistError",msg:"reward: stale settlement block not exist"},{code:6031,name:"RewardInvalidSettlementBlockHeightException",msg:"reward: invalid settlement block height"},{code:6032,name:"RewardInvalidSettlementBlockContributionException",msg:"reward: invalid settlement block contribution"},{code:6033,name:"RewardInvalidTotalUserSettledAmountException",msg:"reward: sum of user settled amount cannot exceed total amount"},{code:6034,name:"RewardInvalidTotalUserSettledContributionException",msg:"reward: sum of user settled contribution cannot exceed total contribution"},{code:6035,name:"RewardPoolCloseConditionError",msg:"reward: cannot close the reward pool"},{code:6036,name:"TokenPricingSourceAccountNotFoundError",msg:"pricing: token pricing source is not found"},{code:6037,name:"FundInvalidConfigurationUpdateError",msg:"fund: cannot apply invalid configuration update"},{code:6038,name:"FundAlreadySupportedTokenError",msg:"fund: already supported token"},{code:6039,name:"FundNotSupportedTokenError",msg:"fund: not supported token"},{code:6040,name:"FundDepositDisabledError",msg:"fund: deposit is currently disabled"},{code:6041,name:"FundExceededDepositCapacityAmountError",msg:"fund: exceeded deposit capacity amount"},{code:6042,name:"FundDepositNotSupportedAsset",msg:"fund: deposit is not supported for the given asset"},{code:6043,name:"FundExceededMaxWithdrawalRequestError",msg:"fund: exceeded max withdrawal request per user"},{code:6044,name:"FundWithdrawalRequestNotFoundError",msg:"fund: withdrawal request not found"},{code:6045,name:"FundWithdrawalRequestIncorrectBatchError",msg:"fund: withdrawal request not belongs to the given batch"},{code:6046,name:"FundWithdrawalDisabledError",msg:"fund: withdrawal is currently disabled"},{code:6047,name:"FundWithdrawalNotSupportedAsset",msg:"fund: withdrawal is not supported for the given asset"},{code:6048,name:"FundWithdrawalReserveExhaustedSupportedAsset",msg:"fund: withdrawal reserve is exhausted for the given asset"},{code:6049,name:"FundWithdrawalRequestAlreadyQueuedError",msg:"fund: withdrawal request is already in progress"},{code:6050,name:"FundDepositMetadataSignatureExpiredError",msg:"fund: deposit metadata signature has expired"},{code:6051,name:"FundExceededMaxSupportedTokensError",msg:"fund: exceeded max supported tokens"},{code:6052,name:"FundInvalidWithdrawalFeeRateError",msg:"fund: invalid withdrawal fee rate"},{code:6053,name:"FundNormalizedTokenAlreadySetError",msg:"fund: normalized token already set"},{code:6054,name:"FundNormalizedTokenNotSetError",msg:"fund: normalized token is not set"},{code:6055,name:"FundRestakingVaultAlreadyRegisteredError",msg:"fund: restaking vault already registered"},{code:6056,name:"FundExceededMaxRestakingVaultsError",msg:"reward: exceeded max restaking vaults"},{code:6057,name:"FundRestakingNotSupportedVaultError",msg:"fund: not supported restaking vault"},{code:6058,name:"FundRestakingVaultNotFoundError",msg:"fund: restaking vault not found"},{code:6059,name:"FundRestakingVaultOperatorNotFoundError",msg:"fund: restaking vault operator not found"},{code:6060,name:"FundRestakingVaultOperatorAlreadyRegisteredError",msg:"fund: restaking vault operator already registered"},{code:6061,name:"FundExceededMaxRestakingVaultDelegationsError",msg:"fund: exceeded max restaking vault delegations"},{code:6062,name:"FundOperationUnauthorizedCommandError",msg:"fund: unauhorized operation command"},{code:6063,name:"FundOperationCommandAccountComputationException",msg:"fund: failed to compute required accounts for the operation command"},{code:6064,name:"FundOperationCommandExecutionFailedException",msg:"fund: failed to execute the operation command"},{code:6065,name:"NormalizedTokenPoolNotSupportedTokenError",msg:"normalization: not supported token"},{code:6066,name:"NormalizedTokenPoolAlreadySupportedTokenError",msg:"normalization: already supported token"},{code:6067,name:"NormalizedTokenPoolExceededMaxSupportedTokensError",msg:"normalization: exceeded max supported tokens"},{code:6068,name:"NormalizedTokenPoolNotEnoughSupportedTokenException",msg:"normalization: not enough supported token in the pool"},{code:6069,name:"NormalizedTokenPoolAlreadySettledWithdrawalAccountError",msg:"normalization: already settled withdrawal account"},{code:6070,name:"NormalizedTokenPoolNonClaimableTokenError",msg:"normalization: the token is non-claimable for the given withdrawal account"},{code:6071,name:"StakingUninitializedWithdrawTicketNotFoundException",msg:"staking: failed to find uninitialized withdraw ticket"},{code:6072,name:"StakingAccountNotMatchedException",msg:"staking: account not matched"},{code:6073,name:"StakingSPLActiveStakeNotAvailableException",msg:"staking: spl stake pool's active stake not available"},{code:6074,name:"RestakingVaultWithdrawalTicketsExhaustedError",msg:"restaking: all withdrawal tickets are already in use"},{code:6075,name:"RestakingVaultWithdrawalTicketNotWithdrawableError",msg:"restaking: withdrawal ticket is not withdrawable"},{code:6076,name:"RestakingVaultWithdrawalTicketAlreadyInitializedError",msg:"restaking: withdrawal ticket is already initialized"}],types:[{name:"Asset",type:{kind:"enum",variants:[{name:"SOL",fields:["u64"]},{name:"Token",fields:["pubkey",{option:{defined:{name:"TokenPricingSource"}}},"u64"]}]}},{name:"AssetPod",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"discriminant",type:"u8"},{name:"_padding",type:{array:["u8",7]}},{name:"sol_amount",type:"u64"},{name:"token_amount",type:"u64"},{name:"token_mint",type:"pubkey"},{name:"token_pricing_source",type:{defined:{name:"TokenPricingSourcePod"}}}]}},{name:"AssetState",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"token_mint",type:"pubkey"},{name:"token_program",type:"pubkey"},{name:"accumulated_deposit_capacity_amount",type:"u64"},{name:"accumulated_deposit_amount",type:"u64"},{name:"depositable",type:"u8"},{name:"_padding",type:{array:["u8",4]}},{name:"withdrawable",type:"u8"},{name:"normal_reserve_rate_bps",type:"u16"},{name:"normal_reserve_max_amount",type:"u64"},{name:"withdrawal_last_created_request_id",type:"u64"},{name:"withdrawal_last_processed_batch_id",type:"u64"},{name:"withdrawal_last_batch_enqueued_at",type:"i64"},{name:"withdrawal_last_batch_processed_at",type:"i64"},{name:"withdrawal_pending_batch",type:{defined:{name:"WithdrawalBatch"}}},{name:"_padding2",type:{array:["u8",15]}},{name:"withdrawal_num_queued_batches",type:"u8"},{name:"withdrawal_queued_batches",type:{array:[{defined:{name:"WithdrawalBatch"}},10]}},{name:"_reserved",type:{array:["u8",56]}},{name:"withdrawable_value_as_receipt_token_amount",docs:["receipt token amount that users can request to withdraw with the given asset from the fund.","it can be conditionally inaccurate on price changes among multiple assets, so make sure to update this properly before any use of it.","do not make any hard limit constraints with this value from off-chain. a requested withdrawal amount will be adjusted on-chain based on the status."],type:"u64"},{name:"withdrawal_user_reserved_amount",docs:["informative: reserved amount that users can claim for processed withdrawal requests, which is not accounted for as an asset of the fund."],type:"u64"},{name:"operation_receivable_amount",docs:["asset: receivable amount that the fund may charge the users requesting withdrawals.","It is accrued during either the preparation of the withdrawal obligation or rebalancing of LST like fees from (un)staking or (un)restaking.","And it shall be settled by the withdrawal fee normally. And it also can be written off by a donation operation.","Then it costs the rebalancing expense to the capital of the fund itself as an operation cost instead of charging the users requesting withdrawals."],type:"u64"},{name:"operation_reserved_amount",docs:["asset: remaining asset for cash-in/out"],type:"u64"}]}},{name:"ClaimUnrestakedVSTCommand",type:{kind:"struct",fields:[{name:"items",type:{vec:{defined:{name:"ClaimUnrestakedVSTCommandItem"}}}},{name:"state",type:{defined:{name:"ClaimUnrestakedVSTCommandState"}}}]}},{name:"ClaimUnrestakedVSTCommandItem",type:{kind:"struct",fields:[{name:"vault_address",type:"pubkey"}]}},{name:"ClaimUnrestakedVSTCommandResult",type:{kind:"struct",fields:[]}},{name:"ClaimUnrestakedVSTCommandState",type:{kind:"enum",variants:[{name:"Init"},{name:"Init2"},{name:"ReadVaultState"},{name:"Claim",fields:[{defined:{name:"ClaimableUnrestakeWithdrawalStatus"}}]},{name:"SetupDenormalize",fields:["u64"]},{name:"Denormalize",fields:[{vec:{defined:{name:"DenormalizeSupportedTokenAsset"}}}]}]}},{name:"ClaimUnstakedSOLCommand",type:{kind:"struct",fields:[{name:"items",type:{vec:{defined:{name:"ClaimUnstakedSOLCommandItem"}}}},{name:"state",type:{defined:{name:"ClaimUnstakedSOLCommandState"}}}]}},{name:"ClaimUnstakedSOLCommandItem",type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"fund_stake_accounts",type:{vec:"pubkey"}}]}},{name:"ClaimUnstakedSOLCommandResult",type:{kind:"struct",fields:[]}},{name:"ClaimUnstakedSOLCommandState",type:{kind:"enum",variants:[{name:"Init"},{name:"ReadPoolState"},{name:"Claim"}]}},{name:"ClaimableUnrestakeWithdrawalStatus",type:{kind:"struct",fields:[{name:"withdrawal_tickets",type:{vec:{defined:{name:"ClaimableUnrestakeWithdrawalTicket"}}}},{name:"expected_ncn_epoch",type:"u64"},{name:"delayed_ncn_epoch",type:"u64"},{name:"unrestaked_vst_amount",type:"u64"}]}},{name:"ClaimableUnrestakeWithdrawalTicket",type:{kind:"struct",fields:[{name:"withdrawal_ticket_account",type:"pubkey"},{name:"withdrawal_ticket_token_account",type:"pubkey"}]}},{name:"DelegateVSTCommand",type:{kind:"struct",fields:[]}},{name:"DelegateVSTCommandResult",type:{kind:"struct",fields:[]}},{name:"DenormalizeNTCommand",type:{kind:"struct",fields:[]}},{name:"DenormalizeNTCommandResult",type:{kind:"struct",fields:[]}},{name:"DenormalizeSupportedTokenAsset",type:{kind:"struct",fields:[{name:"operation_reserved_amount",type:"u64"},{name:"token_mint",type:"pubkey"},{name:"token_program",type:"pubkey"}]}},{name:"DepositMetadata",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"wallet_provider",type:"string"},{name:"contribution_accrual_rate",type:"u8"},{name:"expired_at",type:"i64"}]}},{name:"EnqueueWithdrawalBatchCommand",type:{kind:"struct",fields:[{name:"forced",type:"bool"}]}},{name:"EnqueueWithdrawalBatchCommandResult",type:{kind:"struct",fields:[{name:"enqueued_receipt_token_amount",type:"u64"},{name:"total_queued_receipt_token_amount",type:"u64"}]}},{name:"FundAccount",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"data_version",type:"u16"},{name:"bump",type:"u8"},{name:"reserve_account_bump",type:"u8"},{name:"treasury_account_bump",type:"u8"},{name:"_padding",type:{array:["u8",10]}},{name:"transfer_enabled",type:"u8"},{name:"receipt_token_mint",docs:["receipt token information"],type:"pubkey"},{name:"receipt_token_program",type:"pubkey"},{name:"receipt_token_decimals",type:"u8"},{name:"_padding2",type:{array:["u8",7]}},{name:"receipt_token_supply_amount",type:"u64"},{name:"one_receipt_token_as_sol",type:"u64"},{name:"receipt_token_value_updated_slot",type:"u64"},{name:"receipt_token_value",type:{defined:{name:"TokenValuePod"}}},{name:"withdrawal_batch_threshold_interval_seconds",docs:["global withdrawal configurations"],type:"i64"},{name:"withdrawal_fee_rate_bps",type:"u16"},{name:"withdrawal_enabled",type:"u8"},{name:"deposit_enabled",type:"u8"},{name:"_padding4",type:{array:["u8",4]}},{name:"sol",docs:["SOL deposit & withdrawal"],type:{defined:{name:"AssetState"}}},{name:"_padding6",docs:["underlying assets"],type:{array:["u8",15]}},{name:"num_supported_tokens",type:"u8"},{name:"supported_tokens",type:{array:[{defined:{name:"SupportedToken"}},30]}},{name:"normalized_token",docs:["optional basket of underlying assets"],type:{defined:{name:"NormalizedToken"}}},{name:"_padding7",docs:["investments"],type:{array:["u8",15]}},{name:"num_restaking_vaults",type:"u8"},{name:"restaking_vaults",type:{array:[{defined:{name:"RestakingVault"}},30]}},{name:"operation",docs:["fund operation state"],type:{defined:{name:"OperationState"}}}]}},{name:"FundManagerUpdatedFund",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"fund_account",type:"pubkey"}]}},{name:"FundManagerUpdatedRewardPool",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"reward_account",type:"pubkey"}]}},{name:"FundWithdrawalBatchAccount",type:{kind:"struct",fields:[{name:"data_version",type:"u16"},{name:"bump",type:"u8"},{name:"receipt_token_mint",type:"pubkey"},{name:"supported_token_mint",type:{option:"pubkey"}},{name:"supported_token_program",type:{option:"pubkey"}},{name:"batch_id",type:"u64"},{name:"num_requests",type:"u64"},{name:"num_claimed_requests",type:"u64"},{name:"receipt_token_amount",type:"u64"},{name:"claimed_receipt_token_amount",type:"u64"},{name:"asset_user_amount",docs:["asset to be withdrawn"],type:"u64"},{name:"claimed_asset_user_amount",type:"u64"},{name:"asset_fee_amount",docs:["informative: withdrawal fee is already paid to the treasury account, just informative."],type:"u64"},{name:"processed_at",type:"i64"},{name:"_reserved",type:{array:["u8",32]}}]}},{name:"HarvestRewardCommand",type:{kind:"struct",fields:[]}},{name:"HarvestRewardCommandResult",type:{kind:"struct",fields:[]}},{name:"InitializeCommand",type:{kind:"struct",fields:[{name:"state",type:{defined:{name:"InitializeCommandState"}}}]}},{name:"InitializeCommandRestakingVaultUpdateItem",type:{kind:"struct",fields:[{name:"vault",type:"pubkey"},{name:"delegations_updated_bitmap",type:{vec:"bool"}}]}},{name:"InitializeCommandResult",type:{kind:"struct",fields:[{name:"restaking_vault_updated",type:{option:{defined:{name:"InitializeCommandResultRestakingVaultUpdated"}}}}]}},{name:"InitializeCommandResultRestakingVaultDelegationUpdate",type:{kind:"struct",fields:[{name:"operator",type:"pubkey"},{name:"delegated_amount",type:"u64"},{name:"undelegating_amount",type:"u64"}]}},{name:"InitializeCommandResultRestakingVaultUpdated",type:{kind:"struct",fields:[{name:"vault",type:"pubkey"},{name:"epoch",type:"u64"},{name:"finalized",type:"bool"},{name:"supported_token_mint",type:"pubkey"},{name:"delegations",type:{vec:{defined:{name:"InitializeCommandResultRestakingVaultDelegationUpdate"}}}}]}},{name:"InitializeCommandState",type:{kind:"enum",variants:[{name:"New"},{name:"PrepareSingleRestakingVaultUpdate",fields:[{name:"vault",type:"pubkey"},{name:"operator",type:"pubkey"}]},{name:"PrepareRestakingVaultUpdate",fields:[{name:"items",type:{vec:{defined:{name:"InitializeCommandRestakingVaultUpdateItem"}}}}]},{name:"ExecuteRestakingVaultUpdate",fields:[{name:"items",type:{vec:{defined:{name:"InitializeCommandRestakingVaultUpdateItem"}}}}]}]}},{name:"NormalizeSTCommand",type:{kind:"struct",fields:[{name:"state",type:{defined:{name:"NormalizeSTCommandState"}}}]}},{name:"NormalizeSTCommandItem",type:{kind:"struct",fields:[{name:"supported_token_mint",type:"pubkey"},{name:"allocated_token_amount",type:"u64"}]}},{name:"NormalizeSTCommandResult",type:{kind:"struct",fields:[{name:"supported_token_mint",type:"pubkey"},{name:"normalized_supported_token_amount",type:"u64"},{name:"minted_token_amount",type:"u64"},{name:"operation_reserved_token_amount",type:"u64"}]}},{name:"NormalizeSTCommandState",type:{kind:"enum",variants:[{name:"New"},{name:"Prepare",fields:[{name:"items",type:{vec:{defined:{name:"NormalizeSTCommandItem"}}}}]},{name:"Execute",fields:[{name:"items",type:{vec:{defined:{name:"NormalizeSTCommandItem"}}}}]}]}},{name:"NormalizedClaimableToken",type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"program",type:"pubkey"},{name:"claimable_amount",type:"u64"},{name:"claimed",type:"bool"}]}},{name:"NormalizedSupportedToken",type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"program",type:"pubkey"},{name:"reserve_account",type:"pubkey"},{name:"locked_amount",type:"u64"},{name:"decimals",type:"u8"},{name:"withdrawal_reserved_amount",type:"u64"},{name:"one_token_as_sol",type:"u64"},{name:"pricing_source",type:{defined:{name:"TokenPricingSource"}}},{name:"_reserved",type:{array:["u8",14]}}]}},{name:"NormalizedToken",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"program",type:"pubkey"},{name:"decimals",type:"u8"},{name:"enabled",type:"u8"},{name:"_padding",type:{array:["u8",6]}},{name:"pricing_source",type:{defined:{name:"TokenPricingSourcePod"}}},{name:"one_token_as_sol",type:"u64"},{name:"operation_reserved_amount",type:"u64"},{name:"_reserved",type:{array:["u8",64]}}]}},{name:"NormalizedTokenPoolAccount",type:{kind:"struct",fields:[{name:"data_version",type:"u16"},{name:"bump",type:"u8"},{name:"normalized_token_mint",type:"pubkey"},{name:"normalized_token_program",type:"pubkey"},{name:"supported_tokens",type:{vec:{defined:{name:"NormalizedSupportedToken"}}}},{name:"normalized_token_decimals",type:"u8"},{name:"normalized_token_supply_amount",type:"u64"},{name:"normalized_token_value",type:{defined:{name:"TokenValue"}}},{name:"normalized_token_value_updated_slot",type:"u64"},{name:"one_normalized_token_as_sol",type:"u64"},{name:"_reserved",type:{array:["u8",128]}}]}},{name:"NormalizedTokenWithdrawalAccount",type:{kind:"struct",fields:[{name:"data_version",type:"u16"},{name:"bump",type:"u8"},{name:"withdrawal_authority",type:"pubkey"},{name:"normalized_token_mint",type:"pubkey"},{name:"normalized_token_pool",type:"pubkey"},{name:"normalized_token_amount",type:"u64"},{name:"claimable_tokens",type:{vec:{defined:{name:"NormalizedClaimableToken"}}}},{name:"created_at",type:"i64"},{name:"_reserved",type:{array:["u8",32]}}]}},{name:"OperationCommand",type:{kind:"enum",variants:[{name:"Initialize",fields:[{defined:{name:"InitializeCommand"}}]},{name:"EnqueueWithdrawalBatch",fields:[{defined:{name:"EnqueueWithdrawalBatchCommand"}}]},{name:"ClaimUnrestakedVST",fields:[{defined:{name:"ClaimUnrestakedVSTCommand"}}]},{name:"DenormalizeNT",fields:[{defined:{name:"DenormalizeNTCommand"}}]},{name:"UndelegateVST",fields:[{defined:{name:"UndelegateVSTCommand"}}]},{name:"UnrestakeVRT",fields:[{defined:{name:"UnrestakeVRTCommand"}}]},{name:"ClaimUnstakedSOL",fields:[{defined:{name:"ClaimUnstakedSOLCommand"}}]},{name:"UnstakeLST",fields:[{defined:{name:"UnstakeLSTCommand"}}]},{name:"ProcessWithdrawalBatch",fields:[{defined:{name:"ProcessWithdrawalBatchCommand"}}]},{name:"StakeSOL",fields:[{defined:{name:"StakeSOLCommand"}}]},{name:"NormalizeST",fields:[{defined:{name:"NormalizeSTCommand"}}]},{name:"RestakeVST",fields:[{defined:{name:"RestakeVSTCommand"}}]},{name:"DelegateVST",fields:[{defined:{name:"DelegateVSTCommand"}}]},{name:"HarvestReward",fields:[{defined:{name:"HarvestRewardCommand"}}]}]}},{name:"OperationCommandAccountMeta",type:{kind:"struct",fields:[{name:"pubkey",type:"pubkey"},{name:"is_writable",type:"bool"}]}},{name:"OperationCommandAccountMetaPod",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pubkey",type:"pubkey"},{name:"is_writable",type:"u8"},{name:"_padding",type:{array:["u8",7]}}]}},{name:"OperationCommandEntry",type:{kind:"struct",fields:[{name:"command",type:{defined:{name:"OperationCommand"}}},{name:"required_accounts",type:{vec:{defined:{name:"OperationCommandAccountMeta"}}}}]}},{name:"OperationCommandEntryPod",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"num_required_accounts",type:"u8"},{name:"_padding",type:{array:["u8",7]}},{name:"required_accounts",type:{array:[{defined:{name:"OperationCommandAccountMetaPod"}},32]}},{name:"command",type:{defined:{name:"OperationCommandPod"}}}]}},{name:"OperationCommandPod",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"discriminant",type:"u8"},{name:"buffer",type:{array:["u8",2535]}}]}},{name:"OperationCommandResult",type:{kind:"enum",variants:[{name:"Initialize",fields:[{defined:{name:"InitializeCommandResult"}}]},{name:"EnqueueWithdrawalBatch",fields:[{defined:{name:"EnqueueWithdrawalBatchCommandResult"}}]},{name:"ClaimUnrestakedVST",fields:[{defined:{name:"ClaimUnrestakedVSTCommandResult"}}]},{name:"DenormalizeNT",fields:[{defined:{name:"DenormalizeNTCommandResult"}}]},{name:"UndelegateVST",fields:[{defined:{name:"UndelegateVSTCommandResult"}}]},{name:"UnrestakeVRT",fields:[{defined:{name:"UnrestakeVRTCommandResult"}}]},{name:"ClaimUnstakedSOL",fields:[{defined:{name:"ClaimUnstakedSOLCommandResult"}}]},{name:"UnstakeLST",fields:[{defined:{name:"UnstakeLSTCommandResult"}}]},{name:"ProcessWithdrawalBatch",fields:[{defined:{name:"ProcessWithdrawalBatchCommandResult"}}]},{name:"StakeSOL",fields:[{defined:{name:"StakeSOLCommandResult"}}]},{name:"NormalizeST",fields:[{defined:{name:"NormalizeSTCommandResult"}}]},{name:"RestakeVST",fields:[{defined:{name:"RestakeVSTCommandResult"}}]},{name:"DelegateVST",fields:[{defined:{name:"DelegateVSTCommandResult"}}]},{name:"HarvestReward",fields:[{defined:{name:"HarvestRewardCommandResult"}}]}]}},{name:"OperationState",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"updated_slot",type:"u64"},{name:"updated_at",type:"i64"},{name:"expired_at",type:"i64"},{name:"_padding",type:{array:["u8",5]}},{name:"no_transition",docs:["when the no_transition flag turned on, current command should not be transitioned to other command.","the purpose of this flag is for internal testing by set boundary of the reset command operation."],type:"u8"},{name:"next_sequence",type:"u16"},{name:"num_operated",type:"u64"},{name:"next_command",type:{defined:{name:"OperationCommandEntryPod"}}},{name:"_reserved",type:{array:["u8",128]}}]}},{name:"OperatorDonatedToFund",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"fund_account",type:"pubkey"},{name:"supported_token_mint",type:{option:"pubkey"}},{name:"donated_amount",type:"u64"},{name:"deposited_amount",type:"u64"},{name:"offsetted_receivable_amount",type:"u64"}]}},{name:"OperatorRanFundCommand",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"fund_account",type:"pubkey"},{name:"next_sequence",type:"u16"},{name:"num_operated",type:"u64"},{name:"command",type:{defined:{name:"OperationCommand"}}},{name:"result",type:{option:{defined:{name:"OperationCommandResult"}}}}]}},{name:"OperatorUpdatedFundPrices",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"fund_account",type:"pubkey"}]}},{name:"OperatorUpdatedNormalizedTokenPoolPrices",type:{kind:"struct",fields:[{name:"normalized_token_mint",type:"pubkey"},{name:"normalized_token_pool_account",type:"pubkey"}]}},{name:"OperatorUpdatedRewardPools",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"reward_account",type:"pubkey"}]}},{name:"ProcessWithdrawalBatchCommand",type:{kind:"struct",fields:[{name:"state",type:{defined:{name:"ProcessWithdrawalBatchCommandState"}}},{name:"forced",type:"bool"}]}},{name:"ProcessWithdrawalBatchCommandResult",type:{kind:"struct",fields:[{name:"requested_receipt_token_amount",type:"u64"},{name:"processed_receipt_token_amount",type:"u64"},{name:"asset_token_mint",type:{option:"pubkey"}},{name:"reserved_asset_user_amount",type:"u64"},{name:"deducted_asset_fee_amount",type:"u64"},{name:"offsetted_asset_receivables",type:{vec:{defined:{name:"ProcessWithdrawalBatchCommandResultAssetReceivable"}}}},{name:"transferred_asset_revenue_amount",type:"u64"},{name:"withdrawal_fee_rate_bps",type:"u16"}]}},{name:"ProcessWithdrawalBatchCommandResultAssetReceivable",type:{kind:"struct",fields:[{name:"asset_token_mint",type:{option:"pubkey"}},{name:"asset_amount",type:"u64"}]}},{name:"ProcessWithdrawalBatchCommandState",type:{kind:"enum",variants:[{name:"New"},{name:"Prepare",fields:[{name:"asset_token_mint",type:{option:"pubkey"}}]},{name:"Execute",fields:[{name:"asset_token_mint",type:{option:"pubkey"}},{name:"num_processing_batches",type:"u8"},{name:"receipt_token_amount",type:"u64"}]}]}},{name:"RestakeVSTCommand",type:{kind:"struct",fields:[{name:"state",type:{defined:{name:"RestakeVSTCommandState"}}}]}},{name:"RestakeVSTCommandItem",type:{kind:"struct",fields:[{name:"vault",type:"pubkey"},{name:"supported_token_mint",type:"pubkey"},{name:"allocated_token_amount",type:"u64"}]}},{name:"RestakeVSTCommandResult",type:{kind:"struct",fields:[{name:"supported_token_mint",type:"pubkey"},{name:"deposited_supported_token_amount",type:"u64"},{name:"deducted_supported_token_fee_amount",type:"u64"},{name:"minted_token_amount",type:"u64"},{name:"operation_reserved_token_amount",type:"u64"}]}},{name:"RestakeVSTCommandState",type:{kind:"enum",variants:[{name:"New"},{name:"Prepare",fields:[{name:"items",type:{vec:{defined:{name:"RestakeVSTCommandItem"}}}}]},{name:"Execute",fields:[{name:"items",type:{vec:{defined:{name:"RestakeVSTCommandItem"}}}}]}]}},{name:"RestakingVault",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"vault",type:"pubkey"},{name:"program",type:"pubkey"},{name:"supported_token_mint",type:"pubkey"},{name:"receipt_token_mint",type:"pubkey"},{name:"receipt_token_program",type:"pubkey"},{name:"receipt_token_decimals",type:"u8"},{name:"_padding",type:{array:["u8",7]}},{name:"one_receipt_token_as_sol",docs:["transient price"],type:"u64"},{name:"receipt_token_pricing_source",type:{defined:{name:"TokenPricingSourcePod"}}},{name:"receipt_token_operation_reserved_amount",type:"u64"},{name:"receipt_token_operation_receivable_amount",docs:["the amount of vrt being unrestaked"],type:"u64"},{name:"sol_allocation_weight",docs:["configuration: used for restaking allocation strategy."],type:"u64"},{name:"sol_allocation_capacity_amount",type:"u64"},{name:"_padding2",type:{array:["u8",7]}},{name:"num_delegations",type:"u8"},{name:"delegations",type:{array:[{defined:{name:"RestakingVaultDelegation"}},30]}},{name:"compounding_reward_token_mints",docs:["auto-compounding"],type:{array:["pubkey",10]}},{name:"_reserved",type:{array:["u8",128]}}]}},{name:"RestakingVaultDelegation",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"operator",type:"pubkey"},{name:"supported_token_allocation_weight",docs:["configuration: used for delegation strategy."],type:"u64"},{name:"supported_token_allocation_capacity_amount",type:"u64"},{name:"supported_token_delegated_amount",docs:["informative field; these values shall be synced from remote state periodically."],type:"u64"},{name:"supported_token_undelegating_amount",type:"u64"},{name:"supported_token_redelegating_amount",docs:["configuration: the amount requested to be undelegated as soon as possible regardless of current state, this value should be decreased by each undelegation requested amount."],type:"u64"},{name:"_reserved",type:{array:["u8",24]}}]}},{name:"Reward",docs:["Reward type."],serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"id",docs:["ID is determined by reward account."],type:"u16"},{name:"name",type:{array:["u8",14]}},{name:"description",type:{array:["u8",128]}},{name:"reward_type_discriminant",type:"u8"},{name:"token_mint",type:"pubkey"},{name:"token_program",type:"pubkey"},{name:"decimals",type:"u8"},{name:"_padding",type:{array:["u8",14]}},{name:"_reserved",type:{array:["u64",16]}}]}},{name:"RewardAccount",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"data_version",type:"u16"},{name:"bump",type:"u8"},{name:"receipt_token_mint",type:"pubkey"},{name:"max_holders",type:"u8"},{name:"max_rewards",type:"u16"},{name:"max_reward_pools",type:"u8"},{name:"num_holders",type:"u8"},{name:"num_rewards",type:"u16"},{name:"num_reward_pools",type:"u8"},{name:"_padding",type:{array:["u8",5]}},{name:"holders_1",type:{array:[{defined:{name:"RewardPoolHolder"}},4]}},{name:"rewards_1",type:{array:[{defined:{name:"Reward"}},16]}},{name:"reward_pools_1",type:{array:[{defined:{name:"RewardPool"}},4]}}]}},{name:"RewardPool",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"id",docs:["ID is determined by reward account."],type:"u8"},{name:"name",type:{array:["u8",14]}},{name:"reward_pool_bitmap",type:"u8"},{name:"token_allocated_amount",type:{defined:{name:"TokenAllocatedAmount"}}},{name:"contribution",type:"u128"},{name:"initial_slot",type:"u64"},{name:"updated_slot",type:"u64"},{name:"closed_slot",type:"u64"},{name:"holder_id",type:"u8"},{name:"num_reward_settlements",type:"u8"},{name:"_padding",type:{array:["u8",6]}},{name:"_reserved",type:{array:["u64",32]}},{name:"reward_settlements_1",type:{array:[{defined:{name:"RewardSettlement"}},16]}}]}},{name:"RewardPoolHolder",docs:["Reward pool holder type."],serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"id",docs:["ID is determined by reward account."],type:"u8"},{name:"name",type:{array:["u8",14]}},{name:"description",type:{array:["u8",128]}},{name:"num_pubkeys",type:"u8"},{name:"_reserved",type:{array:["u64",32]}},{name:"pubkeys_1",docs:["List of allowed pubkeys for this holder."],type:{array:["pubkey",8]}}]}},{name:"RewardSettlement",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"reward_id",type:"u16"},{name:"reward_pool_id",type:"u8"},{name:"num_settlement_blocks",type:"u8"},{name:"settlement_blocks_head",type:"u8"},{name:"settlement_blocks_tail",type:"u8"},{name:"_padding",type:{array:["u8",2]}},{name:"remaining_amount",docs:["Leftovers from each settlement block when clearing"],type:"u64"},{name:"claimed_amount",type:"u64"},{name:"claimed_amount_updated_slot",type:"u64"},{name:"settled_amount",type:"u64"},{name:"settlement_blocks_last_slot",type:"u64"},{name:"settlement_blocks_last_reward_pool_contribution",type:"u128"},{name:"settlement_blocks",type:{array:[{defined:{name:"RewardSettlementBlock"}},64]}}]}},{name:"RewardSettlementBlock",docs:["Exact settlement block range: [`starting_slot`, `ending_slot`)"],serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"amount",type:"u64"},{name:"starting_slot",type:"u64"},{name:"starting_reward_pool_contribution",type:"u128"},{name:"ending_reward_pool_contribution",type:"u128"},{name:"ending_slot",type:"u64"},{name:"user_settled_amount",type:"u64"},{name:"user_settled_contribution",type:"u128"}]}},{name:"RewardType",type:{kind:"enum",variants:[{name:"Point",fields:[{name:"decimals",type:"u8"}]},{name:"Token",fields:[{name:"mint",type:"pubkey"},{name:"program",type:"pubkey"},{name:"decimals",type:"u8"}]},{name:"SOL"}]}},{name:"SplWithdrawStakeItem",type:{kind:"struct",fields:[{name:"validator_stake_account",type:"pubkey"},{name:"fund_stake_account",type:"pubkey"},{name:"fund_stake_account_signer_seeds",type:{vec:"bytes"}},{name:"token_amount",type:"u64"}]}},{name:"StakeSOLCommand",type:{kind:"struct",fields:[{name:"state",type:{defined:{name:"StakeSOLCommandState"}}}]}},{name:"StakeSOLCommandItem",type:{kind:"struct",fields:[{name:"token_mint",type:"pubkey"},{name:"allocated_sol_amount",type:"u64"}]}},{name:"StakeSOLCommandResult",type:{kind:"struct",fields:[{name:"token_mint",type:"pubkey"},{name:"staked_sol_amount",type:"u64"},{name:"deducted_sol_fee_amount",type:"u64"},{name:"minted_token_amount",type:"u64"},{name:"operation_reserved_token_amount",type:"u64"}]}},{name:"StakeSOLCommandState",type:{kind:"enum",variants:[{name:"New"},{name:"Prepare",fields:[{name:"items",type:{vec:{defined:{name:"StakeSOLCommandItem"}}}}]},{name:"Execute",fields:[{name:"items",type:{vec:{defined:{name:"StakeSOLCommandItem"}}}}]}]}},{name:"SupportedToken",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"program",type:"pubkey"},{name:"decimals",type:"u8"},{name:"_padding",type:{array:["u8",7]}},{name:"pricing_source",type:{defined:{name:"TokenPricingSourcePod"}}},{name:"one_token_as_sol",docs:["informative"],type:"u64"},{name:"token",docs:["token deposit & withdrawal"],type:{defined:{name:"AssetState"}}},{name:"rebalancing_amount",docs:["configuration: the amount requested to be unstaked as soon as possible regardless of current state, this value should be decreased by each unstaking requested amount."],type:"u64"},{name:"sol_allocation_weight",docs:["configuration: used for staking allocation strategy."],type:"u64"},{name:"sol_allocation_capacity_amount",type:"u64"},{name:"_reserved",type:{array:["u8",64]}}]}},{name:"TokenAllocatedAmount",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"total_amount",type:"u64"},{name:"num_records",type:"u8"},{name:"_padding",type:{array:["u8",7]}},{name:"records",type:{array:[{defined:{name:"TokenAllocatedAmountRecord"}},10]}}]}},{name:"TokenAllocatedAmountRecord",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"amount",type:"u64"},{name:"contribution_accrual_rate",docs:["Contribution accrual rate per 1 lamports (decimals = 2)","e.g., rate = 135 => actual rate = 1.35"],type:"u8"},{name:"_padding",type:{array:["u8",7]}}]}},{name:"TokenPricingSource",type:{kind:"enum",variants:[{name:"SPLStakePool",fields:[{name:"address",type:"pubkey"}]},{name:"MarinadeStakePool",fields:[{name:"address",type:"pubkey"}]},{name:"JitoRestakingVault",fields:[{name:"address",type:"pubkey"}]},{name:"FragmetricNormalizedTokenPool",fields:[{name:"address",type:"pubkey"}]},{name:"FragmetricRestakingFund",fields:[{name:"address",type:"pubkey"}]},{name:"OrcaDEXLiquidityPool",fields:[{name:"address",type:"pubkey"}]}]}},{name:"TokenPricingSourcePod",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"discriminant",type:"u8"},{name:"_padding",type:{array:["u8",7]}},{name:"address",type:"pubkey"}]}},{name:"TokenValue",docs:["a value representing total asset value of a pricing source."],type:{kind:"struct",fields:[{name:"numerator",type:{vec:{defined:{name:"Asset"}}}},{name:"denominator",type:"u64"}]}},{name:"TokenValuePod",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"numerator",type:{array:[{defined:{name:"AssetPod"}},33]}},{name:"num_numerator",type:"u64"},{name:"denominator",type:"u64"}]}},{name:"UndelegateVSTCommand",type:{kind:"struct",fields:[]}},{name:"UndelegateVSTCommandResult",type:{kind:"struct",fields:[]}},{name:"UnrestakeVRTCommand",type:{kind:"struct",fields:[{name:"items",type:{vec:{defined:{name:"UnrestakeVSTCommandItem"}}}},{name:"state",type:{defined:{name:"UnrestakeVRTCommandState"}}}]}},{name:"UnrestakeVRTCommandResult",type:{kind:"struct",fields:[]}},{name:"UnrestakeVRTCommandState",type:{kind:"enum",variants:[{name:"Init"},{name:"ReadVaultState"},{name:"Unstake",fields:[{vec:"bytes"}]}]}},{name:"UnrestakeVSTCommandItem",type:{kind:"struct",fields:[{name:"vault_address",type:"pubkey"},{name:"sol_amount",type:"u64"}]}},{name:"UnstakeLSTCommand",type:{kind:"struct",fields:[{name:"items",type:{vec:{defined:{name:"UnstakeLSTCommandItem"}}}},{name:"state",type:{defined:{name:"UnstakeLSTCommandState"}}},{name:"spl_withdraw_stake_items",type:{vec:{defined:{name:"SplWithdrawStakeItem"}}}}]}},{name:"UnstakeLSTCommandItem",type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"token_amount",type:"u64"}]}},{name:"UnstakeLSTCommandResult",type:{kind:"struct",fields:[]}},{name:"UnstakeLSTCommandState",type:{kind:"enum",variants:[{name:"Init"},{name:"ReadPoolState"},{name:"GetAvailableUnstakeAccount"},{name:"Unstake"},{name:"RequestUnstake"}]}},{name:"UserCanceledWithdrawalRequestFromFund",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"fund_account",type:"pubkey"},{name:"supported_token_mint",type:{option:"pubkey"}},{name:"updated_user_reward_accounts",type:{vec:"pubkey"}},{name:"user",type:"pubkey"},{name:"user_receipt_token_account",type:"pubkey"},{name:"user_fund_account",type:"pubkey"},{name:"batch_id",type:"u64"},{name:"request_id",type:"u64"},{name:"requested_receipt_token_amount",type:"u64"}]}},{name:"UserCreatedOrUpdatedFundAccount",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"user_fund_account",type:"pubkey"}]}},{name:"UserCreatedOrUpdatedRewardAccount",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"user_reward_account",type:"pubkey"}]}},{name:"UserDepositedToFund",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"fund_account",type:"pubkey"},{name:"supported_token_mint",type:{option:"pubkey"}},{name:"updated_user_reward_accounts",type:{vec:"pubkey"}},{name:"user",type:"pubkey"},{name:"user_receipt_token_account",type:"pubkey"},{name:"user_fund_account",type:"pubkey"},{name:"user_supported_token_account",type:{option:"pubkey"}},{name:"wallet_provider",type:{option:"string"}},{name:"contribution_accrual_rate",type:{option:"u8"}},{name:"deposited_amount",type:"u64"},{name:"minted_receipt_token_amount",type:"u64"}]}},{name:"UserFundAccount",type:{kind:"struct",fields:[{name:"data_version",type:"u16"},{name:"bump",type:"u8"},{name:"receipt_token_mint",type:"pubkey"},{name:"user",type:"pubkey"},{name:"receipt_token_amount",type:"u64"},{name:"_reserved",type:{array:["u8",32]}},{name:"withdrawal_requests",type:{vec:{defined:{name:"WithdrawalRequest"}}}}]}},{name:"UserRequestedWithdrawalFromFund",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"fund_account",type:"pubkey"},{name:"supported_token_mint",type:{option:"pubkey"}},{name:"updated_user_reward_accounts",type:{vec:"pubkey"}},{name:"user",type:"pubkey"},{name:"user_receipt_token_account",type:"pubkey"},{name:"user_fund_account",type:"pubkey"},{name:"batch_id",type:"u64"},{name:"request_id",type:"u64"},{name:"requested_receipt_token_amount",type:"u64"}]}},{name:"UserRewardAccount",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"data_version",type:"u16"},{name:"bump",type:"u8"},{name:"receipt_token_mint",type:"pubkey"},{name:"user",type:"pubkey"},{name:"num_user_reward_pools",type:"u8"},{name:"max_user_reward_pools",type:"u8"},{name:"_padding",type:{array:["u8",11]}},{name:"user_reward_pools_1",type:{array:[{defined:{name:"UserRewardPool"}},4]}}]}},{name:"UserRewardPool",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"token_allocated_amount",type:{defined:{name:"TokenAllocatedAmount"}}},{name:"contribution",type:"u128"},{name:"updated_slot",type:"u64"},{name:"reward_pool_id",type:"u8"},{name:"num_reward_settlements",type:"u8"},{name:"_padding",type:{array:["u8",6]}},{name:"_reserved",type:{array:["u64",8]}},{name:"reward_settlements_1",type:{array:[{defined:{name:"UserRewardSettlement"}},16]}}]}},{name:"UserRewardSettlement",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"reward_id",type:"u16"},{name:"_padding",type:{array:["u8",6]}},{name:"settled_amount",type:"u64"},{name:"settled_contribution",type:"u128"},{name:"settled_slot",type:"u64"},{name:"claimed_amount",type:"u64"}]}},{name:"UserTransferredReceiptToken",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"fund_account",type:"pubkey"},{name:"updated_user_reward_accounts",type:{vec:"pubkey"}},{name:"source",type:"pubkey"},{name:"source_receipt_token_account",type:"pubkey"},{name:"source_fund_account",type:{option:"pubkey"}},{name:"destination",type:"pubkey"},{name:"destination_receipt_token_account",type:"pubkey"},{name:"destination_fund_account",type:{option:"pubkey"}},{name:"transferred_receipt_token_amount",type:"u64"}]}},{name:"UserUpdatedRewardPool",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"updated_user_reward_accounts",type:{vec:"pubkey"}}]}},{name:"UserWithdrewFromFund",type:{kind:"struct",fields:[{name:"receipt_token_mint",type:"pubkey"},{name:"fund_account",type:"pubkey"},{name:"supported_token_mint",type:{option:"pubkey"}},{name:"user",type:"pubkey"},{name:"user_receipt_token_account",type:"pubkey"},{name:"user_fund_account",type:"pubkey"},{name:"user_supported_token_account",type:{option:"pubkey"}},{name:"fund_withdrawal_batch_account",type:"pubkey"},{name:"batch_id",type:"u64"},{name:"request_id",type:"u64"},{name:"burnt_receipt_token_amount",type:"u64"},{name:"returned_receipt_token_amount",type:"u64"},{name:"withdrawn_amount",type:"u64"},{name:"deducted_fee_amount",type:"u64"}]}},{name:"WithdrawalBatch",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"batch_id",type:"u64"},{name:"num_requests",type:"u64"},{name:"receipt_token_amount",type:"u64"},{name:"enqueued_at",type:"i64"},{name:"_reserved",type:{array:["u8",32]}}]}},{name:"WithdrawalRequest",type:{kind:"struct",fields:[{name:"batch_id",type:"u64"},{name:"request_id",type:"u64"},{name:"receipt_token_amount",type:"u64"},{name:"created_at",type:"i64"},{name:"supported_token_mint",type:{option:"pubkey"}},{name:"supported_token_program",type:{option:"pubkey"}},{name:"_reserved",type:{array:["u8",14]}}]}}],constants:[{name:"ADMIN_PUBKEY",type:"pubkey",value:"fragSkuEpEmdoj9Bcyawk9rBdsChcVJLWHfj9JX1Gby"},{name:"DEVNET_BSOL_MINT_ADDRESS",type:"pubkey",value:"bSo13r4TkiE4KumL71LsHTPpL2euBYLFx6h9HP3piy1"},{name:"DEVNET_BSOL_STAKE_POOL_ADDRESS",type:"pubkey",value:"azFVdHtAJN8BX3sbGAYkXvtdjdrT5U6rj9rovvUFos9"},{name:"DEVNET_MSOL_MINT_ADDRESS",type:"pubkey",value:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"},{name:"DEVNET_MSOL_STAKE_POOL_ADDRESS",type:"pubkey",value:"8szGkuLTAux9XMgZ2vtY39jVSowEcpBfFfD8hXSEqdGC"},{name:"DEVNET_NSOL_MINT_ADDRESS",type:"pubkey",value:"nSoLnkrvh2aY792pgCNT6hzx84vYtkviRzxvhf3ws8e"},{name:"DEVNET_PROGRAM_ID",type:"pubkey",value:"frag9zfFME5u1SNhUYGa4cXLzMKgZXF3xwZ2Y1KCYTQ"},{name:"FRAGSOL_ADDRESS_LOOKUP_TABLE_ADDRESS",type:"pubkey",value:"G45gQa12Uwvnrp2Yb9oWTSwZSEHZWL71QDWvyLz23bNc"},{name:"FRAGSOL_JITO_VAULT_ACCOUNT_ADDRESS",type:"pubkey",value:"HR1ANmDHjaEhknvsTaK48M5xZtbBiwNdXM5NTiWhAb4S"},{name:"FRAGSOL_JITO_VAULT_RECEIPT_TOKEN_MINT_ADDRESS",type:"pubkey",value:"CkXLPfDG3cDawtUvnztq99HdGoQWhJceBZxqKYL2TUrg"},{name:"FRAGSOL_MINT_ADDRESS",type:"pubkey",value:"FRAGSEthVFL7fdqM8hxfxkfCZzUvmg21cqPJVvC1qdbo"},{name:"FRAGSOL_NORMALIZED_TOKEN_MINT_ADDRESS",type:"pubkey",value:"nSoLnkrvh2aY792pgCNT6hzx84vYtkviRzxvhf3ws8e"},{name:"FUND_ACCOUNT_CURRENT_VERSION",docs:["## Version History","* v15: migrate to new layout including new fields using bytemuck. (150312 ~= 147KB)"],type:"u16",value:"15"},{name:"FUND_ACCOUNT_OPERATION_COMMAND_EXPIRATION_SECONDS",type:"i64",value:"600"},{name:"FUND_MANAGER_PUBKEY",type:"pubkey",value:"79AHDsvEiM4MNrv8GPysgiGPj1ZPmxviF3dw29akYC84"},{name:"JITO_VAULT_CONFIG_ADDRESS",type:"pubkey",value:"UwuSgAq4zByffCGCrWH87DsjfsewYjuqHfJEpzw1Jq3"},{name:"JITO_VAULT_PROGRAM_FEE_WALLET",type:"pubkey",value:"5eosrve6LktMZgVNszYzebgmmC7BjLK8NoWyRQtcmGTF"},{name:"JITO_VAULT_PROGRAM_ID",type:"pubkey",value:"Vau1t6sLNxnzB7ZDsef8TLbPLfyZMYXH8WTNqUdm9g8"},{name:"MAINNET_BNSOL_MINT_ADDRESS",type:"pubkey",value:"BNso1VUJnh4zcfpZa6986Ea66P6TCp59hvtNJ8b1X85"},{name:"MAINNET_BNSOL_STAKE_POOL_ADDRESS",type:"pubkey",value:"Hr9pzexrBge3vgmBNRR8u42CNQgBXdHm4UkUN2DH4a7r"},{name:"MAINNET_BSOL_MINT_ADDRESS",docs:["Below address are needed to be passed to transactions which includes pricing of tokens (token deposit, withdrawal request)\nA complete list will be provided to client via address lookup table later.\n*"],type:"pubkey",value:"bSo13r4TkiE4KumL71LsHTPpL2euBYLFx6h9HP3piy1"},{name:"MAINNET_BSOL_STAKE_POOL_ADDRESS",type:"pubkey",value:"stk9ApL5HeVAwPLr3TLhDXdZS8ptVu7zp6ov8HFDuMi"},{name:"MAINNET_JITOSOL_MINT_ADDRESS",type:"pubkey",value:"J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn"},{name:"MAINNET_JITOSOL_STAKE_POOL_ADDRESS",type:"pubkey",value:"Jito4APyf642JPZPx3hGc6WWJ8zPKtRbRs4P815Awbb"},{name:"MAINNET_MSOL_MINT_ADDRESS",type:"pubkey",value:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"},{name:"MAINNET_MSOL_STAKE_POOL_ADDRESS",type:"pubkey",value:"8szGkuLTAux9XMgZ2vtY39jVSowEcpBfFfD8hXSEqdGC"},{name:"MAINNET_NSOL_MINT_ADDRESS",type:"pubkey",value:"nSoLnkrvh2aY792pgCNT6hzx84vYtkviRzxvhf3ws8e"},{name:"MAINNET_PROGRAM_ID",type:"pubkey",value:"fragnAis7Bp6FTsMoa6YcH8UffhEw43Ph79qAiK3iF3"},{name:"NORMALIZED_TOKEN_POOL_ACCOUNT_CURRENT_VERSION",docs:["## Version History","* v1: Initial Version","* v2: Add `normalized_token_decimals`, .., `one_normalized_token_as_sol` fields"],type:"u16",value:"2"},{name:"NORMALIZED_TOKEN_WITHDRAWAL_ACCOUNT_CURRENT_VERSION",docs:["## Version History","* v1: Initial Version"],type:"u16",value:"1"},{name:"PROGRAM_REVENUE_ADDRESS",type:"pubkey",value:"XEhpR3UauMkARQ8ztwaU9Kbv16jEpBbXs9ftELka9wj"},{name:"REWARD_ACCOUNT_CURRENT_VERSION",docs:["## Version History","* v34: Initial Version (Data Size = 342064 ~= 335KB)"],type:"u16",value:"34"},{name:"TARGET",type:"string",value:'"mainnet"'},{name:"USER_REWARD_ACCOUNT_CURRENT_VERSION",docs:["## Version History","* v_1: Initial Version"],type:"u16",value:"1"}]};class Py extends Ny{constructor(e){var n,r,{receiptTokenMint:i,cluster:o="mainnet",idl:s=Cy}=e,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);}return n}(e,["receiptTokenMint","cluster","idl"]);const c=null!==(n=Py.programID[o])&&void 0!==n?n:new fo(s.address);super(Object.assign({cluster:o,programID:c,idl:s},a)),this.state={_fund:null,fund:(e=!1)=>t(this,void 0,void 0,(function*(){if(!e&&this.state._fund)return this.state._fund;const t=fo.findProgramAddressSync([Buffer.from("fund"),this.receiptTokenMint.toBuffer()],this.programID)[0];return this.state._fund=yield this.programAccounts.fundAccount.fetchNullable(t)})),_addressLookupTables:null,addressLookupTables:(e=!1)=>t(this,void 0,void 0,(function*(){if(!e&&this.state._addressLookupTables)return this.state._addressLookupTables;let t=null;if(this.receiptTokenMint.equals(Py.receiptTokenMint.fragSOL)&&(t=this.idl.getConstantAsPublicKey("fragsolAddressLookupTableAddress")),t){const e=yield this.connection.getAddressLookupTable(t,{commitment:"confirmed"}).then((e=>e.value));if(e)return this.state._addressLookupTables=[e]}return []})),_pricingSourcesAccountMeta:null,pricingSourcesAccountMeta:(e=!1)=>t(this,void 0,void 0,(function*(){if(!e&&this.state._pricingSourcesAccountMeta)return this.state._pricingSourcesAccountMeta;const t=[],n=yield this.state.fund(e);if(n){for(const e of n.supportedTokens.slice(0,n.numSupportedTokens))t.push(e.pricingSource.address);1==n.normalizedToken.enabled&&t.push(n.normalizedToken.pricingSource.address);for(const e of n.restakingVaults.slice(0,n.numRestakingVaults))t.push(e.receiptTokenPricingSource.address);}return this.state._pricingSourcesAccountMeta=t.map((e=>({pubkey:e,isSigner:!1,isWritable:!1})))}))},this.operator={updateFundPrices:({operator:e})=>t(this,void 0,void 0,(function*(){var t;return this.createTransactionMessage({descriptions:["update prices of the fund"],events:["operatorUpdatedFundPrices"],instructions:yield Promise.all([this.programMethods.operatorUpdateFundPrices().accountsPartial({operator:null!==(t=e.publicKey)&&void 0!==t?t:e,receiptTokenMint:this.receiptTokenMint}).remainingAccounts(yield this.state.pricingSourcesAccountMeta()).instruction()]),signers:{payer:e},addressLookupTables:yield this.state.addressLookupTables()})})),updateNormalizedTokenPoolPrices:({operator:e})=>t(this,void 0,void 0,(function*(){var t;const n=yield this.state.fund(),r=1==(null==n?void 0:n.normalizedToken.enabled)?n.normalizedToken:null;if(!r)throw new Error("normalized token is not enabled for the fund");return this.createTransactionMessage({descriptions:["update prices of the normalized token pool"],events:["operatorUpdatedNormalizedTokenPoolPrices"],instructions:yield Promise.all([this.programMethods.operatorUpdateNormalizedTokenPoolPrices().accountsPartial({operator:null!==(t=e.publicKey)&&void 0!==t?t:e,normalizedTokenMint:r.mint,normalizedTokenProgram:r.program}).remainingAccounts(yield this.state.pricingSourcesAccountMeta()).instruction()]),signers:{payer:e},addressLookupTables:yield this.state.addressLookupTables()})})),updateRewardPools:({operator:e})=>t(this,void 0,void 0,(function*(){var t;return this.createTransactionMessage({descriptions:["update reward pools of the fund"],events:["operatorUpdatedRewardPools"],instructions:yield Promise.all([this.programMethods.operatorUpdateRewardPools().accountsPartial({operator:null!==(t=e.publicKey)&&void 0!==t?t:e,receiptTokenMint:this.receiptTokenMint}).instruction()]),signers:{payer:e},addressLookupTables:yield this.state.addressLookupTables()})})),donateSOLToFund:({operator:e,amount:n,offsetReceivable:r})=>t(this,void 0,void 0,(function*(){var t;return this.createTransactionMessage({descriptions:["donate SOL to the fund",{amount:n,offsetReceivable:r}],events:["operatorDonatedToFund"],instructions:yield Promise.all([this.programMethods.operatorDonateSolToFund(n,r).accountsPartial({operator:null!==(t=e.publicKey)&&void 0!==t?t:e,receiptTokenMint:this.receiptTokenMint}).remainingAccounts(yield this.state.pricingSourcesAccountMeta()).instruction()]),signers:{payer:e},addressLookupTables:yield this.state.addressLookupTables()})}))},this.receiptTokenMint=null!==(r=Py.receiptTokenMint[i.toString()])&&void 0!==r?r:i;}}Py.programID={mainnet:new fo("fragnAis7Bp6FTsMoa6YcH8UffhEw43Ph79qAiK3iF3"),devnet:new fo("frag9zfFME5u1SNhUYGa4cXLzMKgZXF3xwZ2Y1KCYTQ"),testnet:null,local:null},Py.receiptTokenMint={fragSOL:new fo("FRAGSEthVFL7fdqM8hxfxkfCZzUvmg21cqPJVvC1qdbo")},e.Program=Ny,e.ProgramTransactionMessage=xy,e.RestakingProgram=Py;}));

    var fragmetric = /*#__PURE__*/Object.freeze({
        __proto__: null
    });

    document.addEventListener('DOMContentLoaded', () => __awaiter(void 0, void 0, void 0, function* () {
        console.log(fragmetric);
        // const solana = (window as any).solana;
        // const fragSOL = new RestakingProgram({
        //     cluster: 'devnet',
        //     connection: undefined, // default RPC
        //     idl: undefined, // default IDL
        //     receiptTokenMint: RestakingProgram.receiptTokenMint.fragSOL,
        // });
        //
        // // const tx = await fragSOL.operator.donateSOLToFund({amount: 100, offsetReceivable: false});
        //
        // function render() {
        //     if (solana.isConnected) {
        //         document.body.innerHTML = `
        //             <button onClick="solana.connectWallet()">Connect Wallet</button>
        //         `;
        //     }
        // }
        // render();
    }));

})();
//# sourceMappingURL=bundle.js.map
