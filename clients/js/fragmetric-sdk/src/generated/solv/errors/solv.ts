/**
 * This code was AUTOGENERATED using the codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  isProgramError,
  type Address,
  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,
  type SolanaError,
} from '@solana/kit';
import { SOLV_PROGRAM_ADDRESS } from '../programs';

/** InvalidAccountDataVersionError: invalid account data version */
export const SOLV_ERROR__INVALID_ACCOUNT_DATA_VERSION_ERROR = 0x1770; // 6000
/** CalculationArithmeticException: calculation arithmetic exception */
export const SOLV_ERROR__CALCULATION_ARITHMETIC_EXCEPTION = 0x1771; // 6001
/** VaultAdminMismatchError: vault admin mismatch */
export const SOLV_ERROR__VAULT_ADMIN_MISMATCH_ERROR = 0x1772; // 6002
/** SolvProtocolWalletAlreadySetError: solv protocol wallet already set */
export const SOLV_ERROR__SOLV_PROTOCOL_WALLET_ALREADY_SET_ERROR = 0x1773; // 6003
/** SolvProtocolWalletMismatchError: solv protocol wallet mismatch */
export const SOLV_ERROR__SOLV_PROTOCOL_WALLET_MISMATCH_ERROR = 0x1774; // 6004
/** InvalidSolvProtocolDepositFeeRateError: invalid srt deposit fee rate */
export const SOLV_ERROR__INVALID_SOLV_PROTOCOL_DEPOSIT_FEE_RATE_ERROR = 0x1775; // 6005
/** InvalidSolvProtocolWithdrawalFeeRateError: invalid srt withdrawal fee rate */
export const SOLV_ERROR__INVALID_SOLV_PROTOCOL_WITHDRAWAL_FEE_RATE_ERROR = 0x1776; // 6006
/** InvalidSolvProtocolExtraFeeAmountError: invalid srt extra fee amount */
export const SOLV_ERROR__INVALID_SOLV_PROTOCOL_EXTRA_FEE_AMOUNT_ERROR = 0x1777; // 6007
/** VaultSupportedTokenMintMismatchError: vault supported token mint mismatch */
export const SOLV_ERROR__VAULT_SUPPORTED_TOKEN_MINT_MISMATCH_ERROR = 0x1778; // 6008
/** SolvReceiptTokenMintMismatchError: solv receipt token mint mismatch */
export const SOLV_ERROR__SOLV_RECEIPT_TOKEN_MINT_MISMATCH_ERROR = 0x1779; // 6009
/** InvalidSRTPriceError: invalid srt price */
export const SOLV_ERROR__INVALID_S_R_T_PRICE_ERROR = 0x177a; // 6010
/** ExceededMaxWithdrawalRequestsError: exceeded max withdrawal requests */
export const SOLV_ERROR__EXCEEDED_MAX_WITHDRAWAL_REQUESTS_ERROR = 0x177b; // 6011
/** ExceededMaxDelegatedRewardTokensError: exceeded max delegated reward tokens */
export const SOLV_ERROR__EXCEEDED_MAX_DELEGATED_REWARD_TOKENS_ERROR = 0x177c; // 6012
/** NonDelegableRewardTokenMintError: non-delegable reward token mint */
export const SOLV_ERROR__NON_DELEGABLE_REWARD_TOKEN_MINT_ERROR = 0x177d; // 6013
/** DepositInProgressError: deposit in progress */
export const SOLV_ERROR__DEPOSIT_IN_PROGRESS_ERROR = 0x177e; // 6014
/** DepositNotInProgressError: deposit not in progress */
export const SOLV_ERROR__DEPOSIT_NOT_IN_PROGRESS_ERROR = 0x177f; // 6015
/** WithdrawalRequestNotFoundError: withdrawal request not found */
export const SOLV_ERROR__WITHDRAWAL_REQUEST_NOT_FOUND_ERROR = 0x1780; // 6016
/** VaultReceiptTokenMintMismatchError: vault receipt token mint mismatch */
export const SOLV_ERROR__VAULT_RECEIPT_TOKEN_MINT_MISMATCH_ERROR = 0x1781; // 6017

export type SolvError =
  | typeof SOLV_ERROR__CALCULATION_ARITHMETIC_EXCEPTION
  | typeof SOLV_ERROR__DEPOSIT_IN_PROGRESS_ERROR
  | typeof SOLV_ERROR__DEPOSIT_NOT_IN_PROGRESS_ERROR
  | typeof SOLV_ERROR__EXCEEDED_MAX_DELEGATED_REWARD_TOKENS_ERROR
  | typeof SOLV_ERROR__EXCEEDED_MAX_WITHDRAWAL_REQUESTS_ERROR
  | typeof SOLV_ERROR__INVALID_ACCOUNT_DATA_VERSION_ERROR
  | typeof SOLV_ERROR__INVALID_SOLV_PROTOCOL_DEPOSIT_FEE_RATE_ERROR
  | typeof SOLV_ERROR__INVALID_SOLV_PROTOCOL_EXTRA_FEE_AMOUNT_ERROR
  | typeof SOLV_ERROR__INVALID_SOLV_PROTOCOL_WITHDRAWAL_FEE_RATE_ERROR
  | typeof SOLV_ERROR__INVALID_S_R_T_PRICE_ERROR
  | typeof SOLV_ERROR__NON_DELEGABLE_REWARD_TOKEN_MINT_ERROR
  | typeof SOLV_ERROR__SOLV_PROTOCOL_WALLET_ALREADY_SET_ERROR
  | typeof SOLV_ERROR__SOLV_PROTOCOL_WALLET_MISMATCH_ERROR
  | typeof SOLV_ERROR__SOLV_RECEIPT_TOKEN_MINT_MISMATCH_ERROR
  | typeof SOLV_ERROR__VAULT_ADMIN_MISMATCH_ERROR
  | typeof SOLV_ERROR__VAULT_RECEIPT_TOKEN_MINT_MISMATCH_ERROR
  | typeof SOLV_ERROR__VAULT_SUPPORTED_TOKEN_MINT_MISMATCH_ERROR
  | typeof SOLV_ERROR__WITHDRAWAL_REQUEST_NOT_FOUND_ERROR;

let solvErrorMessages: Record<SolvError, string> | undefined;
if (process.env.NODE_ENV !== 'production') {
  solvErrorMessages = {
    [SOLV_ERROR__CALCULATION_ARITHMETIC_EXCEPTION]: `calculation arithmetic exception`,
    [SOLV_ERROR__DEPOSIT_IN_PROGRESS_ERROR]: `deposit in progress`,
    [SOLV_ERROR__DEPOSIT_NOT_IN_PROGRESS_ERROR]: `deposit not in progress`,
    [SOLV_ERROR__EXCEEDED_MAX_DELEGATED_REWARD_TOKENS_ERROR]: `exceeded max delegated reward tokens`,
    [SOLV_ERROR__EXCEEDED_MAX_WITHDRAWAL_REQUESTS_ERROR]: `exceeded max withdrawal requests`,
    [SOLV_ERROR__INVALID_ACCOUNT_DATA_VERSION_ERROR]: `invalid account data version`,
    [SOLV_ERROR__INVALID_SOLV_PROTOCOL_DEPOSIT_FEE_RATE_ERROR]: `invalid srt deposit fee rate`,
    [SOLV_ERROR__INVALID_SOLV_PROTOCOL_EXTRA_FEE_AMOUNT_ERROR]: `invalid srt extra fee amount`,
    [SOLV_ERROR__INVALID_SOLV_PROTOCOL_WITHDRAWAL_FEE_RATE_ERROR]: `invalid srt withdrawal fee rate`,
    [SOLV_ERROR__INVALID_S_R_T_PRICE_ERROR]: `invalid srt price`,
    [SOLV_ERROR__NON_DELEGABLE_REWARD_TOKEN_MINT_ERROR]: `non-delegable reward token mint`,
    [SOLV_ERROR__SOLV_PROTOCOL_WALLET_ALREADY_SET_ERROR]: `solv protocol wallet already set`,
    [SOLV_ERROR__SOLV_PROTOCOL_WALLET_MISMATCH_ERROR]: `solv protocol wallet mismatch`,
    [SOLV_ERROR__SOLV_RECEIPT_TOKEN_MINT_MISMATCH_ERROR]: `solv receipt token mint mismatch`,
    [SOLV_ERROR__VAULT_ADMIN_MISMATCH_ERROR]: `vault admin mismatch`,
    [SOLV_ERROR__VAULT_RECEIPT_TOKEN_MINT_MISMATCH_ERROR]: `vault receipt token mint mismatch`,
    [SOLV_ERROR__VAULT_SUPPORTED_TOKEN_MINT_MISMATCH_ERROR]: `vault supported token mint mismatch`,
    [SOLV_ERROR__WITHDRAWAL_REQUEST_NOT_FOUND_ERROR]: `withdrawal request not found`,
  };
}

export function getSolvErrorMessage(code: SolvError): string {
  if (process.env.NODE_ENV !== 'production') {
    return (solvErrorMessages as Record<SolvError, string>)[code];
  }

  return 'Error message not available in production bundles.';
}

export function isSolvError<TProgramErrorCode extends SolvError>(
  error: unknown,
  transactionMessage: {
    instructions: Record<number, { programAddress: Address }>;
  },
  code?: TProgramErrorCode
): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &
  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {
  return isProgramError<TProgramErrorCode>(
    error,
    transactionMessage,
    SOLV_PROGRAM_ADDRESS,
    code
  );
}
